"use strict";var l5=Object.defineProperty,c5=Object.defineProperties,u5=Object.getOwnPropertyDescriptors,aU=Object.getOwnPropertySymbols,d5=Object.prototype.hasOwnProperty,h5=Object.prototype.propertyIsEnumerable,lU=(re,H,M)=>H in re?l5(re,H,{enumerable:!0,configurable:!0,writable:!0,value:M}):re[H]=M,RI=(re,H)=>{for(var M in H||(H={}))d5.call(H,M)&&lU(re,M,H[M]);if(aU)for(var M of aU(H))h5.call(H,M)&&lU(re,M,H[M]);return re},OI=(re,H)=>c5(re,u5(H));(self.webpackChunkDemo_NGRX=self.webpackChunkDemo_NGRX||[]).push([[179],{2011:(re,H,M)=>{M.d(H,{hO:()=>Se,xv:()=>K,Dh:()=>ne,GT:()=>se,cc:()=>ve,on:()=>V,pX:()=>z});var u=M(5e3),q=M(9260),N=M(8405);re=M.hmd(re);const ie=["ngOnDestroy"],z=(be,Ke,qe,Re={})=>new Proxy(be,{get:(Ee,De)=>qe.runOutsideAngular(()=>{var Xe;if(be[De])return(null===(Xe=null==Re?void 0:Re.spy)||void 0===Xe?void 0:Xe.get)&&Re.spy.get(De,be[De]),be[De];if(ie.indexOf(De)>-1)return()=>{};const Qe=Ke.toPromise().then(bt=>{const me=bt&&bt[De];return"function"==typeof me?me.bind(bt):me&&me.then?me.then(At=>qe.run(()=>At)):qe.run(()=>me)});return new Proxy(()=>{},{get:(bt,me)=>Qe[me],apply:(bt,me,At)=>Qe.then(Bt=>{var Dt;const hn=Bt&&Bt(...At);return(null===(Dt=null==Re?void 0:Re.spy)||void 0===Dt?void 0:Dt.apply)&&Re.spy.apply(De,At,hn),hn})})})}),se=(be,Ke)=>{Ke.forEach(qe=>{Object.getOwnPropertyNames(qe.prototype||qe).forEach(Re=>{Object.defineProperty(be.prototype,Re,Object.getOwnPropertyDescriptor(qe.prototype||qe,Re))})})};class W{constructor(Ke){return Ke}}const ne=new u.OlP("angularfire2.app.options"),K=new u.OlP("angularfire2.app.name");function V(be,Ke,qe){const Ee="object"==typeof qe&&qe||{};Ee.name=Ee.name||"string"==typeof qe&&qe||"[DEFAULT]";const Xe=q.Z.apps.filter(Qe=>Qe&&Qe.name===Ee.name)[0]||Ke.runOutsideAngular(()=>q.Z.initializeApp(be,Ee));try{JSON.stringify(be)!==JSON.stringify(Xe.options)&&U("error",`${Xe.name} Firebase App already initialized with different options${re.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Qe){}return new W(Xe)}const U=(be,...Ke)=>{(0,u.X6Q)()&&"undefined"!=typeof console&&console[be](...Ke)},Q={provide:W,useFactory:V,deps:[ne,u.R0b,[new u.FiY,K]]};let Se=(()=>{class be{constructor(qe){q.Z.registerVersion("angularfire",N.q4.full,"core"),q.Z.registerVersion("angularfire",N.q4.full,"app-compat"),q.Z.registerVersion("angular",u.q4F.full,qe.toString())}static initializeApp(qe,Re){return{ngModule:be,providers:[{provide:ne,useValue:qe},{provide:K,useValue:Re}]}}}return be.\u0275fac=function(qe){return new(qe||be)(u.LFG(u.Lbi))},be.\u0275mod=u.oAB({type:be}),be.\u0275inj=u.cJS({providers:[Q]}),be})();function ve(be,Ke,qe,Re,Ee){const[,De,Xe]=globalThis.\u0275AngularfireInstanceCache.find(Qe=>Qe[0]===be)||[];if(De)return function Oe(be,Ke){try{return be.toString()===Ke.toString()}catch(qe){return be===Ke}}(Ee,Xe)||(ye("error",`${Ke} was already initialized on the ${qe} Firebase App with different settings.${je?" You may need to reload as Firebase is not HMR aware.":""}`),ye("warn",{is:Ee,was:Xe})),De;{const Qe=Re();return globalThis.\u0275AngularfireInstanceCache.push([be,Qe,Ee]),Qe}}const je=!!re.hot,ye=(be,...Ke)=>{(0,u.X6Q)()&&"undefined"!=typeof console&&console[be](...Ke)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},8405:(re,H,M)=>{M.d(H,{q4:()=>gf,iC:()=>Rd,HU:()=>Dc,vb:()=>xd,JM:()=>sa});var u=M(5e3),q=M(259),N=M(5861),ie=M(6881),z=M(2090),se=M(4859),W=M(1877);let K,V;const Se=new WeakMap,ve=new WeakMap,Oe=new WeakMap,je=new WeakMap,ye=new WeakMap;let qe={get(w,I,O){if(w instanceof IDBTransaction){if("done"===I)return ve.get(w);if("objectStoreNames"===I)return w.objectStoreNames||Oe.get(w);if("store"===I)return O.objectStoreNames[1]?void 0:O.objectStore(O.objectStoreNames[0])}return Xe(w[I])},set:(w,I,O)=>(w[I]=O,!0),has:(w,I)=>w instanceof IDBTransaction&&("done"===I||"store"===I)||I in w};function De(w){return"function"==typeof w?function Ee(w){return w!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Q(){return V||(V=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(w)?function(...I){return w.apply(Qe(this),I),Xe(Se.get(this))}:function(...I){return Xe(w.apply(Qe(this),I))}:function(I,...O){const L=w.call(Qe(this),I,...O);return Oe.set(L,I.sort?I.sort():[I]),Xe(L)}}(w):(w instanceof IDBTransaction&&function Ke(w){if(ve.has(w))return;const I=new Promise((O,L)=>{const te=()=>{w.removeEventListener("complete",ce),w.removeEventListener("error",Ie),w.removeEventListener("abort",Ie)},ce=()=>{O(),te()},Ie=()=>{L(w.error||new DOMException("AbortError","AbortError")),te()};w.addEventListener("complete",ce),w.addEventListener("error",Ie),w.addEventListener("abort",Ie)});ve.set(w,I)}(w),((w,I)=>I.some(O=>w instanceof O))(w,function U(){return K||(K=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(w,qe):w)}function Xe(w){if(w instanceof IDBRequest)return function be(w){const I=new Promise((O,L)=>{const te=()=>{w.removeEventListener("success",ce),w.removeEventListener("error",Ie)},ce=()=>{O(Xe(w.result)),te()},Ie=()=>{L(w.error),te()};w.addEventListener("success",ce),w.addEventListener("error",Ie)});return I.then(O=>{O instanceof IDBCursor&&Se.set(O,w)}).catch(()=>{}),ye.set(I,w),I}(w);if(je.has(w))return je.get(w);const I=De(w);return I!==w&&(je.set(w,I),ye.set(I,w)),I}const Qe=w=>ye.get(w),At=["get","getKey","getAll","getAllKeys","count"],Bt=["put","add","delete","clear"],Dt=new Map;function hn(w,I){if(!(w instanceof IDBDatabase)||I in w||"string"!=typeof I)return;if(Dt.get(I))return Dt.get(I);const O=I.replace(/FromIndex$/,""),L=I!==O,te=Bt.includes(O);if(!(O in(L?IDBIndex:IDBObjectStore).prototype)||!te&&!At.includes(O))return;const ce=function(){var Ie=(0,N.Z)(function*(st,...rt){const _t=this.transaction(st,te?"readwrite":"readonly");let Lt=_t.store;return L&&(Lt=Lt.index(rt.shift())),(yield Promise.all([Lt[O](...rt),te&&_t.done]))[0]});return function(rt){return Ie.apply(this,arguments)}}();return Dt.set(I,ce),ce}!function Re(w){qe=w(qe)}(w=>OI(RI({},w),{get:(I,O,L)=>hn(I,O)||w.get(I,O,L),has:(I,O)=>!!hn(I,O)||w.has(I,O)}));const le="@firebase/installations",He="w:0.6.4",Ge="FIS_v2",Qt=new z.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function yn(w){return w instanceof z.ZR&&w.code.includes("request-failed")}function zt({projectId:w}){return`https://firebaseinstallations.googleapis.com/v1/projects/${w}/installations`}function vn(w){return{token:w.token,requestStatus:2,expiresIn:qs(w.expiresIn),creationTime:Date.now()}}function Gn(w,I){return gr.apply(this,arguments)}function gr(){return(gr=(0,N.Z)(function*(w,I){const L=(yield I.json()).error;return Qt.create("request-failed",{requestName:w,serverCode:L.code,serverMessage:L.message,serverStatus:L.status})})).apply(this,arguments)}function ni({apiKey:w}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":w})}function nr(w,{refreshToken:I}){const O=ni(w);return O.append("Authorization",function It(w){return`${Ge} ${w}`}(I)),O}function Ji(w){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,N.Z)(function*(w){const I=yield w();return I.status>=500&&I.status<600?w():I})).apply(this,arguments)}function qs(w){return Number(w.replace("s","000"))}function mo(w,I){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,N.Z)(function*({appConfig:w,heartbeatServiceProvider:I},{fid:O}){const L=zt(w),te=ni(w),ce=I.getImmediate({optional:!0});if(ce){const _t=yield ce.getHeartbeatsHeader();_t&&te.append("x-firebase-client",_t)}const st={method:"POST",headers:te,body:JSON.stringify({fid:O,authVersion:Ge,appId:w.appId,sdkVersion:He})},rt=yield Ji(()=>fetch(L,st));if(rt.ok){const _t=yield rt.json();return{fid:_t.fid||O,registrationStatus:2,refreshToken:_t.refreshToken,authToken:vn(_t.authToken)}}throw yield Gn("Create Installation",rt)})).apply(this,arguments)}function rr(w){return new Promise(I=>{setTimeout(I,w)})}const _a=/^[cdef][\w-]{21}$/;function ur(){try{const w=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(w),w[0]=112+w[0]%16;const O=function _r(w){return function Ws(w){return btoa(String.fromCharCode(...w)).replace(/\+/g,"-").replace(/\//g,"_")}(w).substr(0,22)}(w);return _a.test(O)?O:""}catch(w){return""}}function ri(w){return`${w.appName}!${w.appId}`}const Nt=new Map;function wt(w,I){const O=ri(w);es(O,I),function Zt(w,I){const O=function Wn(){return!Fr&&"BroadcastChannel"in self&&(Fr=new BroadcastChannel("[Firebase] FID Change"),Fr.onmessage=w=>{es(w.data.key,w.data.fid)}),Fr}();O&&O.postMessage({key:w,fid:I}),function fi(){0===Nt.size&&Fr&&(Fr.close(),Fr=null)}()}(O,I)}function es(w,I){const O=Nt.get(w);if(O)for(const L of O)L(I)}let Fr=null;const on="firebase-installations-store";let pi=null;function yr(){return pi||(pi=function bt(w,I,{blocked:O,upgrade:L,blocking:te,terminated:ce}={}){const Ie=indexedDB.open(w,I),st=Xe(Ie);return L&&Ie.addEventListener("upgradeneeded",rt=>{L(Xe(Ie.result),rt.oldVersion,rt.newVersion,Xe(Ie.transaction))}),O&&Ie.addEventListener("blocked",()=>O()),st.then(rt=>{ce&&rt.addEventListener("close",()=>ce()),te&&rt.addEventListener("versionchange",()=>te())}).catch(()=>{}),st}("firebase-installations-database",1,{upgrade:(w,I)=>{0===I&&w.createObjectStore(on)}})),pi}function On(w,I){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,N.Z)(function*(w,I){const O=ri(w),te=(yield yr()).transaction(on,"readwrite"),ce=te.objectStore(on),Ie=yield ce.get(O);return yield ce.put(I,O),yield te.done,(!Ie||Ie.fid!==I.fid)&&wt(w,I.fid),I})).apply(this,arguments)}function ns(w){return ir.apply(this,arguments)}function ir(){return(ir=(0,N.Z)(function*(w){const I=ri(w),L=(yield yr()).transaction(on,"readwrite");yield L.objectStore(on).delete(I),yield L.done})).apply(this,arguments)}function Bi(w,I){return dr.apply(this,arguments)}function dr(){return(dr=(0,N.Z)(function*(w,I){const O=ri(w),te=(yield yr()).transaction(on,"readwrite"),ce=te.objectStore(on),Ie=yield ce.get(O),st=I(Ie);return void 0===st?yield ce.delete(O):yield ce.put(st,O),yield te.done,st&&(!Ie||Ie.fid!==st.fid)&&wt(w,st.fid),st})).apply(this,arguments)}function Y(w){return G.apply(this,arguments)}function G(){return(G=(0,N.Z)(function*(w){let I;const O=yield Bi(w.appConfig,L=>{const te=oe(L),ce=Pe(w,te);return I=ce.registrationPromise,ce.installationEntry});return""===O.fid?{installationEntry:yield I}:{installationEntry:O,registrationPromise:I}})).apply(this,arguments)}function oe(w){return Sn(w||{fid:ur(),registrationStatus:0})}function Pe(w,I){if(0===I.registrationStatus){if(!navigator.onLine)return{installationEntry:I,registrationPromise:Promise.reject(Qt.create("app-offline"))};const O={fid:I.fid,registrationStatus:1,registrationTime:Date.now()},L=function pe(w,I){return ut.apply(this,arguments)}(w,O);return{installationEntry:O,registrationPromise:L}}return 1===I.registrationStatus?{installationEntry:I,registrationPromise:Vt(w)}:{installationEntry:I}}function ut(){return(ut=(0,N.Z)(function*(w,I){try{const O=yield mo(w,I);return On(w.appConfig,O)}catch(O){throw yn(O)&&409===O.customData.serverCode?yield ns(w.appConfig):yield On(w.appConfig,{fid:I.fid,registrationStatus:0}),O}})).apply(this,arguments)}function Vt(w){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,N.Z)(function*(w){let I=yield Nn(w.appConfig);for(;1===I.registrationStatus;)yield rr(100),I=yield Nn(w.appConfig);if(0===I.registrationStatus){const{installationEntry:O,registrationPromise:L}=yield Y(w);return L||O}return I})).apply(this,arguments)}function Nn(w){return Bi(w,I=>{if(!I)throw Qt.create("installation-not-found");return Sn(I)})}function Sn(w){return function En(w){return 1===w.registrationStatus&&w.registrationTime+1e4<Date.now()}(w)?{fid:w.fid,registrationStatus:0}:w}function qt(w,I){return vr.apply(this,arguments)}function vr(){return(vr=(0,N.Z)(function*({appConfig:w,heartbeatServiceProvider:I},O){const L=Wr(w,O),te=nr(w,O),ce=I.getImmediate({optional:!0});if(ce){const _t=yield ce.getHeartbeatsHeader();_t&&te.append("x-firebase-client",_t)}const st={method:"POST",headers:te,body:JSON.stringify({installation:{sdkVersion:He,appId:w.appId}})},rt=yield Ji(()=>fetch(L,st));if(rt.ok)return vn(yield rt.json());throw yield Gn("Generate Auth Token",rt)})).apply(this,arguments)}function Wr(w,{fid:I}){return`${zt(w)}/${I}/authTokens:generate`}function Lr(w){return mi.apply(this,arguments)}function mi(){return(mi=(0,N.Z)(function*(w,I=!1){let O;const L=yield Bi(w.appConfig,ce=>{if(!pt(ce))throw Qt.create("not-registered");const Ie=ce.authToken;if(!I&&Wt(Ie))return ce;if(1===Ie.requestStatus)return O=_e(w,I),ce;{if(!navigator.onLine)throw Qt.create("app-offline");const st=cn(ce);return O=Me(w,st),st}});return O?yield O:L.authToken})).apply(this,arguments)}function _e(w,I){return fe.apply(this,arguments)}function fe(){return(fe=(0,N.Z)(function*(w,I){let O=yield Be(w.appConfig);for(;1===O.authToken.requestStatus;)yield rr(100),O=yield Be(w.appConfig);const L=O.authToken;return 0===L.requestStatus?Lr(w,I):L})).apply(this,arguments)}function Be(w){return Bi(w,I=>{if(!pt(I))throw Qt.create("not-registered");return function sr(w){return 1===w.requestStatus&&w.requestTime+1e4<Date.now()}(I.authToken)?Object.assign(Object.assign({},I),{authToken:{requestStatus:0}}):I})}function Me(w,I){return et.apply(this,arguments)}function et(){return(et=(0,N.Z)(function*(w,I){try{const O=yield qt(w,I),L=Object.assign(Object.assign({},I),{authToken:O});return yield On(w.appConfig,L),O}catch(O){if(!yn(O)||401!==O.customData.serverCode&&404!==O.customData.serverCode){const L=Object.assign(Object.assign({},I),{authToken:{requestStatus:0}});yield On(w.appConfig,L)}else yield ns(w.appConfig);throw O}})).apply(this,arguments)}function pt(w){return void 0!==w&&2===w.registrationStatus}function Wt(w){return 2===w.requestStatus&&!function Bn(w){const I=Date.now();return I<w.creationTime||w.creationTime+w.expiresIn<I+36e5}(w)}function cn(w){const I={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},w),{authToken:I})}function Cs(){return(Cs=(0,N.Z)(function*(w){const I=w,{installationEntry:O,registrationPromise:L}=yield Y(I);return L?L.catch(console.error):Lr(I).catch(console.error),O.fid})).apply(this,arguments)}function Kt(){return(Kt=(0,N.Z)(function*(w,I=!1){const O=w;return yield Ho(O),(yield Lr(O,I)).token})).apply(this,arguments)}function Ho(w){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,N.Z)(function*(w){const{registrationPromise:I}=yield Y(w);I&&(yield I)})).apply(this,arguments)}function Je(w){return Qt.create("missing-app-config-values",{valueName:w})}const Ye="installations",or=w=>{const I=w.getProvider("app").getImmediate(),O=function Ce(w){if(!w||!w.options)throw Je("App Configuration");if(!w.name)throw Je("App Name");const I=["projectId","apiKey","appId"];for(const O of I)if(!w.options[O])throw Je(O);return{appName:w.name,projectId:w.options.projectId,apiKey:w.options.apiKey,appId:w.options.appId}}(I);return{app:I,appConfig:O,heartbeatServiceProvider:(0,ie._getProvider)(I,"heartbeat"),_delete:()=>Promise.resolve()}},Cn=w=>{const I=w.getProvider("app").getImmediate(),O=(0,ie._getProvider)(I,Ye).getImmediate();return{getId:()=>function wn(w){return Cs.apply(this,arguments)}(O),getToken:te=>function go(w){return Kt.apply(this,arguments)}(O,te)}};(function Er(){(0,ie._registerComponent)(new se.wA(Ye,or,"PUBLIC")),(0,ie._registerComponent)(new se.wA("installations-internal",Cn,"PRIVATE"))})(),(0,ie.registerVersion)(le,"0.6.4"),(0,ie.registerVersion)(le,"0.6.4","esm2017");const Jt="@firebase/remote-config",si=new z.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Is{constructor(I,O,L,te){this.client=I,this.storage=O,this.storageCache=L,this.logger=te}isCachedDataFresh(I,O){if(!O)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const L=Date.now()-O,te=L<=I;return this.logger.debug(`Config fetch cache check. Cache age millis: ${L}. Cache max age millis (minimumFetchIntervalMillis setting): ${I}. Is cache hit: ${te}.`),te}fetch(I){var O=this;return(0,N.Z)(function*(){const[L,te]=yield Promise.all([O.storage.getLastSuccessfulFetchTimestampMillis(),O.storage.getLastSuccessfulFetchResponse()]);if(te&&O.isCachedDataFresh(I.cacheMaxAgeMillis,L))return te;I.eTag=te&&te.eTag;const ce=yield O.client.fetch(I),Ie=[O.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ce.status&&Ie.push(O.storage.setLastSuccessfulFetchResponse(ce)),yield Promise.all(Ie),ce})()}}function il(w=navigator){return w.languages&&w.languages[0]||w.language}class ya{constructor(I,O,L,te,ce,Ie){this.firebaseInstallations=I,this.sdkVersion=O,this.namespace=L,this.projectId=te,this.apiKey=ce,this.appId=Ie}fetch(I){var O=this;return(0,N.Z)(function*(){const[L,te]=yield Promise.all([O.firebaseInstallations.getId(),O.firebaseInstallations.getToken()]),Ie=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${O.projectId}/namespaces/${O.namespace}:fetch?key=${O.apiKey}`,st={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":I.eTag||"*"},rt={sdk_version:O.sdkVersion,app_instance_id:L,app_instance_id_token:te,app_id:O.appId,language_code:il()},_t={method:"POST",headers:st,body:JSON.stringify(rt)},Lt=fetch(Ie,_t),$t=new Promise((ci,ps)=>{I.signal.addEventListener(()=>{const oa=new Error("The operation was aborted.");oa.name="AbortError",ps(oa)})});let wi;try{yield Promise.race([Lt,$t]),wi=yield Lt}catch(ci){let ps="fetch-client-network";throw"AbortError"===(null==ci?void 0:ci.name)&&(ps="fetch-timeout"),si.create(ps,{originalErrorMessage:null==ci?void 0:ci.message})}let $r=wi.status;const no=wi.headers.get("ETag")||void 0;let Sl,Ci;if(200===wi.status){let ci;try{ci=yield wi.json()}catch(ps){throw si.create("fetch-client-parse",{originalErrorMessage:null==ps?void 0:ps.message})}Sl=ci.entries,Ci=ci.state}if("INSTANCE_STATE_UNSPECIFIED"===Ci?$r=500:"NO_CHANGE"===Ci?$r=304:("NO_TEMPLATE"===Ci||"EMPTY_CONFIG"===Ci)&&(Sl={}),304!==$r&&200!==$r)throw si.create("fetch-status",{httpStatus:$r});return{status:$r,eTag:no,config:Sl}})()}}class Gl{constructor(I,O){this.client=I,this.storage=O}fetch(I){var O=this;return(0,N.Z)(function*(){const L=(yield O.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return O.attemptFetch(I,L)})()}attemptFetch(I,{throttleEndTimeMillis:O,backoffCount:L}){var te=this;return(0,N.Z)(function*(){yield function ef(w,I){return new Promise((O,L)=>{const te=Math.max(I-Date.now(),0),ce=setTimeout(O,te);w.addEventListener(()=>{clearTimeout(ce),L(si.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}(I.signal,O);try{const ce=yield te.client.fetch(I);return yield te.storage.deleteThrottleMetadata(),ce}catch(ce){if(!function gd(w){if(!(w instanceof z.ZR&&w.customData))return!1;const I=Number(w.customData.httpStatus);return 429===I||500===I||503===I||504===I}(ce))throw ce;const Ie={throttleEndTimeMillis:Date.now()+(0,z.$s)(L),backoffCount:L+1};return yield te.storage.setThrottleMetadata(Ie),te.attemptFetch(I,Ie)}})()}}class ru{constructor(I,O,L,te,ce){this.app=I,this._client=O,this._storageCache=L,this._storage=te,this._logger=ce,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function va(w,I){const O=w.target.error||void 0;return si.create(I,{originalErrorMessage:O&&(null==O?void 0:O.message)})}const Kn="app_namespace_store";class k_{constructor(I,O,L,te=function Ea(){return new Promise((w,I)=>{try{const O=indexedDB.open("firebase_remote_config",1);O.onerror=L=>{I(va(L,"storage-open"))},O.onsuccess=L=>{w(L.target.result)},O.onupgradeneeded=L=>{0===L.oldVersion&&L.target.result.createObjectStore(Kn,{keyPath:"compositeKey"})}}catch(O){I(si.create("storage-open",{originalErrorMessage:null==O?void 0:O.message}))}})}()){this.appId=I,this.appName=O,this.namespace=L,this.openDbPromise=te}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(I){return this.set("last_fetch_status",I)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(I){return this.set("last_successful_fetch_timestamp_millis",I)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(I){return this.set("last_successful_fetch_response",I)}getActiveConfig(){return this.get("active_config")}setActiveConfig(I){return this.set("active_config",I)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(I){return this.set("active_config_etag",I)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(I){return this.set("throttle_metadata",I)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(I){var O=this;return(0,N.Z)(function*(){const L=yield O.openDbPromise;return new Promise((te,ce)=>{const st=L.transaction([Kn],"readonly").objectStore(Kn),rt=O.createCompositeKey(I);try{const _t=st.get(rt);_t.onerror=Lt=>{ce(va(Lt,"storage-get"))},_t.onsuccess=Lt=>{const $t=Lt.target.result;te($t?$t.value:void 0)}}catch(_t){ce(si.create("storage-get",{originalErrorMessage:null==_t?void 0:_t.message}))}})})()}set(I,O){var L=this;return(0,N.Z)(function*(){const te=yield L.openDbPromise;return new Promise((ce,Ie)=>{const rt=te.transaction([Kn],"readwrite").objectStore(Kn),_t=L.createCompositeKey(I);try{const Lt=rt.put({compositeKey:_t,value:O});Lt.onerror=$t=>{Ie(va($t,"storage-set"))},Lt.onsuccess=()=>{ce()}}catch(Lt){Ie(si.create("storage-set",{originalErrorMessage:null==Lt?void 0:Lt.message}))}})})()}delete(I){var O=this;return(0,N.Z)(function*(){const L=yield O.openDbPromise;return new Promise((te,ce)=>{const st=L.transaction([Kn],"readwrite").objectStore(Kn),rt=O.createCompositeKey(I);try{const _t=st.delete(rt);_t.onerror=Lt=>{ce(va(Lt,"storage-delete"))},_t.onsuccess=()=>{te()}}catch(_t){ce(si.create("storage-delete",{originalErrorMessage:null==_t?void 0:_t.message}))}})})()}createCompositeKey(I){return[this.appId,this.appName,this.namespace,I].join()}}class iu{constructor(I){this.storage=I}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var I=this;return(0,N.Z)(function*(){const O=I.storage.getLastFetchStatus(),L=I.storage.getLastSuccessfulFetchTimestampMillis(),te=I.storage.getActiveConfig(),ce=yield O;ce&&(I.lastFetchStatus=ce);const Ie=yield L;Ie&&(I.lastSuccessfulFetchTimestampMillis=Ie);const st=yield te;st&&(I.activeConfig=st)})()}setLastFetchStatus(I){return this.lastFetchStatus=I,this.storage.setLastFetchStatus(I)}setLastSuccessfulFetchTimestampMillis(I){return this.lastSuccessfulFetchTimestampMillis=I,this.storage.setLastSuccessfulFetchTimestampMillis(I)}setActiveConfig(I){return this.activeConfig=I,this.storage.setActiveConfig(I)}}function sm(){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,N.Z)(function*(){if(!(0,z.hl)())return!1;try{return yield(0,z.eu)()}catch(w){return!1}})).apply(this,arguments)}let Wl,Dn;!function rs(){(0,ie._registerComponent)(new se.wA("remote-config",function w(I,{instanceIdentifier:O}){const L=I.getProvider("app").getImmediate(),te=I.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw si.create("registration-window");if(!(0,z.hl)())throw si.create("indexed-db-unavailable");const{projectId:ce,apiKey:Ie,appId:st}=L.options;if(!ce)throw si.create("registration-project-id");if(!Ie)throw si.create("registration-api-key");if(!st)throw si.create("registration-app-id");const rt=new k_(st,L.name,O=O||"firebase"),_t=new iu(rt),Lt=new W.Yd(Jt);Lt.logLevel=W.in.ERROR;const $t=new ya(te,ie.SDK_VERSION,O,ce,Ie,st),wi=new Gl($t,rt),$r=new Is(wi,rt,_t,Lt),no=new ru(L,$r,_t,rt,Lt);return function rm(w){const I=(0,z.m9)(w);I._initializePromise||(I._initializePromise=I._storageCache.loadFromStorage().then(()=>{I._isInitializationComplete=!0}))}(no),no},"PUBLIC").setMultipleInstances(!0)),(0,ie.registerVersion)(Jt,"0.4.4"),(0,ie.registerVersion)(Jt,"0.4.4","esm2017")}();const Ca=new WeakMap,Ar=new WeakMap,Kl=new WeakMap,Zr=new WeakMap,is=new WeakMap;let ss={get(w,I,O){if(w instanceof IDBTransaction){if("done"===I)return Ar.get(w);if("objectStoreNames"===I)return w.objectStoreNames||Kl.get(w);if("store"===I)return O.objectStoreNames[1]?void 0:O.objectStore(O.objectStoreNames[0])}return gi(w[I])},set:(w,I,O)=>(w[I]=O,!0),has:(w,I)=>w instanceof IDBTransaction&&("done"===I||"store"===I)||I in w};function Da(w){return"function"==typeof w?function Ss(w){return w!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function wa(){return Dn||(Dn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(w)?function(...I){return w.apply(Ot(this),I),gi(Ca.get(this))}:function(...I){return gi(w.apply(Ot(this),I))}:function(I,...O){const L=w.call(Ot(this),I,...O);return Kl.set(L,I.sort?I.sort():[I]),gi(L)}}(w):(w instanceof IDBTransaction&&function Go(w){if(Ar.has(w))return;const I=new Promise((O,L)=>{const te=()=>{w.removeEventListener("complete",ce),w.removeEventListener("error",Ie),w.removeEventListener("abort",Ie)},ce=()=>{O(),te()},Ie=()=>{L(w.error||new DOMException("AbortError","AbortError")),te()};w.addEventListener("complete",ce),w.addEventListener("error",Ie),w.addEventListener("abort",Ie)});Ar.set(w,I)}(w),((w,I)=>I.some(O=>w instanceof O))(w,function nf(){return Wl||(Wl=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(w,ss):w)}function gi(w){if(w instanceof IDBRequest)return function xi(w){const I=new Promise((O,L)=>{const te=()=>{w.removeEventListener("success",ce),w.removeEventListener("error",Ie)},ce=()=>{O(gi(w.result)),te()},Ie=()=>{L(w.error),te()};w.addEventListener("success",ce),w.addEventListener("error",Ie)});return I.then(O=>{O instanceof IDBCursor&&Ca.set(O,w)}).catch(()=>{}),is.set(I,w),I}(w);if(Zr.has(w))return Zr.get(w);const I=Da(w);return I!==w&&(Zr.set(w,I),is.set(I,w)),I}const Ot=w=>is.get(w);function ol(w,I,{blocked:O,upgrade:L,blocking:te,terminated:ce}={}){const Ie=indexedDB.open(w,I),st=gi(Ie);return L&&Ie.addEventListener("upgradeneeded",rt=>{L(gi(Ie.result),rt.oldVersion,rt.newVersion,gi(Ie.transaction))}),O&&Ie.addEventListener("blocked",()=>O()),st.then(rt=>{ce&&rt.addEventListener("close",()=>ce()),te&&rt.addEventListener("versionchange",()=>te())}).catch(()=>{}),st}function qo(w,{blocked:I}={}){const O=indexedDB.deleteDatabase(w);return I&&O.addEventListener("blocked",()=>I()),gi(O).then(()=>{})}const Zl=["get","getKey","getAll","getAllKeys","count"],_d=["put","add","delete","clear"],Ia=new Map;function au(w,I){if(!(w instanceof IDBDatabase)||I in w||"string"!=typeof I)return;if(Ia.get(I))return Ia.get(I);const O=I.replace(/FromIndex$/,""),L=I!==O,te=_d.includes(O);if(!(O in(L?IDBIndex:IDBObjectStore).prototype)||!te&&!Zl.includes(O))return;const ce=function(){var Ie=(0,N.Z)(function*(st,...rt){const _t=this.transaction(st,te?"readwrite":"readonly");let Lt=_t.store;return L&&(Lt=Lt.index(rt.shift())),(yield Promise.all([Lt[O](...rt),te&&_t.done]))[0]});return function(rt){return Ie.apply(this,arguments)}}();return Ia.set(I,ce),ce}!function ou(w){ss=w(ss)}(w=>OI(RI({},w),{get:(I,O,L)=>au(I,O)||w.get(I,O,L),has:(I,O)=>!!au(I,O)||w.has(I,O)}));const lu="/firebase-messaging-sw.js",Ue="/firebase-cloud-messaging-push-scope",un="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Un="google.c.a.c_id",al="google.c.a.c_l",Wo="google.c.a.ts",os="google.c.a.e";var _o=(()=>{return(w=_o||(_o={})).PUSH_RECEIVED="push-received",w.NOTIFICATION_CLICKED="notification-clicked",_o;var w})();function As(w){const I=new Uint8Array(w);return btoa(String.fromCharCode(...I)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ta(w){const O=(w+"=".repeat((4-w.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),L=atob(O),te=new Uint8Array(L.length);for(let ce=0;ce<L.length;++ce)te[ce]=L.charCodeAt(ce);return te}const yo="fcm_token_details_db",ar="fcm_token_object_Store";function Ks(w){return Aa.apply(this,arguments)}function Aa(){return Aa=(0,N.Z)(function*(w){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ce=>ce.name).includes(yo))return null;let I=null;return(yield ol(yo,5,{upgrade:(L=(0,N.Z)(function*(te,ce,Ie,st){var rt;if(ce<2||!te.objectStoreNames.contains(ar))return;const _t=st.objectStore(ar),Lt=yield _t.index("fcmSenderId").get(w);if(yield _t.clear(),Lt)if(2===ce){const $t=Lt;if(!$t.auth||!$t.p256dh||!$t.endpoint)return;I={token:$t.fcmToken,createTime:null!==(rt=$t.createTime)&&void 0!==rt?rt:Date.now(),subscriptionOptions:{auth:$t.auth,p256dh:$t.p256dh,endpoint:$t.endpoint,swScope:$t.swScope,vapidKey:"string"==typeof $t.vapidKey?$t.vapidKey:As($t.vapidKey)}}}else if(3===ce){const $t=Lt;I={token:$t.fcmToken,createTime:$t.createTime,subscriptionOptions:{auth:As($t.auth),p256dh:As($t.p256dh),endpoint:$t.endpoint,swScope:$t.swScope,vapidKey:As($t.vapidKey)}}}else if(4===ce){const $t=Lt;I={token:$t.fcmToken,createTime:$t.createTime,subscriptionOptions:{auth:As($t.auth),p256dh:As($t.p256dh),endpoint:$t.endpoint,swScope:$t.swScope,vapidKey:As($t.vapidKey)}}}}),function(ce,Ie,st,rt){return L.apply(this,arguments)})})).close(),yield qo(yo),yield qo("fcm_vapid_details_db"),yield qo("undefined"),Ma(I)?I:null;var L}),Aa.apply(this,arguments)}function Ma(w){if(!w||!w.subscriptionOptions)return!1;const{subscriptionOptions:I}=w;return"number"==typeof w.createTime&&w.createTime>0&&"string"==typeof w.token&&w.token.length>0&&"string"==typeof I.auth&&I.auth.length>0&&"string"==typeof I.p256dh&&I.p256dh.length>0&&"string"==typeof I.endpoint&&I.endpoint.length>0&&"string"==typeof I.swScope&&I.swScope.length>0&&"string"==typeof I.vapidKey&&I.vapidKey.length>0}const Ms="firebase-messaging-store";let Ql=null;function ll(){return Ql||(Ql=ol("firebase-messaging-database",1,{upgrade:(w,I)=>{0===I&&w.createObjectStore(Ms)}})),Ql}function Xl(w){return vo.apply(this,arguments)}function vo(){return(vo=(0,N.Z)(function*(w){const I=Eo(w),L=yield(yield ll()).transaction(Ms).objectStore(Ms).get(I);if(L)return L;{const te=yield Ks(w.appConfig.senderId);if(te)return yield cu(w,te),te}})).apply(this,arguments)}function cu(w,I){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,N.Z)(function*(w,I){const O=Eo(w),te=(yield ll()).transaction(Ms,"readwrite");return yield te.objectStore(Ms).put(I,O),yield te.done,I})).apply(this,arguments)}function om(w){return uu.apply(this,arguments)}function uu(){return(uu=(0,N.Z)(function*(w){const I=Eo(w),L=(yield ll()).transaction(Ms,"readwrite");yield L.objectStore(Ms).delete(I),yield L.done})).apply(this,arguments)}function Eo({appConfig:w}){return w.appId}const Mr=new z.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function du(w,I){return hu.apply(this,arguments)}function hu(){return(hu=(0,N.Z)(function*(w,I){const O=yield jn(w),L=sf(I),te={method:"POST",headers:O,body:JSON.stringify(L)};let ce;try{ce=yield(yield fetch(_i(w.appConfig),te)).json()}catch(Ie){throw Mr.create("token-subscribe-failed",{errorInfo:null==Ie?void 0:Ie.toString()})}if(ce.error)throw Mr.create("token-subscribe-failed",{errorInfo:ce.error.message});if(!ce.token)throw Mr.create("token-subscribe-no-token");return ce.token})).apply(this,arguments)}function Zo(w,I){return xs.apply(this,arguments)}function xs(){return(xs=(0,N.Z)(function*(w,I){const O=yield jn(w),L=sf(I.subscriptionOptions),te={method:"PATCH",headers:O,body:JSON.stringify(L)};let ce;try{ce=yield(yield fetch(`${_i(w.appConfig)}/${I.token}`,te)).json()}catch(Ie){throw Mr.create("token-update-failed",{errorInfo:null==Ie?void 0:Ie.toString()})}if(ce.error)throw Mr.create("token-update-failed",{errorInfo:ce.error.message});if(!ce.token)throw Mr.create("token-update-no-token");return ce.token})).apply(this,arguments)}function Jl(w,I){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,N.Z)(function*(w,I){const L={method:"DELETE",headers:yield jn(w)};try{const ce=yield(yield fetch(`${_i(w.appConfig)}/${I}`,L)).json();if(ce.error)throw Mr.create("token-unsubscribe-failed",{errorInfo:ce.error.message})}catch(te){throw Mr.create("token-unsubscribe-failed",{errorInfo:null==te?void 0:te.toString()})}})).apply(this,arguments)}function _i({projectId:w}){return`https://fcmregistrations.googleapis.com/v1/projects/${w}/registrations`}function jn(w){return ec.apply(this,arguments)}function ec(){return(ec=(0,N.Z)(function*({appConfig:w,installations:I}){const O=yield I.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":w.apiKey,"x-goog-firebase-installations-auth":`FIS ${O}`})})).apply(this,arguments)}function sf({p256dh:w,auth:I,endpoint:O,vapidKey:L}){const te={web:{endpoint:O,auth:I,p256dh:w}};return L!==un&&(te.web.applicationPubKey=L),te}const Ed=6048e5;function af(w){return tc.apply(this,arguments)}function tc(){return(tc=(0,N.Z)(function*(w){const I=yield lf(w.swRegistration,w.vapidKey),O={vapidKey:w.vapidKey,swScope:w.swRegistration.scope,endpoint:I.endpoint,auth:As(I.getKey("auth")),p256dh:As(I.getKey("p256dh"))},L=yield Xl(w.firebaseDependencies);if(L){if(ic(L.subscriptionOptions,O))return Date.now()>=L.createTime+Ed?nc(w,{token:L.token,createTime:Date.now(),subscriptionOptions:O}):L.token;try{yield Jl(w.firebaseDependencies,L.token)}catch(te){console.warn(te)}return rc(w.firebaseDependencies,O)}return rc(w.firebaseDependencies,O)})).apply(this,arguments)}function bd(w){return cl.apply(this,arguments)}function cl(){return(cl=(0,N.Z)(function*(w){const I=yield Xl(w.firebaseDependencies);I&&(yield Jl(w.firebaseDependencies,I.token),yield om(w.firebaseDependencies));const O=yield w.swRegistration.pushManager.getSubscription();return!O||O.unsubscribe()})).apply(this,arguments)}function nc(w,I){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,N.Z)(function*(w,I){try{const O=yield Zo(w.firebaseDependencies,I),L=Object.assign(Object.assign({},I),{token:O,createTime:Date.now()});return yield cu(w.firebaseDependencies,L),O}catch(O){throw yield bd(w),O}})).apply(this,arguments)}function rc(w,I){return bo.apply(this,arguments)}function bo(){return(bo=(0,N.Z)(function*(w,I){const L={token:yield du(w,I),createTime:Date.now(),subscriptionOptions:I};return yield cu(w,L),L.token})).apply(this,arguments)}function lf(w,I){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,N.Z)(function*(w,I){return(yield w.pushManager.getSubscription())||w.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ta(I)})})).apply(this,arguments)}function ic(w,I){return I.vapidKey===w.vapidKey&&I.endpoint===w.endpoint&&I.auth===w.auth&&I.p256dh===w.p256dh}function cf(w){const I={from:w.from,collapseKey:w.collapse_key,messageId:w.fcmMessageId};return function am(w,I){if(!I.notification)return;w.notification={};const O=I.notification.title;O&&(w.notification.title=O);const L=I.notification.body;L&&(w.notification.body=L);const te=I.notification.image;te&&(w.notification.image=te);const ce=I.notification.icon;ce&&(w.notification.icon=ce)}(I,w),function Qo(w,I){!I.data||(w.data=I.data)}(I,w),function wd(w,I){var O,L,te,ce,Ie;if(!I.fcmOptions&&!(null===(O=I.notification)||void 0===O?void 0:O.click_action))return;w.fcmOptions={};const st=null!==(te=null===(L=I.fcmOptions)||void 0===L?void 0:L.link)&&void 0!==te?te:null===(ce=I.notification)||void 0===ce?void 0:ce.click_action;st&&(w.fcmOptions.link=st);const rt=null===(Ie=I.fcmOptions)||void 0===Ie?void 0:Ie.analytics_label;rt&&(w.fcmOptions.analyticsLabel=rt)}(I,w),I}function uf(w){return"object"==typeof w&&!!w&&Un in w}function df(w,I){const O=[];for(let L=0;L<w.length;L++)O.push(w.charAt(L)),L<I.length&&O.push(I.charAt(L));return O.join("")}function mt(w){return Mr.create("missing-app-config-values",{valueName:w})}df("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),df("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class oi{constructor(I,O,L){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const te=function lr(w){if(!w||!w.options)throw mt("App Configuration Object");if(!w.name)throw mt("App Name");const I=["projectId","apiKey","appId","messagingSenderId"],{options:O}=w;for(const L of I)if(!O[L])throw mt(L);return{appName:w.name,projectId:O.projectId,apiKey:O.apiKey,appId:O.appId,senderId:O.messagingSenderId}}(I);this.firebaseDependencies={app:I,appConfig:te,installations:O,analyticsProvider:L}}_delete(){return Promise.resolve()}}function xr(w){return sc.apply(this,arguments)}function sc(){return(sc=(0,N.Z)(function*(w){try{w.swRegistration=yield navigator.serviceWorker.register(lu,{scope:Ue}),w.swRegistration.update().catch(()=>{})}catch(I){throw Mr.create("failed-service-worker-registration",{browserErrorMessage:null==I?void 0:I.message})}})).apply(this,arguments)}function fu(w,I){return xa.apply(this,arguments)}function xa(){return(xa=(0,N.Z)(function*(w,I){if(!I&&!w.swRegistration&&(yield xr(w)),I||!w.swRegistration){if(!(I instanceof ServiceWorkerRegistration))throw Mr.create("invalid-sw-registration");w.swRegistration=I}})).apply(this,arguments)}function wo(w,I){return ls.apply(this,arguments)}function ls(){return(ls=(0,N.Z)(function*(w,I){I?w.vapidKey=I:w.vapidKey||(w.vapidKey=un)})).apply(this,arguments)}function cs(){return(cs=(0,N.Z)(function*(w,I){if(!navigator)throw Mr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Mr.create("permission-blocked");return yield wo(w,null==I?void 0:I.vapidKey),yield fu(w,null==I?void 0:I.serviceWorkerRegistration),af(w)})).apply(this,arguments)}function vt(w,I,O){return ul.apply(this,arguments)}function ul(){return(ul=(0,N.Z)(function*(w,I,O){const L=lm(I);(yield w.firebaseDependencies.analyticsProvider.get()).logEvent(L,{message_id:O[Un],message_name:O[al],message_time:O[Wo],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function lm(w){switch(w){case _o.NOTIFICATION_CLICKED:return"notification_open";case _o.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Rs(){return(Rs=(0,N.Z)(function*(w,I){const O=I.data;if(!O.isFirebaseMessaging)return;w.onMessageHandler&&O.messageType===_o.PUSH_RECEIVED&&("function"==typeof w.onMessageHandler?w.onMessageHandler(cf(O)):w.onMessageHandler.next(cf(O)));const L=O.data;uf(L)&&"1"===L[os]&&(yield vt(w,O.messageType,L))})).apply(this,arguments)}const dl="@firebase/messaging",Co=w=>{const I=new oi(w.getProvider("app").getImmediate(),w.getProvider("installations-internal").getImmediate(),w.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",O=>function oc(w,I){return Rs.apply(this,arguments)}(I,O)),I},hl=w=>{const I=w.getProvider("messaging").getImmediate();return{getToken:L=>function Cd(w,I){return cs.apply(this,arguments)}(I,L)}};function Ra(){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,N.Z)(function*(){try{yield(0,z.eu)()}catch(w){return!1}return"undefined"!=typeof window&&(0,z.hl)()&&(0,z.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function pu(){(0,ie._registerComponent)(new se.wA("messaging",Co,"PUBLIC")),(0,ie._registerComponent)(new se.wA("messaging-internal",hl,"PRIVATE")),(0,ie.registerVersion)(dl,"0.12.4"),(0,ie.registerVersion)(dl,"0.12.4","esm2017")}();const gn="analytics",ka="firebase_id",Do="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",tn="https://www.googletagmanager.com/gtag/js",_n=new W.Yd("@firebase/analytics"),Mn=new z.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Ri(w){if(!w.startsWith(tn)){const I=Mn.create("invalid-gtag-resource",{gtagURL:w});return _n.warn(I.message),""}return w}function Hn(w){return Promise.all(w.map(I=>I.catch(O=>O)))}function ds(w,I){const O=function Or(w,I){let O;return window.trustedTypes&&(O=window.trustedTypes.createPolicy(w,I)),O}("firebase-js-sdk-policy",{createScriptURL:Ri}),L=document.createElement("script"),te=`${tn}?l=${w}&id=${I}`;L.src=O?null==O?void 0:O.createScriptURL(te):te,L.async=!0,document.head.appendChild(L)}function gu(w,I,O,L,te,ce){return lc.apply(this,arguments)}function lc(){return(lc=(0,N.Z)(function*(w,I,O,L,te,ce){const Ie=L[te];try{if(Ie)yield I[Ie];else{const rt=(yield Hn(O)).find(_t=>_t.measurementId===te);rt&&(yield I[rt.appId])}}catch(st){_n.error(st)}w("config",te,ce)})).apply(this,arguments)}function Zn(w,I,O,L,te){return _u.apply(this,arguments)}function _u(){return(_u=(0,N.Z)(function*(w,I,O,L,te){try{let ce=[];if(te&&te.send_to){let Ie=te.send_to;Array.isArray(Ie)||(Ie=[Ie]);const st=yield Hn(O);for(const rt of Ie){const _t=st.find($t=>$t.measurementId===rt),Lt=_t&&I[_t.appId];if(!Lt){ce=[];break}ce.push(Lt)}}0===ce.length&&(ce=Object.values(I)),yield Promise.all(ce),w("event",L,te||{})}catch(ce){_n.error(ce)}})).apply(this,arguments)}function ai(w){const I=window.document.getElementsByTagName("script");for(const O of Object.values(I))if(O.src&&O.src.includes(tn)&&O.src.includes(w))return O;return null}const ks=new class ea{constructor(I={},O=1e3){this.throttleMetadata=I,this.intervalMillis=O}getThrottleMetadata(I){return this.throttleMetadata[I]}setThrottleMetadata(I,O){this.throttleMetadata[I]=O}deleteThrottleMetadata(I){delete this.throttleMetadata[I]}};function pf(w){return new Headers({Accept:"application/json","x-goog-api-key":w})}function br(w){return ml.apply(this,arguments)}function ml(){return(ml=(0,N.Z)(function*(w){var I;const{appId:O,apiKey:L}=w,te={method:"GET",headers:pf(L)},ce=Do.replace("{app-id}",O),Ie=yield fetch(ce,te);if(200!==Ie.status&&304!==Ie.status){let st="";try{const rt=yield Ie.json();(null===(I=rt.error)||void 0===I?void 0:I.message)&&(st=rt.error.message)}catch(rt){}throw Mn.create("config-fetch-failed",{httpStatus:Ie.status,responseMessage:st})}return Ie.json()})).apply(this,arguments)}function gl(w){return _l.apply(this,arguments)}function _l(){return(_l=(0,N.Z)(function*(w,I=ks,O){const{appId:L,apiKey:te,measurementId:ce}=w.options;if(!L)throw Mn.create("no-app-id");if(!te){if(ce)return{measurementId:ce,appId:L};throw Mn.create("no-api-key")}const Ie=I.getThrottleMetadata(L)||{backoffCount:0,throttleEndTimeMillis:Date.now()},st=new cc;return setTimeout((0,N.Z)(function*(){st.abort()}),void 0!==O?O:6e4),Dd({appId:L,apiKey:te,measurementId:ce},Ie,st,I)})).apply(this,arguments)}function Dd(w,I,O){return yi.apply(this,arguments)}function yi(){return(yi=(0,N.Z)(function*(w,{throttleEndTimeMillis:I,backoffCount:O},L,te=ks){var ce;const{appId:Ie,measurementId:st}=w;try{yield hs(L,I)}catch(rt){if(st)return _n.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${st} provided in the "measurementId" field in the local Firebase config. [${null==rt?void 0:rt.message}]`),{appId:Ie,measurementId:st};throw rt}try{const rt=yield br(w);return te.deleteThrottleMetadata(Ie),rt}catch(rt){const _t=rt;if(!yl(_t)){if(te.deleteThrottleMetadata(Ie),st)return _n.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${st} provided in the "measurementId" field in the local Firebase config. [${null==_t?void 0:_t.message}]`),{appId:Ie,measurementId:st};throw rt}const Lt=503===Number(null===(ce=null==_t?void 0:_t.customData)||void 0===ce?void 0:ce.httpStatus)?(0,z.$s)(O,te.intervalMillis,30):(0,z.$s)(O,te.intervalMillis),$t={throttleEndTimeMillis:Date.now()+Lt,backoffCount:O+1};return te.setThrottleMetadata(Ie,$t),_n.debug(`Calling attemptFetch again in ${Lt} millis`),Dd(w,$t,L,te)}})).apply(this,arguments)}function hs(w,I){return new Promise((O,L)=>{const te=Math.max(I-Date.now(),0),ce=setTimeout(O,te);w.addEventListener(()=>{clearTimeout(ce),L(Mn.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}function yl(w){if(!(w instanceof z.ZR&&w.customData))return!1;const I=Number(w.customData.httpStatus);return 429===I||500===I||503===I||504===I}class cc{constructor(){this.listeners=[]}addEventListener(I){this.listeners.push(I)}abort(){this.listeners.forEach(I=>I())}}let ta,dc;function yu(){return(yu=(0,N.Z)(function*(w,I,O,L,te){if(te&&te.global)w("event",O,L);else{const ce=yield I;w("event",O,Object.assign(Object.assign({},L),{send_to:ce}))}})).apply(this,arguments)}function vl(w){dc=w}function Na(w){ta=w}function Ad(){return fr.apply(this,arguments)}function fr(){return(fr=(0,N.Z)(function*(){if(!(0,z.hl)())return _n.warn(Mn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,z.eu)()}catch(w){return _n.warn(Mn.create("indexeddb-unavailable",{errorInfo:null==w?void 0:w.toString()}).message),!1}return!0})).apply(this,arguments)}function Ps(){return(Ps=(0,N.Z)(function*(w,I,O,L,te,ce,Ie){var st;const rt=gl(w);rt.then($r=>{O[$r.measurementId]=$r.appId,w.options.measurementId&&$r.measurementId!==w.options.measurementId&&_n.warn(`The measurement ID in the local Firebase config (${w.options.measurementId}) does not match the measurement ID fetched from the server (${$r.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch($r=>_n.error($r)),I.push(rt);const _t=Ad().then($r=>{if($r)return L.getId()}),[Lt,$t]=yield Promise.all([rt,_t]);ai(ce)||ds(ce,Lt.measurementId),dc&&(te("consent","default",dc),vl(void 0)),te("js",new Date);const wi=null!==(st=null==Ie?void 0:Ie.config)&&void 0!==st?st:{};return wi.origin="firebase",wi.update=!0,null!=$t&&(wi[ka]=$t),te("config",Lt.measurementId,wi),ta&&(te("set",ta),Na(void 0)),Lt.measurementId})).apply(this,arguments)}class Fa{constructor(I){this.app=I}_delete(){return delete Hr[this.app.options.appId],Promise.resolve()}}let Hr={},El=[];const bl={};let fc,Ui,wl="dataLayer",La=!1;function na(w,I,O){!function fn(){const w=[];if((0,z.ru)()&&w.push("This is a browser extension environment."),(0,z.zI)()||w.push("Cookies are not available."),w.length>0){const I=w.map((L,te)=>`(${te+1}) ${L}`).join(" "),O=Mn.create("invalid-analytics-context",{errorInfo:I});_n.warn(O.message)}}();const L=w.options.appId;if(!L)throw Mn.create("no-app-id");if(!w.options.apiKey){if(!w.options.measurementId)throw Mn.create("no-api-key");_n.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${w.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Hr[L])throw Mn.create("already-exists",{id:L});if(!La){!function Io(w){let I=[];Array.isArray(window[w])?I=window[w]:window[w]=I}(wl);const{wrappedGtag:ce,gtagCore:Ie}=function cr(w,I,O,L,te){let ce=function(...Ie){window[L].push(arguments)};return window[te]&&"function"==typeof window[te]&&(ce=window[te]),window[te]=function To(w,I,O,L){function ce(){return(ce=(0,N.Z)(function*(Ie,...st){try{if("event"===Ie){const[rt,_t]=st;yield Zn(w,I,O,rt,_t)}else if("config"===Ie){const[rt,_t]=st;yield gu(w,I,O,L,rt,_t)}else if("consent"===Ie){const[rt]=st;w("consent","update",rt)}else if("get"===Ie){const[rt,_t,Lt]=st;w("get",rt,_t,Lt)}else if("set"===Ie){const[rt]=st;w("set",rt)}else w(Ie,...st)}catch(rt){_n.error(rt)}})).apply(this,arguments)}return function te(Ie){return ce.apply(this,arguments)}}(ce,w,I,O),{gtagCore:ce,wrappedGtag:window[te]}}(Hr,El,bl,wl,"gtag");Ui=ce,fc=Ie,La=!0}return Hr[L]=function bi(w,I,O,L,te,ce,Ie){return Ps.apply(this,arguments)}(w,El,bl,I,fc,wl,O),new Fa(w)}function pc(){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,N.Z)(function*(){if((0,z.ru)()||!(0,z.zI)()||!(0,z.hl)())return!1;try{return yield(0,z.eu)()}catch(w){return!1}})).apply(this,arguments)}const Cl="@firebase/analytics";!function gc(){(0,ie._registerComponent)(new se.wA(gn,(I,{options:O})=>na(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),O),"PUBLIC")),(0,ie._registerComponent)(new se.wA("analytics-internal",function w(I){try{const O=I.getProvider(gn).getImmediate();return{logEvent:(L,te,ce)=>function eo(w,I,O,L){w=(0,z.m9)(w),function Id(w,I,O,L,te){return yu.apply(this,arguments)}(Ui,Hr[w.app.options.appId],I,O,L).catch(te=>_n.error(te))}(O,L,te,ce)}}catch(O){throw Mn.create("interop-component-reg-failed",{reason:O})}},"PRIVATE")),(0,ie.registerVersion)(Cl,"0.10.0"),(0,ie.registerVersion)(Cl,"0.10.0","esm2017")}();var _c=M(233),mf=M(4986),yc=M(8505),So=M(9468),Il=M(5363);const gf=new u.GfV("7.5.0"),vc="__angularfire_symbol__analyticsIsSupportedValue",Ec="__angularfire_symbol__analyticsIsSupported",Ha="__angularfire_symbol__remoteConfigIsSupportedValue",ra="__angularfire_symbol__remoteConfigIsSupported",ia="__angularfire_symbol__messagingIsSupportedValue",Hi="__angularfire_symbol__messagingIsSupported";function sa(w,I,O){if(I){if(1===I.length)return I[0];const ce=I.filter(Ie=>Ie.app===O);if(1===ce.length)return ce[0]}return O.container.getProvider(w).getImmediate({optional:!0})}globalThis[Ec]||(globalThis[Ec]=pc().then(w=>globalThis[vc]=w).catch(()=>globalThis[vc]=!1)),globalThis[Hi]||(globalThis[Hi]=Ra().then(w=>globalThis[ia]=w).catch(()=>globalThis[ia]=!1)),globalThis[ra]||(globalThis[ra]=sm().then(w=>globalThis[Ha]=w).catch(()=>globalThis[Ha]=!1));const xd=(w,I)=>{const O=I?[I]:(0,q.C6)(),L=[];return O.forEach(te=>{te.container.getProvider(w).instances.forEach(Ie=>{L.includes(Ie)||L.push(Ie)})}),L};function $a(){}class Ls{constructor(I,O=_c.N){this.zone=I,this.delegate=O}now(){return this.delegate.now()}schedule(I,O,L){const te=this.zone;return this.delegate.schedule(function(Ie){te.runGuarded(()=>{I.apply(this,[Ie])})},O,L)}}class Cc{constructor(I){this.zone=I,this.task=null}call(I,O){const L=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",$a,{},$a,$a)),O.pipe((0,yc.b)({next:L,complete:L,error:L})).subscribe(I).add(L)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Dc=(()=>{class w{constructor(O){this.ngZone=O,this.outsideAngular=O.runOutsideAngular(()=>new Ls(Zone.current)),this.insideAngular=O.run(()=>new Ls(Zone.current,mf.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return w.\u0275fac=function(O){return new(O||w)(u.LFG(u.R0b))},w.\u0275prov=u.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();function to(){const w=globalThis.\u0275AngularFireScheduler;if(!w)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return w}function Rd(w){return to(),function Ic(w){return function(O){return(O=O.lift(new Cc(w.ngZone))).pipe((0,So.R)(w.outsideAngular),(0,Il.Q)(w.insideAngular))}}(to())(w)}},2090:(re,H,M)=>{M.d(H,{BH:()=>De,LL:()=>Ze,ZR:()=>Gt,zI:()=>Rt,US:()=>se,tV:()=>V,L:()=>K,$s:()=>ns,r3:()=>Mi,Sg:()=>Xe,ne:()=>ri,vZ:()=>Pn,ZB:()=>Q,pd:()=>ur,aH:()=>Re,Pz:()=>Ee,m9:()=>dr,z$:()=>Qe,jU:()=>At,ru:()=>Bt,xb:()=>It,w1:()=>le,hl:()=>Ge,uI:()=>bt,UG:()=>me,b$:()=>Dt,G6:()=>He,xO:()=>_a,zd:()=>qn,eu:()=>Fe});const ie=function(Y){const G=[];let oe=0;for(let Pe=0;Pe<Y.length;Pe++){let pe=Y.charCodeAt(Pe);pe<128?G[oe++]=pe:pe<2048?(G[oe++]=pe>>6|192,G[oe++]=63&pe|128):55296==(64512&pe)&&Pe+1<Y.length&&56320==(64512&Y.charCodeAt(Pe+1))?(pe=65536+((1023&pe)<<10)+(1023&Y.charCodeAt(++Pe)),G[oe++]=pe>>18|240,G[oe++]=pe>>12&63|128,G[oe++]=pe>>6&63|128,G[oe++]=63&pe|128):(G[oe++]=pe>>12|224,G[oe++]=pe>>6&63|128,G[oe++]=63&pe|128)}return G},se={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Y,G){if(!Array.isArray(Y))throw Error("encodeByteArray takes an array as a parameter");this.init_();const oe=G?this.byteToCharMapWebSafe_:this.byteToCharMap_,Pe=[];for(let pe=0;pe<Y.length;pe+=3){const ut=Y[pe],Vt=pe+1<Y.length,Ft=Vt?Y[pe+1]:0,Nn=pe+2<Y.length,Sn=Nn?Y[pe+2]:0;let vr=(15&Ft)<<2|Sn>>6,Wr=63&Sn;Nn||(Wr=64,Vt||(vr=64)),Pe.push(oe[ut>>2],oe[(3&ut)<<4|Ft>>4],oe[vr],oe[Wr])}return Pe.join("")},encodeString(Y,G){return this.HAS_NATIVE_SUPPORT&&!G?btoa(Y):this.encodeByteArray(ie(Y),G)},decodeString(Y,G){return this.HAS_NATIVE_SUPPORT&&!G?atob(Y):function(Y){const G=[];let oe=0,Pe=0;for(;oe<Y.length;){const pe=Y[oe++];if(pe<128)G[Pe++]=String.fromCharCode(pe);else if(pe>191&&pe<224){const ut=Y[oe++];G[Pe++]=String.fromCharCode((31&pe)<<6|63&ut)}else if(pe>239&&pe<365){const Nn=((7&pe)<<18|(63&Y[oe++])<<12|(63&Y[oe++])<<6|63&Y[oe++])-65536;G[Pe++]=String.fromCharCode(55296+(Nn>>10)),G[Pe++]=String.fromCharCode(56320+(1023&Nn))}else{const ut=Y[oe++],Vt=Y[oe++];G[Pe++]=String.fromCharCode((15&pe)<<12|(63&ut)<<6|63&Vt)}}return G.join("")}(this.decodeStringToByteArray(Y,G))},decodeStringToByteArray(Y,G){this.init_();const oe=G?this.charToByteMapWebSafe_:this.charToByteMap_,Pe=[];for(let pe=0;pe<Y.length;){const ut=oe[Y.charAt(pe++)],Ft=pe<Y.length?oe[Y.charAt(pe)]:0;++pe;const Sn=pe<Y.length?oe[Y.charAt(pe)]:64;++pe;const qt=pe<Y.length?oe[Y.charAt(pe)]:64;if(++pe,null==ut||null==Ft||null==Sn||null==qt)throw new W;Pe.push(ut<<2|Ft>>4),64!==Sn&&(Pe.push(Ft<<4&240|Sn>>2),64!==qt&&Pe.push(Sn<<6&192|qt))}return Pe},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Y=0;Y<this.ENCODED_VALS.length;Y++)this.byteToCharMap_[Y]=this.ENCODED_VALS.charAt(Y),this.charToByteMap_[this.byteToCharMap_[Y]]=Y,this.byteToCharMapWebSafe_[Y]=this.ENCODED_VALS_WEBSAFE.charAt(Y),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Y]]=Y,Y>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Y)]=Y,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Y)]=Y)}}};class W extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const K=function(Y){return function(Y){const G=ie(Y);return se.encodeByteArray(G,!0)}(Y).replace(/\./g,"")},V=function(Y){try{return se.decodeString(Y,!0)}catch(G){console.error("base64Decode failed: ",G)}return null};function Q(Y,G){if(!(G instanceof Object))return G;switch(G.constructor){case Date:return new Date(G.getTime());case Object:void 0===Y&&(Y={});break;case Array:Y=[];break;default:return G}for(const oe in G)!G.hasOwnProperty(oe)||!Se(oe)||(Y[oe]=Q(Y[oe],G[oe]));return Y}function Se(Y){return"__proto__"!==Y}const be=()=>{try{return function ve(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if("undefined"==typeof process||void 0===process.env)return;const Y=process.env.__FIREBASE_DEFAULTS__;return Y?JSON.parse(Y):void 0})()||(()=>{if("undefined"==typeof document)return;let Y;try{Y=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(oe){return}const G=Y&&V(Y[1]);return G&&JSON.parse(G)})()}catch(Y){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Y}`)}},Re=()=>{var Y;return null===(Y=be())||void 0===Y?void 0:Y.config},Ee=Y=>{var G;return null===(G=be())||void 0===G?void 0:G[`_${Y}`]};class De{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((G,oe)=>{this.resolve=G,this.reject=oe})}wrapCallback(G){return(oe,Pe)=>{oe?this.reject(oe):this.resolve(Pe),"function"==typeof G&&(this.promise.catch(()=>{}),1===G.length?G(oe):G(oe,Pe))}}}function Xe(Y,G){if(Y.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Pe=G||"demo-project",pe=Y.iat||0,ut=Y.sub||Y.user_id;if(!ut)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Vt=Object.assign({iss:`https://securetoken.google.com/${Pe}`,aud:Pe,iat:pe,exp:pe+3600,auth_time:pe,sub:ut,user_id:ut,firebase:{sign_in_provider:"custom",identities:{}}},Y);return[K(JSON.stringify({alg:"none",type:"JWT"})),K(JSON.stringify(Vt)),""].join(".")}function Qe(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function bt(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qe())}function me(){var Y;const G=null===(Y=be())||void 0===Y?void 0:Y.forceEnvironment;if("node"===G)return!0;if("browser"===G)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(oe){return!1}}function At(){return"object"==typeof self&&self.self===self}function Bt(){const Y="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Y&&void 0!==Y.id}function Dt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function le(){const Y=Qe();return Y.indexOf("MSIE ")>=0||Y.indexOf("Trident/")>=0}function He(){return!me()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ge(){try{return"object"==typeof indexedDB}catch(Y){return!1}}function Fe(){return new Promise((Y,G)=>{try{let oe=!0;const Pe="validate-browser-context-for-indexeddb-analytics-module",pe=self.indexedDB.open(Pe);pe.onsuccess=()=>{pe.result.close(),oe||self.indexedDB.deleteDatabase(Pe),Y(!0)},pe.onupgradeneeded=()=>{oe=!1},pe.onerror=()=>{var ut;G((null===(ut=pe.error)||void 0===ut?void 0:ut.message)||"")}}catch(oe){G(oe)}})}function Rt(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Gt extends Error{constructor(G,oe,Pe){super(oe),this.code=G,this.customData=Pe,this.name="FirebaseError",Object.setPrototypeOf(this,Gt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ze.prototype.create)}}class Ze{constructor(G,oe,Pe){this.service=G,this.serviceName=oe,this.errors=Pe}create(G,...oe){const Pe=oe[0]||{},pe=`${this.service}/${G}`,ut=this.errors[G],Vt=ut?function Qt(Y,G){return Y.replace(yn,(oe,Pe)=>{const pe=G[Pe];return null!=pe?String(pe):`<${Pe}?>`})}(ut,Pe):"Error";return new Gt(pe,`${this.serviceName}: ${Vt} (${pe}).`,Pe)}}const yn=/\{\$([^}]+)}/g;function Mi(Y,G){return Object.prototype.hasOwnProperty.call(Y,G)}function It(Y){for(const G in Y)if(Object.prototype.hasOwnProperty.call(Y,G))return!1;return!0}function Pn(Y,G){if(Y===G)return!0;const oe=Object.keys(Y),Pe=Object.keys(G);for(const pe of oe){if(!Pe.includes(pe))return!1;const ut=Y[pe],Vt=G[pe];if(rr(ut)&&rr(Vt)){if(!Pn(ut,Vt))return!1}else if(ut!==Vt)return!1}for(const pe of Pe)if(!oe.includes(pe))return!1;return!0}function rr(Y){return null!==Y&&"object"==typeof Y}function _a(Y){const G=[];for(const[oe,Pe]of Object.entries(Y))Array.isArray(Pe)?Pe.forEach(pe=>{G.push(encodeURIComponent(oe)+"="+encodeURIComponent(pe))}):G.push(encodeURIComponent(oe)+"="+encodeURIComponent(Pe));return G.length?"&"+G.join("&"):""}function qn(Y){const G={};return Y.replace(/^\?/,"").split("&").forEach(Pe=>{if(Pe){const[pe,ut]=Pe.split("=");G[decodeURIComponent(pe)]=decodeURIComponent(ut)}}),G}function ur(Y){const G=Y.indexOf("?");if(!G)return"";const oe=Y.indexOf("#",G);return Y.substring(G,oe>0?oe:void 0)}function ri(Y,G){const oe=new Nt(Y,G);return oe.subscribe.bind(oe)}class Nt{constructor(G,oe){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=oe,this.task.then(()=>{G(this)}).catch(Pe=>{this.error(Pe)})}next(G){this.forEachObserver(oe=>{oe.next(G)})}error(G){this.forEachObserver(oe=>{oe.error(G)}),this.close(G)}complete(){this.forEachObserver(G=>{G.complete()}),this.close()}subscribe(G,oe,Pe){let pe;if(void 0===G&&void 0===oe&&void 0===Pe)throw new Error("Missing Observer.");pe=function kt(Y,G){if("object"!=typeof Y||null===Y)return!1;for(const oe of G)if(oe in Y&&"function"==typeof Y[oe])return!0;return!1}(G,["next","error","complete"])?G:{next:G,error:oe,complete:Pe},void 0===pe.next&&(pe.next=Li),void 0===pe.error&&(pe.error=Li),void 0===pe.complete&&(pe.complete=Li);const ut=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?pe.error(this.finalError):pe.complete()}catch(Vt){}}),this.observers.push(pe),ut}unsubscribeOne(G){void 0===this.observers||void 0===this.observers[G]||(delete this.observers[G],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(G){if(!this.finalized)for(let oe=0;oe<this.observers.length;oe++)this.sendOne(oe,G)}sendOne(G,oe){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[G])try{oe(this.observers[G])}catch(Pe){"undefined"!=typeof console&&console.error&&console.error(Pe)}})}close(G){this.finalized||(this.finalized=!0,void 0!==G&&(this.finalError=G),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Li(){}function ns(Y,G=1e3,oe=2){const Pe=G*Math.pow(oe,Y),pe=Math.round(.5*Pe*(Math.random()-.5)*2);return Math.min(144e5,Pe+pe)}function dr(Y){return Y&&Y._delegate?Y._delegate:Y}},9108:(re,H,M)=>{var u=M(5e3);let q=null;function N(){return q}const W=new u.OlP("DocumentToken");let ne=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return function K(){return(0,u.LFG)(U)}()},providedIn:"platform"}),n})();const V=new u.OlP("Location Initialized");let U=(()=>{class n extends ne{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return N().getBaseHref(this._doc)}onPopState(t){const r=N().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=N().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){Q()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){Q()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(W))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function Se(){return new U((0,u.LFG)(W))}()},providedIn:"platform"}),n})();function Q(){return!!window.history.pushState}function ve(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Oe(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function je(n){return n&&"?"!==n[0]?"?"+n:n}let ye=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return function be(n){const e=(0,u.LFG)(W).location;return new qe((0,u.LFG)(ne),e&&e.origin||"")}()},providedIn:"root"}),n})();const Ke=new u.OlP("appBaseHref");let qe=(()=>{class n extends ye{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return ve(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+je(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,a){const c=this.prepareExternalUrl(i+je(a));this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,a){const c=this.prepareExternalUrl(i+je(a));this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ne),u.LFG(Ke,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Re=(()=>{class n extends ye{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=ve(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,a){let c=this.prepareExternalUrl(i+je(a));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,a){let c=this.prepareExternalUrl(i+je(a));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ne),u.LFG(Ke,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Ee=(()=>{class n{constructor(t,r){this._subject=new u.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=Oe(Qe(i)),this._platformStrategy.onPopState(a=>{this._subject.emit({url:this.path(!0),pop:!0,state:a.state,type:a.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+je(r))}normalize(t){return n.stripTrailingSlash(function Xe(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,Qe(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._platformStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+je(r)),i)}replaceState(t,r="",i=null){this._platformStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+je(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=je,n.joinWithSlash=ve,n.stripTrailingSlash=Oe,n.\u0275fac=function(t){return new(t||n)(u.LFG(ye),u.LFG(ne))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function De(){return new Ee((0,u.LFG)(ye),(0,u.LFG)(ne))}()},providedIn:"root"}),n})();function Qe(n){return n.replace(/\/index.html$/,"")}class Ds{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Br=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,a,c)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Ds(i.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)r.remove(null===a?void 0:a);else if(null!==a){const h=r.get(a);r.move(h,c),An(h,i)}});for(let i=0,a=r.length;i<a;i++){const h=r.get(i).context;h.index=i,h.count=a,h.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{An(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(u.ZZ4))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function An(n,e){n.context.$implicit=e.item}let we=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new ae,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Ce("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Ce("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class ae{constructor(){this.$implicit=null,this.ngIf=null}}function Ce(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,u.AaK)(e)}'.`)}class Je{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let Ye=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const r=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let r=0;r<this._defaultViews.length;r++)this._defaultViews[r].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),jt=(()=>{class n{constructor(t,r,i){this.ngSwitch=i,i._addCase(),this._view=new Je(t,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(Ye,9))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})(),or=(()=>{class n{constructor(t,r,i){i._addDefault(new Je(t,r))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(Ye,9))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngSwitchDefault",""]]}),n})(),Gl=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const sl="browser";function ql(n){return"server"===n}let iu=(()=>{class n{}return n.\u0275prov=(0,u.Yz7)({token:n,providedIn:"root",factory:()=>new rs((0,u.LFG)(W),window)}),n})();class rs{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Ts(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const a=i.shadowRoot;if(a){const c=a.getElementById(e)||a.querySelector(`[name="${e}"]`);if(c)return c}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(r-a[0],i-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=ba(this.window.history)||ba(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function ba(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Wl extends class su extends class se{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function z(n){q||(q=n)}(new Wl)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function nf(){return Dn=Dn||document.querySelector("base"),Dn?Dn.getAttribute("href"):null}();return null==t?null:function Ca(n){wa=wa||document.createElement("a"),wa.setAttribute("href",n);const e=wa.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Dn=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Ho(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,a]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(a)}return null}(document.cookie,e)}}let wa,Dn=null;const Ar=new u.OlP("TRANSITION_ID"),Zr=[{provide:u.ip1,useFactory:function Kl(n,e,t){return()=>{t.get(u.CZH).donePromise.then(()=>{const r=N(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<i.length;a++)r.remove(i[a])})}},deps:[Ar,W,u.zs3],multi:!0}];class is{static init(){(0,u.VLi)(new is)}addToWindow(e){u.dqk.getAngularTestability=(r,i=!0)=>{const a=e.findTestabilityInTree(r,i);if(null==a)throw new Error("Could not find testability for element.");return a},u.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),u.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),u.dqk.frameworkStabilizers||(u.dqk.frameworkStabilizers=[]),u.dqk.frameworkStabilizers.push(r=>{const i=u.dqk.getAllAngularTestabilities();let a=i.length,c=!1;const h=function(_){c=c||_,a--,0==a&&r(c)};i.forEach(function(_){_.whenStable(h)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:r?N().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let xi=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Go=new u.OlP("EventManagerPlugins");let ss=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let a=0;a<i.length;a++){const c=i[a];if(c.supports(t))return this._eventNameToPlugin.set(t,c),c}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Go),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class ou{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=N().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let Ss=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Da=(()=>{class n extends Ss{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(a=>{const c=this._doc.createElement("style");c.textContent=a,i.push(r.appendChild(c))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(gi),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(gi))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(W))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function gi(n){N().remove(n)}const Ot={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ol=/%COMP%/g;function Ue(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Ue(n,i,t):(i=i.replace(ol,n),t.push(i))}return t}function un(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Un=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new al(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case u.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new Yl(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case u.ifc.ShadowDom:return new _o(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=Ue(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ss),u.LFG(Da),u.LFG(u.AFp))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class al{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Ot[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const a=Ot[i];a?e.setAttributeNS(a,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Ot[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(u.JOm.DashCase|u.JOm.Important)?e.style.setProperty(t,r,i&u.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&u.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,un(r)):this.eventManager.addEventListener(e,t,un(r))}}class Yl extends al{constructor(e,t,r,i){super(e),this.component=r;const a=Ue(i+"-"+r.id,r.styles,[]);t.addStyles(a),this.contentAttr=function au(n){return"_ngcontent-%COMP%".replace(ol,n)}(i+"-"+r.id),this.hostAttr=function lu(n){return"_nghost-%COMP%".replace(ol,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class _o extends al{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=Ue(i.id,i.styles,[]);for(let c=0;c<a.length;c++){const h=document.createElement("style");h.textContent=a[c],this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let As=(()=>{class n extends ou{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(W))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Ta=["alt","control","meta","shift"],Sa={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ar={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Ks={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Aa=(()=>{class n extends ou{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const a=n.parseEventName(r),c=n.eventCallback(a.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>N().onAndCancel(t,a.domEventName,c))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const a=n._normalizeKey(r.pop());let c="";if(Ta.forEach(_=>{const b=r.indexOf(_);b>-1&&(r.splice(b,1),c+=_+".")}),c+=a,0!=r.length||0===a.length)return null;const h={};return h.domEventName=i,h.fullKey=c,h}static getEventFullKey(t){let r="",i=function Ma(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&ar.hasOwnProperty(e)&&(e=ar[e]))}return Sa[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Ta.forEach(a=>{a!=i&&Ks[a](t)&&(r+=a+".")}),r+=i,r}static eventCallback(t,r,i){return a=>{n.getEventFullKey(a)===t&&i.runGuarded(()=>r(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(W))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const ll=(0,u.eFA)(u._c5,"browser",[{provide:u.Lbi,useValue:sl},{provide:u.g9A,useValue:function as(){Wl.makeCurrent(),is.init()},multi:!0},{provide:W,useFactory:function Ms(){return(0,u.RDi)(document),document},deps:[]}]),Xl=[{provide:u.zSh,useValue:"root"},{provide:u.qLn,useFactory:function rf(){return new u.qLn},deps:[]},{provide:Go,useClass:As,multi:!0,deps:[W,u.R0b,u.Lbi]},{provide:Go,useClass:Aa,multi:!0,deps:[W]},{provide:Un,useClass:Un,deps:[ss,Da,u.AFp]},{provide:u.FYo,useExisting:Un},{provide:Ss,useExisting:Da},{provide:Da,useClass:Da,deps:[W]},{provide:u.dDg,useClass:u.dDg,deps:[u.R0b]},{provide:ss,useClass:ss,deps:[Go,u.R0b]},{provide:class Vn{},useClass:xi,deps:[]}];let vo=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:u.AFp,useValue:t.appId},{provide:Ar,useExisting:u.AFp},Zr]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(n,12))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:Xl,imports:[Gl,u.hGG]}),n})();"undefined"!=typeof window&&window;let Qo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(t){let r=null;return r=t?new(t||n):u.LFG(uf),r},providedIn:"root"}),n})(),uf=(()=>{class n extends Qo{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case u.q3G.NONE:return r;case u.q3G.HTML:return(0,u.qzn)(r,"HTML")?(0,u.z3N)(r):(0,u.EiD)(this._doc,String(r)).toString();case u.q3G.STYLE:return(0,u.qzn)(r,"Style")?(0,u.z3N)(r):r;case u.q3G.SCRIPT:if((0,u.qzn)(r,"Script"))return(0,u.z3N)(r);throw new Error("unsafe value used in a script context");case u.q3G.URL:return(0,u.yhl)(r),(0,u.qzn)(r,"URL")?(0,u.z3N)(r):(0,u.mCW)(String(r));case u.q3G.RESOURCE_URL:if((0,u.qzn)(r,"ResourceURL"))return(0,u.z3N)(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,u.JVY)(t)}bypassSecurityTrustStyle(t){return(0,u.L6k)(t)}bypassSecurityTrustScript(t){return(0,u.eBb)(t)}bypassSecurityTrustUrl(t){return(0,u.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,u.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(W))},n.\u0275prov=u.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function wd(n){return new uf(n.get(W))}(u.LFG(u.zs3)),r},providedIn:"root"}),n})();var lr=M(8996),mt=M(9646),oi=M(1135),xr=M(8306);const{isArray:sc}=Array,{getPrototypeOf:fu,prototype:xa,keys:wo}=Object;function ls(n){if(1===n.length){const e=n[0];if(sc(e))return{args:e,keys:null};if(function Cd(n){return n&&"object"==typeof n&&fu(n)===xa}(e)){const t=wo(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var cs=M(4671),vt=M(4004);const{isArray:ul}=Array;function oc(n){return(0,vt.U)(e=>function lm(n,e){return ul(e)?n(...e):n(e)}(n,e))}var Rs=M(3269);function dl(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var Rr=M(5403),Co=M(9672);function hl(...n){const e=(0,Rs.yG)(n),t=(0,Rs.jO)(n),{args:r,keys:i}=ls(n);if(0===r.length)return(0,lr.D)([],e);const a=new xr.y(function pu(n,e,t=cs.y){return r=>{Ra(e,()=>{const{length:i}=n,a=new Array(i);let c=i,h=i;for(let _=0;_<i;_++)Ra(e,()=>{const b=(0,lr.D)(n[_],e);let D=!1;b.subscribe((0,Rr.x)(r,x=>{a[_]=x,D||(D=!0,h--),h||r.next(t(a.slice()))},()=>{--c||r.complete()}))},r)},r)}}(r,e,i?c=>dl(i,c):cs.y));return t?a.pipe(oc(t)):a}function Ra(n,e,t){n?(0,Co.f)(t,n,e):e()}var Ur=M(576);function fl(n,e){const t=(0,Ur.m)(n)?n:()=>n,r=i=>i.error(t());return new xr.y(e?i=>e.schedule(r,0,i):r)}const ac=(0,M(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var us=M(8189);function Oa(...n){return function hf(){return(0,us.J)(1)}()((0,lr.D)(n,(0,Rs.yG)(n)))}var Os=M(8421);function pl(n){return new xr.y(e=>{(0,Os.Xf)(n()).subscribe(e)})}var gn=M(515),ka=M(727),jr=M(4482);function mu(){return(0,jr.e)((n,e)=>{let t=null;n._refCount++;const r=(0,Rr.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,a=t;t=null,i&&(!a||i===a)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Do extends xr.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,jr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ka.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Rr.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ka.w0.EMPTY)}return e}refCount(){return mu()(this)}}var tn=M(7579),_n=M(3900),hr=M(5698);function Mn(...n){const e=(0,Rs.yG)(n);return(0,jr.e)((t,r)=>{(e?Oa(n,t,e):Oa(n,t)).subscribe(r)})}var Ri=M(5026),Hn=M(9300),Or=M(262),ds=M(4351);function Io(n){return n<=0?()=>gn.E:(0,jr.e)((e,t)=>{let r=[];e.subscribe((0,Rr.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function gu(n=lc){return(0,jr.e)((e,t)=>{let r=!1;e.subscribe((0,Rr.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function lc(){return new ac}function Zn(n){return(0,jr.e)((e,t)=>{let r=!1;e.subscribe((0,Rr.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function To(n,e){const t=arguments.length>=2;return r=>r.pipe(n?(0,Hn.h)((i,a)=>n(i,a,r)):cs.y,(0,hr.q)(1),t?Zn(e):gu(()=>new ac))}var cr=M(5577),ai=M(8505);function ff(n){return(0,jr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}class Jo{constructor(e,t){this.id=e,this.url=t}}class ea extends Jo{constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ks extends Jo{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class pf extends Jo{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class br extends Jo{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ml extends Jo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gl extends Jo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _l extends Jo{constructor(e,t,r,i,a){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=a}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Dd extends Jo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yi extends Jo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hs{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class yl{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class cc{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ta{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Id{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yu{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Td{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const nn="primary";class cm{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Ys(n){return new cm(n)}const vi="ngNavigationCancelingError";function Qs(n){const e=Error("NavigationCancelingError: "+n);return e[vi]=!0,e}function uc(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let a=0;a<r.length;a++){const c=r[a],h=n[a];if(c.startsWith(":"))i[c.substring(1)]=h;else if(c!==h.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Ei(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let a=0;a<t.length;a++)if(i=t[a],!dc(n[i],e[i]))return!1;return!0}function dc(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,a)=>r[a]===i)}return n===e}function vl(n){return Array.prototype.concat.apply([],n)}function Na(n){return n.length>0?n[n.length-1]:null}function fr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function bi(n){return(0,u.CqO)(n)?n:(0,u.QGY)(n)?(0,lr.D)(Promise.resolve(n)):(0,mt.of)(n)}const Fa={exact:function wl(n,e,t){if(!Ns(n.segments,e.segments)||!La(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!wl(n.children[r],e.children[r],t))return!1;return!0},subset:fc},Hr={exact:function bl(n,e){return Ei(n,e)},subset:function hc(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>dc(n[t],e[t]))},ignored:()=>!0};function El(n,e,t){return Fa[t.paths](n.root,e.root,t.matrixParams)&&Hr[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function fc(n,e,t){return Ui(n,e,e.segments,t)}function Ui(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Ns(i,t)||e.hasChildren()||!La(i,t,r))}if(n.segments.length===t.length){if(!Ns(n.segments,t)||!La(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!fc(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),a=t.slice(n.segments.length);return!!(Ns(n.segments,i)&&La(n.segments,i,r)&&n.children[nn])&&Ui(n.children[nn],e,a,r)}}function La(n,e,t){return e.every((r,i)=>Hr[t](n[i].parameters,r.parameters))}class ji{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ys(this.queryParams)),this._queryParamMap}toString(){return um.serialize(this)}}class fn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,fr(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Va(this)}}class na{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Ys(this.parameters)),this._parameterMap}toString(){return Dl(this)}}function Ns(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class Ba{}class Xs{parse(e){const t=new Ec(e);return new ji(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Ua(e.root,!0)}`,r=function _c(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Js(t)}=${Js(i)}`).join("&"):`${Js(t)}=${Js(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function Md(n){return encodeURI(n)}(e.fragment)}`:""}`}}const um=new Xs;function Va(n){return n.segments.map(e=>Dl(e)).join("/")}function Ua(n,e){if(!n.hasChildren())return Va(n);if(e){const t=n.children[nn]?Ua(n.children[nn],!1):"",r=[];return fr(n.children,(i,a)=>{a!==nn&&r.push(`${a}:${Ua(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function pc(n,e){let t=[];return fr(n.children,(r,i)=>{i===nn&&(t=t.concat(e(r,i)))}),fr(n.children,(r,i)=>{i!==nn&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===nn?[Ua(n.children[nn],!1)]:[`${i}:${Ua(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[nn]?`${Va(n)}/${t[0]}`:`${Va(n)}/(${t.join("//")})`}}function ja(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Js(n){return ja(n).replace(/%3B/gi,";")}function eo(n){return ja(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function mc(n){return decodeURIComponent(n)}function Cl(n){return mc(n.replace(/\+/g,"%20"))}function Dl(n){return`${eo(n.path)}${function gc(n){return Object.keys(n).map(e=>`;${eo(e)}=${eo(n[e])}`).join("")}(n.parameters)}`}const mf=/^[^\/()?;=#]+/;function yc(n){const e=n.match(mf);return e?e[0]:""}const So=/^[^=?&#]+/,gf=/^[^&#]+/;class Ec{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new fn([],{}):new fn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[nn]=new fn(e,t)),r}parseSegment(){const e=yc(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new na(mc(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=yc(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=yc(this.remaining);i&&(r=i,this.capture(r))}e[mc(t)]=mc(r)}parseQueryParam(e){const t=function Il(n){const e=n.match(So);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const c=function vc(n){const e=n.match(gf);return e?e[0]:""}(this.remaining);c&&(r=c,this.capture(r))}const i=Cl(t),a=Cl(r);if(e.hasOwnProperty(i)){let c=e[i];Array.isArray(c)||(c=[c],e[i]=c),c.push(a)}else e[i]=a}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=yc(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let a;r.indexOf(":")>-1?(a=r.substr(0,r.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=nn);const c=this.parseChildren();t[a]=1===Object.keys(c).length?c[nn]:new fn([],c),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class Ha{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=ra(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=ra(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=ia(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return ia(e,this._root).map(t=>t.value)}}function ra(n,e){if(n===e.value)return e;for(const t of e.children){const r=ra(n,t);if(r)return r}return null}function ia(n,e){if(n===e.value)return[e];for(const t of e.children){const r=ia(n,t);if(r.length)return r.unshift(e),r}return[]}class Hi{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Fs(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class bc extends Ha{constructor(e,t){super(e),this.snapshot=t,Dc(this,e)}toString(){return this.snapshot.toString()}}function wc(n,e){const t=function za(n,e){const c=new Ls([],{},{},"",{},nn,e,null,n.root,-1,{});return new Cc("",new Hi(c,[]))}(n,e),r=new oi.X([new na("",{})]),i=new oi.X({}),a=new oi.X({}),c=new oi.X({}),h=new oi.X(""),_=new sa(r,i,c,h,a,nn,e,t.root);return _.snapshot=t.root,new bc(new Hi(_,[]),t)}class sa{constructor(e,t,r,i,a,c,h,_){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=c,this.component=h,this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,vt.U)(e=>Ys(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,vt.U)(e=>Ys(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function xd(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],a=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(a.component)break;r--}}return function $a(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Ls{constructor(e,t,r,i,a,c,h,_,b,D,x){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=c,this.component=h,this.routeConfig=_,this._urlSegment=b,this._lastPathIndex=D,this._resolve=x}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ys(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ys(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Cc extends Ha{constructor(e,t){super(t),this.url=e,Dc(this,t)}toString(){return to(this._root)}}function Dc(n,e){e.value._routerState=n,e.children.forEach(t=>Dc(n,t))}function to(n){const e=n.children.length>0?` { ${n.children.map(to).join(", ")} } `:"";return`${n.value}${e}`}function Ga(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Ei(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Ei(e.params,t.params)||n.params.next(t.params),function Sd(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Ei(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Ei(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function li(n,e){const t=Ei(n.params,e.params)&&function zr(n,e){return Ns(n,e)&&n.every((t,r)=>Ei(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||li(n.parent,e.parent))}function Tl(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function Rd(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Tl(n,r,i);return Tl(n,r)})}(n,e,t);return new Hi(r,i)}{if(n.shouldAttach(e.value)){const a=n.retrieve(e.value);if(null!==a){const c=a.route;return c.value._futureSnapshot=e.value,c.children=e.children.map(h=>Tl(n,h)),c}}const r=function Ic(n){return new sa(new oi.X(n.url),new oi.X(n.params),new oi.X(n.queryParams),new oi.X(n.fragment),new oi.X(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(a=>Tl(n,a));return new Hi(r,i)}}function fs(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function w(n){return"object"==typeof n&&null!=n&&n.outlets}function I(n,e,t,r,i){let a={};if(r&&fr(r,(h,_)=>{a[_]=Array.isArray(h)?h.map(b=>`${b}`):`${h}`}),n===e)return new ji(t,a,i);const c=O(n,e,t);return new ji(c,a,i)}function O(n,e,t){const r={};return fr(n.children,(i,a)=>{r[a]=i===e?t:O(i,e,t)}),new fn(n.segments,r)}class L{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&fs(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(w);if(i&&i!==Na(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ce{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function _t(n,e,t){if(n||(n=new fn([],{})),0===n.segments.length&&n.hasChildren())return Lt(n,e,t);const r=function $t(n,e,t){let r=0,i=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return a;const c=n.segments[i],h=t[r];if(w(h))break;const _=`${h}`,b=r<t.length-1?t[r+1]:null;if(i>0&&void 0===_)break;if(_&&b&&"object"==typeof b&&void 0===b.outlets){if(!Sl(_,b,c))return a;r+=2}else{if(!Sl(_,{},c))return a;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const a=new fn(n.segments.slice(0,r.pathIndex),{});return a.children[nn]=new fn(n.segments.slice(r.pathIndex),n.children),Lt(a,0,i)}return r.match&&0===i.length?new fn(n.segments,{}):r.match&&!n.hasChildren()?wi(n,e,t):r.match?Lt(n,0,i):wi(n,e,t)}function Lt(n,e,t){if(0===t.length)return new fn(n.segments,{});{const r=function rt(n){return w(n[0])?n[0].outlets:{[nn]:n}}(t),i={};return fr(r,(a,c)=>{"string"==typeof a&&(a=[a]),null!==a&&(i[c]=_t(n.children[c],e,a))}),fr(n.children,(a,c)=>{void 0===r[c]&&(i[c]=a)}),new fn(n.segments,i)}}function wi(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const a=t[i];if(w(a)){const _=$r(a.outlets);return new fn(r,_)}if(0===i&&fs(t[0])){r.push(new na(n.segments[e].path,no(t[0]))),i++;continue}const c=w(a)?a.outlets[nn]:`${a}`,h=i<t.length-1?t[i+1]:null;c&&h&&fs(h)?(r.push(new na(c,no(h))),i+=2):(r.push(new na(c,{})),i++)}return new fn(r,{})}function $r(n){const e={};return fr(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=wi(new fn([],{}),0,t))}),e}function no(n){const e={};return fr(n,(t,r)=>e[r]=`${t}`),e}function Sl(n,e,t){return n==t.path&&Ei(e,t.parameters)}class ci{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Ga(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Fs(t);e.children.forEach(a=>{const c=a.value.outlet;this.deactivateRoutes(a,i[c],r),delete i[c]}),fr(i,(a,c)=>{this.deactivateRouteAndItsChildren(a,r)})}deactivateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(i===a)if(i.component){const c=r.getContext(i.outlet);c&&this.deactivateChildRoutes(e,t,c.children)}else this.deactivateChildRoutes(e,t,r);else a&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=Fs(e);for(const c of Object.keys(a))this.deactivateRouteAndItsChildren(a[c],i);if(r&&r.outlet){const c=r.outlet.detach(),h=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:h})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=Fs(e);for(const c of Object.keys(a))this.deactivateRouteAndItsChildren(a[c],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Fs(t);e.children.forEach(a=>{this.activateRoutes(a,i[a.value.outlet],r),this.forwardEvent(new yu(a.value.snapshot))}),e.children.length&&this.forwardEvent(new ta(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(Ga(i),i===a)if(i.component){const c=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,c.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const c=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const h=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),c.children.onOutletReAttached(h.contexts),c.attachRef=h.componentRef,c.route=h.route.value,c.outlet&&c.outlet.attach(h.componentRef,h.route.value),Ga(h.route.value),this.activateChildRoutes(e,null,c.children)}else{const h=function ps(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),_=h?h.module.componentFactoryResolver:null;c.attachRef=null,c.route=i,c.resolver=_,c.outlet&&c.outlet.activateWith(i,_),this.activateChildRoutes(e,null,c.children)}}else this.activateChildRoutes(e,null,r)}}class oa{constructor(e,t){this.routes=e,this.module=t}}function aa(n){return"function"==typeof n}function Tc(n){return n instanceof ji}const Ef=Symbol("INITIAL_VALUE");function Sc(){return(0,_n.w)(n=>hl(n.map(e=>e.pipe((0,hr.q)(1),Mn(Ef)))).pipe((0,Ri.R)((e,t)=>{let r=!1;return t.reduce((i,a,c)=>i!==Ef?i:(a===Ef&&(r=!0),r||!1!==a&&c!==t.length-1&&!Tc(a)?i:a),e)},Ef),(0,Hn.h)(e=>e!==Ef),(0,vt.U)(e=>Tc(e)?e:!0===e),(0,hr.q)(1)))}class bf{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new qa,this.attachRef=null}}class qa{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new bf,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let wf=(()=>{class n{constructor(t,r,i,a,c){this.parentContexts=t,this.location=r,this.resolver=i,this.changeDetector=c,this.activated=null,this._activatedRoute=null,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.attachEvents=new u.vpe,this.detachEvents=new u.vpe,this.name=a||nn,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const c=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),h=this.parentContexts.getOrCreateContext(this.name).children,_=new fm(t,h,this.location.injector);this.activated=this.location.createComponent(c,this.location.length,_),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(qa),u.Y36(u.s_b),u.Y36(u._Vd),u.$8M("name"),u.Y36(u.sBO))},n.\u0275dir=u.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class fm{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===sa?this.route:e===qa?this.childContexts:this.parent.get(e,t)}}let Cf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&u._UZ(0,"router-outlet")},directives:[wf],encapsulation:2}),n})();function Df(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];Od(r,pm(e,r))}}function Od(n,e){n.children&&Df(n.children,e)}function pm(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function Eu(n){const e=n.children&&n.children.map(Eu),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==nn&&(t.component=Cf),t}function ms(n){return n.outlet||nn}function pr(n,e){const t=n.filter(r=>ms(r)===e);return t.push(...n.filter(r=>ms(r)!==e)),t}const N_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ao(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},N_):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const a=(e.matcher||uc)(t,n,e);if(!a)return Object.assign({},N_);const c={};fr(a.posParams,(_,b)=>{c[b]=_.path});const h=a.consumed.length>0?Object.assign(Object.assign({},c),a.consumed[a.consumed.length-1].parameters):c;return{matched:!0,consumedSegments:a.consumed,remainingSegments:t.slice(a.consumed.length),parameters:h,positionalParamSegments:null!==(r=a.posParams)&&void 0!==r?r:{}}}function Ac(n,e,t,r,i="corrected"){if(t.length>0&&function F_(n,e,t){return t.some(r=>kd(n,e,r)&&ms(r)!==nn)}(n,t,r)){const c=new fn(e,function If(n,e,t,r){const i={};i[nn]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const a of t)if(""===a.path&&ms(a)!==nn){const c=new fn([],{});c._sourceSegment=n,c._segmentIndexShift=e.length,i[ms(a)]=c}return i}(n,e,r,new fn(t,n.children)));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:[]}}if(0===t.length&&function Tf(n,e,t){return t.some(r=>kd(n,e,r))}(n,t,r)){const c=new fn(n.segments,function mm(n,e,t,r,i,a){const c={};for(const h of r)if(kd(n,t,h)&&!i[ms(h)]){const _=new fn([],{});_._sourceSegment=n,_._segmentIndexShift="legacy"===a?n.segments.length:e.length,c[ms(h)]=_}return Object.assign(Object.assign({},i),c)}(n,e,t,r,n.children,i));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:t}}const a=new fn(n.segments,n.children);return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:t}}function kd(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function gm(n,e,t,r){return!!(ms(n)===r||r!==nn&&kd(e,t,n))&&("**"===n.path||Ao(e,n,t).matched)}function Sf(n,e,t){return 0===e.length&&!n.children[t]}class Af{constructor(e){this.segmentGroup=e||null}}class Mc{constructor(e){this.urlTree=e}}function wr(n){return fl(new Af(n))}function Pd(n){return fl(new Mc(n))}class bu{constructor(e,t,r,i,a){this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=a,this.allowRedirects=!0,this.ngModule=e.get(u.h0i)}apply(){const e=Ac(this.urlTree.root,[],[],this.config).segmentGroup,t=new fn(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,nn).pipe((0,vt.U)(a=>this.createUrlTree(wu(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,Or.K)(a=>{if(a instanceof Mc)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof Af?this.noMatchError(a):a}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,nn).pipe((0,vt.U)(i=>this.createUrlTree(wu(i),e.queryParams,e.fragment))).pipe((0,Or.K)(i=>{throw i instanceof Af?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const i=e.segments.length>0?new fn([],{[nn]:e}):e;return new ji(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,vt.U)(a=>new fn([],a))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const a of Object.keys(r.children))"primary"===a?i.unshift(a):i.push(a);return(0,lr.D)(i).pipe((0,ds.b)(a=>{const c=r.children[a],h=pr(t,a);return this.expandSegmentGroup(e,h,c,a).pipe((0,vt.U)(_=>({segment:_,outlet:a})))}),(0,Ri.R)((a,c)=>(a[c.outlet]=c.segment,a),{}),function _u(n,e){const t=arguments.length>=2;return r=>r.pipe(n?(0,Hn.h)((i,a)=>n(i,a,r)):cs.y,Io(1),t?Zn(e):gu(()=>new ac))}())}expandSegment(e,t,r,i,a,c){return(0,lr.D)(r).pipe((0,ds.b)(h=>this.expandSegmentAgainstRoute(e,t,r,h,i,a,c).pipe((0,Or.K)(b=>{if(b instanceof Af)return(0,mt.of)(null);throw b}))),To(h=>!!h),(0,Or.K)((h,_)=>{if(h instanceof ac||"EmptyError"===h.name)return Sf(t,i,a)?(0,mt.of)(new fn([],{})):wr(t);throw h}))}expandSegmentAgainstRoute(e,t,r,i,a,c,h){return gm(i,t,a,c)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,a,c):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,c):wr(t):wr(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,c){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,c):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const a=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Pd(a):this.lineralizeSegments(r,a).pipe((0,cr.z)(c=>{const h=new fn(c,{});return this.expandSegment(e,h,t,c,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,c){const{matched:h,consumedSegments:_,remainingSegments:b,positionalParamSegments:D}=Ao(t,i,a);if(!h)return wr(t);const x=this.applyRedirectCommands(_,i.redirectTo,D);return i.redirectTo.startsWith("/")?Pd(x):this.lineralizeSegments(i,x).pipe((0,cr.z)(F=>this.expandSegment(e,t,r,F.concat(b),c,!1)))}matchSegmentAgainstRoute(e,t,r,i,a){if("**"===r.path)return r.loadChildren?(r._loadedConfig?(0,mt.of)(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,vt.U)(x=>(r._loadedConfig=x,new fn(i,{})))):(0,mt.of)(new fn(i,{}));const{matched:c,consumedSegments:h,remainingSegments:_}=Ao(t,r,i);return c?this.getChildConfig(e,r,i).pipe((0,cr.z)(D=>{const x=D.module,F=D.routes,{segmentGroup:j,slicedSegments:ee}=Ac(t,h,_,F),de=new fn(j.segments,j.children);if(0===ee.length&&de.hasChildren())return this.expandChildren(x,F,de).pipe((0,vt.U)(ft=>new fn(h,ft)));if(0===F.length&&0===ee.length)return(0,mt.of)(new fn(h,{}));const Ae=ms(r)===a;return this.expandSegment(x,de,F,ee,Ae?nn:a,!0).pipe((0,vt.U)(ct=>new fn(h.concat(ct.segments),ct.children)))})):wr(t)}getChildConfig(e,t,r){return t.children?(0,mt.of)(new oa(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?(0,mt.of)(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,cr.z)(i=>i?this.configLoader.load(e.injector,t).pipe((0,vt.U)(a=>(t._loadedConfig=a,a))):function ym(n){return fl(Qs(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):(0,mt.of)(new oa([],e))}runCanLoadGuards(e,t,r){const i=t.canLoad;if(!i||0===i.length)return(0,mt.of)(!0);const a=i.map(c=>{const h=e.get(c);let _;if(function P_(n){return n&&aa(n.canLoad)}(h))_=h.canLoad(t,r);else{if(!aa(h))throw new Error("Invalid CanLoad guard");_=h(t,r)}return bi(_)});return(0,mt.of)(a).pipe(Sc(),(0,ai.b)(c=>{if(!Tc(c))return;const h=Qs(`Redirecting to "${this.urlSerializer.serialize(c)}"`);throw h.url=c,h}),(0,vt.U)(c=>!0===c))}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return(0,mt.of)(r);if(i.numberOfChildren>1||!i.children[nn])return fl(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));i=i.children[nn]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,i){const a=this.createSegmentGroup(e,t.root,r,i);return new ji(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return fr(e,(i,a)=>{if("string"==typeof i&&i.startsWith(":")){const h=i.substring(1);r[a]=t[h]}else r[a]=i}),r}createSegmentGroup(e,t,r,i){const a=this.createSegments(e,t.segments,r,i);let c={};return fr(t.children,(h,_)=>{c[_]=this.createSegmentGroup(e,h,r,i)}),new fn(a,c)}createSegments(e,t,r,i){return t.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,i):this.findOrReturn(a,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}function wu(n){const e={};for(const r of Object.keys(n.children)){const a=wu(n.children[r]);(a.segments.length>0||a.hasChildren())&&(e[r]=a)}return function Nd(n){if(1===n.numberOfChildren&&n.children[nn]){const e=n.children[nn];return new fn(n.segments.concat(e.segments),e.children)}return n}(new fn(n.segments,e))}class Mf{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class xc{constructor(e,t){this.component=e,this.route=t}}function Fd(n,e,t){const r=n._root;return Du(r,e?e._root:null,t,[r.value])}function Cu(n,e,t){const r=function Ld(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function Du(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=Fs(e);return n.children.forEach(c=>{(function xf(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,c=e?e.value:null,h=t?t.getContext(n.value.outlet):null;if(c&&a.routeConfig===c.routeConfig){const _=function V_(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Ns(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Ns(n.url,e.url)||!Ei(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!li(n,e)||!Ei(n.queryParams,e.queryParams);default:return!li(n,e)}}(c,a,a.routeConfig.runGuardsAndResolvers);_?i.canActivateChecks.push(new Mf(r)):(a.data=c.data,a._resolvedData=c._resolvedData),Du(n,e,a.component?h?h.children:null:t,r,i),_&&h&&h.outlet&&h.outlet.isActivated&&i.canDeactivateChecks.push(new xc(h.outlet.component,c))}else c&&Rc(e,h,i),i.canActivateChecks.push(new Mf(r)),Du(n,null,a.component?h?h.children:null:t,r,i)})(c,a[c.value.outlet],t,r.concat([c.value]),i),delete a[c.value.outlet]}),fr(a,(c,h)=>Rc(c,t.getContext(h),i)),i}function Rc(n,e,t){const r=Fs(n),i=n.value;fr(r,(a,c)=>{Rc(a,i.component?e?e.children.getContext(c):null:e,t)}),t.canDeactivateChecks.push(new xc(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class $_{}function Of(n){return new xr.y(e=>e.error(n))}class Em{constructor(e,t,r,i,a,c){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=a,this.relativeLinkResolution=c}recognize(){const e=Ac(this.urlTree.root,[],[],this.config.filter(c=>void 0===c.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,nn);if(null===t)return null;const r=new Ls([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},nn,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Hi(r,t),a=new Cc(this.url,i);return this.inheritParamsAndData(a._root),a}inheritParamsAndData(e){const t=e.value,r=xd(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const a of Object.keys(t.children)){const c=t.children[a],h=pr(e,a),_=this.processSegmentGroup(h,c,a);if(null===_)return null;r.push(..._)}const i=wm(r);return function kf(n){n.sort((e,t)=>e.value.outlet===nn?-1:t.value.outlet===nn?1:e.value.outlet.localeCompare(t.value.outlet))}(i),i}processSegment(e,t,r,i){for(const a of e){const c=this.processSegmentAgainstRoute(a,t,r,i);if(null!==c)return c}return Sf(t,r,i)?[]:null}processSegmentAgainstRoute(e,t,r,i){if(e.redirectTo||!gm(e,t,r,i))return null;let a,c=[],h=[];if("**"===e.path){const j=r.length>0?Na(r).parameters:{};a=new Ls(r,j,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Oi(e),ms(e),e.component,e,Dm(t),Gr(t)+r.length,Im(e))}else{const j=Ao(t,e,r);if(!j.matched)return null;c=j.consumedSegments,h=j.remainingSegments,a=new Ls(c,j.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Oi(e),ms(e),e.component,e,Dm(t),Gr(t)+c.length,Im(e))}const _=function Pf(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:b,slicedSegments:D}=Ac(t,c,h,_.filter(j=>void 0===j.redirectTo),this.relativeLinkResolution);if(0===D.length&&b.hasChildren()){const j=this.processChildren(_,b);return null===j?null:[new Hi(a,j)]}if(0===_.length&&0===D.length)return[new Hi(a,[])];const x=ms(e)===i,F=this.processSegment(_,b,D,x?nn:i);return null===F?null:[new Hi(a,F)]}}function bm(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function wm(n){const e=[],t=new Set;for(const r of n){if(!bm(r)){e.push(r);continue}const i=e.find(a=>r.value.routeConfig===a.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=wm(r.children);e.push(new Hi(r.value,i))}return e.filter(r=>!t.has(r))}function Dm(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Gr(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function Oi(n){return n.data||{}}function Im(n){return n.resolve||{}}function Tu(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function xo(n){return(0,_n.w)(e=>{const t=n(e);return t?(0,lr.D)(t).pipe((0,vt.U)(()=>e)):(0,mt.of)(e)})}class Sm extends class Su{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Ud=new u.OlP("ROUTES");class Au{constructor(e,t,r,i){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const i=this.loadModuleFactory(t.loadChildren).pipe((0,vt.U)(a=>{this.onLoadEndListener&&this.onLoadEndListener(t);const c=a.create(e);return new oa(vl(c.injector.get(Ud,void 0,u.XFs.Self|u.XFs.Optional)).map(Eu),c)}),(0,Or.K)(a=>{throw t._loader$=void 0,a}));return t._loader$=new Do(i,()=>new tn.x).pipe(mu()),t._loader$}loadModuleFactory(e){return bi(e()).pipe((0,cr.z)(t=>t instanceof u.YKP?(0,mt.of)(t):(0,lr.D)(this.compiler.compileModuleAsync(t))))}}class jd{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Am(n){throw n}function Oc(n,e,t){return e.parse("/")}function Bs(n,e){return(0,mt.of)(null)}const kc={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Mm={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ti=(()=>{class n{constructor(t,r,i,a,c,h,_){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=a,this.config=_,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new tn.x,this.errorHandler=Am,this.malformedUriErrorHandler=Oc,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Bs,afterPreactivation:Bs},this.urlHandlingStrategy=new jd,this.routeReuseStrategy=new Sm,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=c.get(u.h0i),this.console=c.get(u.c2e);const x=c.get(u.R0b);this.isNgZoneEnabled=x instanceof u.R0b&&u.R0b.isInAngularZone(),this.resetConfig(_),this.currentUrlTree=function Ps(){return new ji(new fn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Au(c,h,F=>this.triggerEvent(new hs(F)),F=>this.triggerEvent(new yl(F))),this.routerState=wc(this.currentUrlTree,this.rootComponentType),this.transitions=new oi.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe((0,Hn.h)(i=>0!==i.id),(0,vt.U)(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),(0,_n.w)(i=>{let a=!1,c=!1;return(0,mt.of)(i).pipe((0,ai.b)(h=>{this.currentNavigation={id:h.id,initialUrl:h.currentRawUrl,extractedUrl:h.extractedUrl,trigger:h.source,extras:h.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,_n.w)(h=>{const _=this.browserUrlTree.toString(),b=!this.navigated||h.extractedUrl.toString()!==_||_!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||b)&&this.urlHandlingStrategy.shouldProcessUrl(h.rawUrl))return Hd(h.source)&&(this.browserUrlTree=h.extractedUrl),(0,mt.of)(h).pipe((0,_n.w)(x=>{const F=this.transitions.getValue();return r.next(new ea(x.id,this.serializeUrl(x.extractedUrl),x.source,x.restoredState)),F!==this.transitions.getValue()?gn.E:Promise.resolve(x)}),function L_(n,e,t,r){return(0,_n.w)(i=>function Di(n,e,t,r,i){return new bu(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,vt.U)(a=>Object.assign(Object.assign({},i),{urlAfterRedirects:a}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,ai.b)(x=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:x.urlAfterRedirects})}),function ub(n,e,t,r,i){return(0,cr.z)(a=>function G_(n,e,t,r,i="emptyOnly",a="legacy"){try{const c=new Em(n,e,t,r,i,a).recognize();return null===c?Of(new $_):(0,mt.of)(c)}catch(c){return Of(c)}}(n,e,a.urlAfterRedirects,t(a.urlAfterRedirects),r,i).pipe((0,vt.U)(c=>Object.assign(Object.assign({},a),{targetSnapshot:c}))))}(this.rootComponentType,this.config,x=>this.serializeUrl(x),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,ai.b)(x=>{if("eager"===this.urlUpdateStrategy){if(!x.extras.skipLocationChange){const j=this.urlHandlingStrategy.merge(x.urlAfterRedirects,x.rawUrl);this.setBrowserUrl(j,x)}this.browserUrlTree=x.urlAfterRedirects}const F=new ml(x.id,this.serializeUrl(x.extractedUrl),this.serializeUrl(x.urlAfterRedirects),x.targetSnapshot);r.next(F)}));if(b&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:F,extractedUrl:j,source:ee,restoredState:de,extras:Ae}=h,it=new ea(F,this.serializeUrl(j),ee,de);r.next(it);const ct=wc(j,this.rootComponentType).snapshot;return(0,mt.of)(Object.assign(Object.assign({},h),{targetSnapshot:ct,urlAfterRedirects:j,extras:Object.assign(Object.assign({},Ae),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=h.rawUrl,h.resolve(null),gn.E}),xo(h=>{const{targetSnapshot:_,id:b,extractedUrl:D,rawUrl:x,extras:{skipLocationChange:F,replaceUrl:j}}=h;return this.hooks.beforePreactivation(_,{navigationId:b,appliedUrlTree:D,rawUrlTree:x,skipLocationChange:!!F,replaceUrl:!!j})}),(0,ai.b)(h=>{const _=new gl(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);this.triggerEvent(_)}),(0,vt.U)(h=>Object.assign(Object.assign({},h),{guards:Fd(h.targetSnapshot,h.currentSnapshot,this.rootContexts)})),function Rf(n,e){return(0,cr.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:a,canDeactivateChecks:c}}=t;return 0===c.length&&0===a.length?(0,mt.of)(Object.assign(Object.assign({},t),{guardsResult:!0})):function U_(n,e,t,r){return(0,lr.D)(n).pipe((0,cr.z)(i=>function z_(n,e,t,r,i){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!a||0===a.length)return(0,mt.of)(!0);const c=a.map(h=>{const _=Cu(h,e,i);let b;if(function vf(n){return n&&aa(n.canDeactivate)}(_))b=bi(_.canDeactivate(n,e,t,r));else{if(!aa(_))throw new Error("Invalid CanDeactivate guard");b=bi(_(n,e,t,r))}return b.pipe(To())});return(0,mt.of)(c).pipe(Sc())}(i.component,i.route,t,e,r)),To(i=>!0!==i,!0))}(c,r,i,n).pipe((0,cr.z)(h=>h&&function hm(n){return"boolean"==typeof n}(h)?function j_(n,e,t,r){return(0,lr.D)(e).pipe((0,ds.b)(i=>Oa(function Iu(n,e){return null!==n&&e&&e(new cc(n)),(0,mt.of)(!0)}(i.route.parent,r),function Bd(n,e){return null!==n&&e&&e(new Id(n)),(0,mt.of)(!0)}(i.route,r),function vm(n,e,t){const r=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(c=>function B_(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(c)).filter(c=>null!==c).map(c=>pl(()=>{const h=c.guards.map(_=>{const b=Cu(_,c.node,t);let D;if(function vu(n){return n&&aa(n.canActivateChild)}(b))D=bi(b.canActivateChild(r,n));else{if(!aa(b))throw new Error("Invalid CanActivateChild guard");D=bi(b(r,n))}return D.pipe(To())});return(0,mt.of)(h).pipe(Sc())}));return(0,mt.of)(a).pipe(Sc())}(n,i.path,t),function H_(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return(0,mt.of)(!0);const i=r.map(a=>pl(()=>{const c=Cu(a,e,t);let h;if(function yf(n){return n&&aa(n.canActivate)}(c))h=bi(c.canActivate(e,n));else{if(!aa(c))throw new Error("Invalid CanActivate guard");h=bi(c(e,n))}return h.pipe(To())}));return(0,mt.of)(i).pipe(Sc())}(n,i.route,t))),To(i=>!0!==i,!0))}(r,a,n,e):(0,mt.of)(h)),(0,vt.U)(h=>Object.assign(Object.assign({},t),{guardsResult:h})))})}(this.ngModule.injector,h=>this.triggerEvent(h)),(0,ai.b)(h=>{if(Tc(h.guardsResult)){const b=Qs(`Redirecting to "${this.serializeUrl(h.guardsResult)}"`);throw b.url=h.guardsResult,b}const _=new _l(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot,!!h.guardsResult);this.triggerEvent(_)}),(0,Hn.h)(h=>!!h.guardsResult||(this.restoreHistory(h),this.cancelNavigationTransition(h,""),!1)),xo(h=>{if(h.guards.canActivateChecks.length)return(0,mt.of)(h).pipe((0,ai.b)(_=>{const b=new Dd(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(b)}),(0,_n.w)(_=>{let b=!1;return(0,mt.of)(_).pipe(function Vd(n,e){return(0,cr.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return(0,mt.of)(t);let a=0;return(0,lr.D)(i).pipe((0,ds.b)(c=>function Tm(n,e,t,r){return function Mo(n,e,t,r){const i=Tu(n);if(0===i.length)return(0,mt.of)({});const a={};return(0,lr.D)(i).pipe((0,cr.z)(c=>function Nf(n,e,t,r){const i=Cu(n,e,r);return bi(i.resolve?i.resolve(e,t):i(e,t))}(n[c],e,t,r).pipe((0,ai.b)(h=>{a[c]=h}))),Io(1),(0,cr.z)(()=>Tu(a).length===i.length?(0,mt.of)(a):gn.E))}(n._resolve,n,e,r).pipe((0,vt.U)(a=>(n._resolvedData=a,n.data=Object.assign(Object.assign({},n.data),xd(n,t).resolve),null)))}(c.route,r,n,e)),(0,ai.b)(()=>a++),Io(1),(0,cr.z)(c=>a===i.length?(0,mt.of)(t):gn.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,ai.b)({next:()=>b=!0,complete:()=>{b||(this.restoreHistory(_),this.cancelNavigationTransition(_,"At least one route resolver didn't emit any value."))}}))}),(0,ai.b)(_=>{const b=new yi(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(b)}))}),xo(h=>{const{targetSnapshot:_,id:b,extractedUrl:D,rawUrl:x,extras:{skipLocationChange:F,replaceUrl:j}}=h;return this.hooks.afterPreactivation(_,{navigationId:b,appliedUrlTree:D,rawUrlTree:x,skipLocationChange:!!F,replaceUrl:!!j})}),(0,vt.U)(h=>{const _=function dm(n,e,t){const r=Tl(n,e._root,t?t._root:void 0);return new bc(r,e)}(this.routeReuseStrategy,h.targetSnapshot,h.currentRouterState);return Object.assign(Object.assign({},h),{targetRouterState:_})}),(0,ai.b)(h=>{this.currentUrlTree=h.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(h.urlAfterRedirects,h.rawUrl),this.routerState=h.targetRouterState,"deferred"===this.urlUpdateStrategy&&(h.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,h),this.browserUrlTree=h.urlAfterRedirects)}),((n,e,t)=>(0,vt.U)(r=>(new ci(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,h=>this.triggerEvent(h)),(0,ai.b)({next(){a=!0},complete(){a=!0}}),ff(()=>{var h;a||c||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(h=this.currentNavigation)||void 0===h?void 0:h.id)===i.id&&(this.currentNavigation=null)}),(0,Or.K)(h=>{if(c=!0,function Pa(n){return n&&n[vi]}(h)){const _=Tc(h.url);_||(this.navigated=!0,this.restoreHistory(i,!0));const b=new pf(i.id,this.serializeUrl(i.extractedUrl),h.message);r.next(b),_?setTimeout(()=>{const D=this.urlHandlingStrategy.merge(h.url,this.rawUrlTree),x={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Hd(i.source)};this.scheduleNavigation(D,"imperative",null,x,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const _=new br(i.id,this.serializeUrl(i.extractedUrl),h);r.next(_);try{i.resolve(this.errorHandler(h))}catch(b){i.reject(b)}}return gn.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const a={replaceUrl:!0},c=(null===(i=t.state)||void 0===i?void 0:i.navigationId)?t.state:null;if(c){const _=Object.assign({},c);delete _.navigationId,delete _.\u0275routerPageId,0!==Object.keys(_).length&&(a.state=_)}const h=this.parseUrl(t.url);this.scheduleNavigation(h,r,c,a)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Df(t),this.config=t.map(Eu),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:a,fragment:c,queryParamsHandling:h,preserveFragment:_}=r,b=i||this.routerState.root,D=_?this.currentUrlTree.fragment:c;let x=null;switch(h){case"merge":x=Object.assign(Object.assign({},this.currentUrlTree.queryParams),a);break;case"preserve":x=this.currentUrlTree.queryParams;break;default:x=a||null}return null!==x&&(x=this.removeEmptyProps(x)),function _f(n,e,t,r,i){if(0===t.length)return I(e.root,e.root,e.root,r,i);const a=function te(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new L(!0,0,n);let e=0,t=!1;const r=n.reduce((i,a,c)=>{if("object"==typeof a&&null!=a){if(a.outlets){const h={};return fr(a.outlets,(_,b)=>{h[b]="string"==typeof _?_.split("/"):_}),[...i,{outlets:h}]}if(a.segmentPath)return[...i,a.segmentPath]}return"string"!=typeof a?[...i,a]:0===c?(a.split("/").forEach((h,_)=>{0==_&&"."===h||(0==_&&""===h?t=!0:".."===h?e++:""!=h&&i.push(h))}),i):[...i,a]},[]);return new L(t,e,r)}(t);if(a.toRoot())return I(e.root,e.root,new fn([],{}),r,i);const c=function Ie(n,e,t){if(n.isAbsolute)return new ce(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const a=t.snapshot._urlSegment;return new ce(a,a===e.root,0)}const r=fs(n.commands[0])?0:1;return function st(n,e,t){let r=n,i=e,a=t;for(;a>i;){if(a-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new ce(r,!1,i-a)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(a,e,n),h=c.processChildren?Lt(c.segmentGroup,c.index,a.commands):_t(c.segmentGroup,c.index,a.commands);return I(e.root,c.segmentGroup,h,r,i)}(b,this.currentUrlTree,t,x,null!=D?D:null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Tc(t)?t:this.parseUrl(t),a=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(a,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function q_(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?Object.assign({},kc):!1===r?Object.assign({},Mm):r,Tc(t))return El(this.currentUrlTree,t,i);const a=this.parseUrl(t);return El(this.currentUrlTree,a,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const a=t[i];return null!=a&&(r[i]=a),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new ks(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,a,c){var h,_;if(this.disposed)return Promise.resolve(!1);let b,D,x;c?(b=c.resolve,D=c.reject,x=c.promise):x=new Promise((ee,de)=>{b=ee,D=de});const F=++this.navigationId;let j;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),j=i&&i.\u0275routerPageId?i.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?null!==(h=this.browserPageId)&&void 0!==h?h:0:(null!==(_=this.browserPageId)&&void 0!==_?_:0)+1):j=0,this.setTransition({id:F,targetPageId:j,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:a,resolve:b,reject:D,promise:x,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),x.catch(ee=>Promise.reject(ee))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),a=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",a):this.location.go(i,"",a)}restoreHistory(t,r=!1){var i,a;if("computed"===this.canceledNavigationResolution){const c=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===c?this.currentUrlTree===(null===(a=this.currentNavigation)||void 0===a?void 0:a.finalUrl)&&0===c&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(c)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const i=new pf(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(i),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function Hd(n){return"imperative"!==n}class p{}class E{preload(e,t){return(0,mt.of)(null)}}let S=(()=>{class n{constructor(t,r,i,a){this.router=t,this.injector=i,this.preloadingStrategy=a,this.loader=new Au(i,r,_=>t.triggerEvent(new hs(_)),_=>t.triggerEvent(new yl(_)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,Hn.h)(t=>t instanceof ks),(0,ds.b)(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(u.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const a of r)if(a.loadChildren&&!a.canLoad&&a._loadedConfig){const c=a._loadedConfig;i.push(this.processRoutes(c.module,c.routes))}else a.loadChildren&&!a.canLoad?i.push(this.preloadConfig(t,a)):a.children&&i.push(this.processRoutes(t,a.children));return(0,lr.D)(i).pipe((0,us.J)(),(0,vt.U)(a=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?(0,mt.of)(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,cr.z)(a=>(r._loadedConfig=a,this.processRoutes(a.module,a.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ti),u.LFG(u.Sil),u.LFG(u.zs3),u.LFG(p))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),P=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof ea?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof ks&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Td&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new Td(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const ue=new u.OlP("ROUTER_CONFIGURATION"),Ve=new u.OlP("ROUTER_FORROOT_GUARD"),tt=[Ee,{provide:Ba,useClass:Xs},{provide:Ti,useFactory:function $d(n,e,t,r,i,a,c={},h,_){const b=new Ti(null,n,e,t,r,i,vl(a));return h&&(b.urlHandlingStrategy=h),_&&(b.routeReuseStrategy=_),function Gd(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(c,b),c.enableTracing&&b.events.subscribe(D=>{var x,F;null===(x=console.group)||void 0===x||x.call(console,`Router Event: ${D.constructor.name}`),console.log(D.toString()),console.log(D),null===(F=console.groupEnd)||void 0===F||F.call(console)}),b},deps:[Ba,qa,Ee,u.zs3,u.Sil,Ud,ue,[class Ii{},new u.FiY],[class Ff{},new u.FiY]]},qa,{provide:sa,useFactory:function Vf(n){return n.routerState.root},deps:[Ti]},S,E,class m{preload(e,t){return t().pipe((0,Or.K)(()=>(0,mt.of)(null)))}},{provide:ue,useValue:{enableTracing:!1}}];function dt(){return new u.PXZ("Router",Ti)}let ht=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[tt,zd(t),{provide:Ve,useFactory:Mu,deps:[[Ti,new u.FiY,new u.tp0]]},{provide:ue,useValue:r||{}},{provide:ye,useFactory:ro,deps:[ne,[new u.tBr(Ke),new u.FiY],ue]},{provide:P,useFactory:Yn,deps:[Ti,iu,ue]},{provide:p,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:E},{provide:u.PXZ,multi:!0,useFactory:dt},[Wa,{provide:u.ip1,multi:!0,useFactory:xu,deps:[Wa]},{provide:Nc,useFactory:Uf,deps:[Wa]},{provide:u.tb,multi:!0,useExisting:Nc}]]}}static forChild(t){return{ngModule:n,providers:[zd(t)]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ve,8),u.LFG(Ti,8))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();function Yn(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new P(n,e,t)}function ro(n,e,t={}){return t.useHash?new Re(n,e):new qe(n,e)}function Mu(n){return"guarded"}function zd(n){return[{provide:u.deG,multi:!0,useValue:n},{provide:Ud,multi:!0,useValue:n}]}let Wa=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new tn.x}appInitializer(){return this.injector.get(V,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(h=>r=h),a=this.injector.get(Ti),c=this.injector.get(ue);return"disabled"===c.initialNavigation?(a.setUpLocationChangeListener(),r(!0)):"enabled"===c.initialNavigation||"enabledBlocking"===c.initialNavigation?(a.hooks.afterPreactivation=()=>this.initNavigation?(0,mt.of)(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),a.initialNavigation()):r(!0),i})}bootstrapListener(t){const r=this.injector.get(ue),i=this.injector.get(S),a=this.injector.get(P),c=this.injector.get(Ti),h=this.injector.get(u.z2F);t===h.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&c.initialNavigation(),i.setUpPreloading(),a.init(),c.resetRootComponentType(h.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.zs3))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function xu(n){return n.appInitializer.bind(n)}function Uf(n){return n.bootstrapListener.bind(n)}const Nc=new u.OlP("Router Initializer"),Al=[];let K_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[ht.forRoot(Al)],ht]}),n})();const db=new u.OlP("cdk-dir-doc",{providedIn:"root",factory:function kI(){return(0,u.f3M)(W)}}),PI=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Y_,Ru=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new u.vpe,t){const i=t.documentElement?t.documentElement.dir:null;this.value=function hb(n){const e=(null==n?void 0:n.toLowerCase())||"";return"auto"===e&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?PI.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||i||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(db,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Rm=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();try{Y_="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){Y_=!1}let qd,ki=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function Kn(n){return n===sl}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Y_)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.Lbi))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Ro=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function fb(){if(qd)return qd;if("object"!=typeof document||!document)return qd=new Set(Ro),qd;let n=document.createElement("input");return qd=new Set(Ro.filter(e=>(n.setAttribute("type",e),n.type===e))),qd}let Wd,Ou,Q_;function Om(n){return function FI(){if(null==Wd&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Wd=!0}))}finally{Wd=Wd||!1}return Wd}()?n:!!n.capture}function pb(){if(null==Ou){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Ou=!1,Ou;if("scrollBehavior"in document.documentElement.style)Ou=!0;else{const n=Element.prototype.scrollTo;Ou=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Ou}function Pm(){let n="undefined"!=typeof document&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function Fc(n){return n.composedPath?n.composedPath()[0]:n.target}function Nm(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}var aT=M(5684),Lb=M(1884),io=M(2722);function so(n){return null!=n&&"false"!=`${n}`}function Gf(n){return Array.isArray(n)?n:[n]}function Qn(n){return null==n?"":"string"==typeof n?n:`${n}px`}function ko(n){return n instanceof u.SBq?n.nativeElement:n}let ay=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function $b(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const r=function Kd(n){try{return n.frameElement}catch(e){return null}}(function Wb(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(r&&(-1===qb(r)||!this.isVisible(r)))return!1;let i=t.nodeName.toLowerCase(),a=qb(t);return t.hasAttribute("contenteditable")?-1!==a:!("iframe"===i||"object"===i||this._platform.WEBKIT&&this._platform.IOS&&!function la(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===i?!!t.hasAttribute("controls")&&-1!==a:"video"===i?-1!==a&&(null!==a||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,r){return function ly(n){return!function hT(n){return function fT(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function dT(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function Zd(n){return function pT(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||Gb(n))}(t)&&!this.isDisabled(t)&&((null==r?void 0:r.ignoreVisibility)||this.isVisible(t))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ki))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Gb(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function qb(n){if(!Gb(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class Kb{constructor(e,t,r,i,a=!1){this._element=e,this._checker=t,this._ngZone=r,this._document=i,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,a||this.attachAnchors()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const r=this._getFirstTabbableElement(t);return null==r||r.focus(e),!!r}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let r=0;r<t.length;r++){const i=t[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[r]):null;if(i)return i}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let r=t.length-1;r>=0;r--){const i=t[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[r]):null;if(i)return i}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe((0,hr.q)(1)).subscribe(e)}}let Zb=(()=>{class n{constructor(t,r,i){this._checker=t,this._ngZone=r,this._document=i}create(t,r=!1){return new Kb(t,this._checker,this._ngZone,this._document,r)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ay),u.LFG(u.R0b),u.LFG(W))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function _T(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function cy(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const yT=new u.OlP("cdk-input-modality-detector-options"),vT={ignoreKeys:[18,17,224,91,16]},Wf=Om({passive:!0,capture:!0});let uy=(()=>{class n{constructor(t,r,i,a){this._platform=t,this._mostRecentTarget=null,this._modality=new oi.X(null),this._lastTouchMs=0,this._onKeydown=c=>{var h,_;(null===(_=null===(h=this._options)||void 0===h?void 0:h.ignoreKeys)||void 0===_?void 0:_.some(b=>b===c.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=Fc(c))},this._onMousedown=c=>{Date.now()-this._lastTouchMs<650||(this._modality.next(_T(c)?"keyboard":"mouse"),this._mostRecentTarget=Fc(c))},this._onTouchstart=c=>{cy(c)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Fc(c))},this._options=Object.assign(Object.assign({},vT),a),this.modalityDetected=this._modality.pipe((0,aT.T)(1)),this.modalityChanged=this.modalityDetected.pipe((0,Lb.x)()),t.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,Wf),i.addEventListener("mousedown",this._onMousedown,Wf),i.addEventListener("touchstart",this._onTouchstart,Wf)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Wf),document.removeEventListener("mousedown",this._onMousedown,Wf),document.removeEventListener("touchstart",this._onTouchstart,Wf))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ki),u.LFG(u.R0b),u.LFG(W),u.LFG(yT,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const bT=new u.OlP("liveAnnouncerElement",{providedIn:"root",factory:function Yb(){return null}}),Qb=new u.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let wT=(()=>{class n{constructor(t,r,i,a){this._ngZone=r,this._defaultOptions=a,this._document=i,this._liveElement=t||this._createLiveElement()}announce(t,...r){const i=this._defaultOptions;let a,c;return 1===r.length&&"number"==typeof r[0]?c=r[0]:[a,c]=r,this.clear(),clearTimeout(this._previousTimeout),a||(a=i&&i.politeness?i.politeness:"polite"),null==c&&i&&(c=i.duration),this._liveElement.setAttribute("aria-live",a),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(h=>this._currentResolve=h)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,"number"==typeof c&&(this._previousTimeout=setTimeout(()=>this.clear(),c)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){var t,r;clearTimeout(this._previousTimeout),null===(t=this._liveElement)||void 0===t||t.remove(),this._liveElement=null,null===(r=this._currentResolve)||void 0===r||r.call(this),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const t="cdk-live-announcer-element",r=this._document.getElementsByClassName(t),i=this._document.createElement("div");for(let a=0;a<r.length;a++)r[a].remove();return i.classList.add(t),i.classList.add("cdk-visually-hidden"),i.setAttribute("aria-atomic","true"),i.setAttribute("aria-live","polite"),this._document.body.appendChild(i),i}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(bT,8),u.LFG(u.R0b),u.LFG(W),u.LFG(Qb,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const aP=new u.OlP("cdk-focus-monitor-default-options"),dy=Om({passive:!0,capture:!0});let hy=(()=>{class n{constructor(t,r,i,a,c){this._ngZone=t,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new tn.x,this._rootNodeFocusAndBlurListener=h=>{const _=Fc(h),b="focus"===h.type?this._onFocus:this._onBlur;for(let D=_;D;D=D.parentElement)b.call(this,h,D)},this._document=a,this._detectionMode=(null==c?void 0:c.detectionMode)||0}monitor(t,r=!1){const i=ko(t);if(!this._platform.isBrowser||1!==i.nodeType)return(0,mt.of)(null);const a=function rn(n){if(function LI(){if(null==Q_){const n="undefined"!=typeof document?document.head:null;Q_=!(!n||!n.createShadowRoot&&!n.attachShadow)}return Q_}()){const e=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(i)||this._getDocument(),c=this._elementInfo.get(i);if(c)return r&&(c.checkChildren=!0),c.subject;const h={checkChildren:r,subject:new tn.x,rootNode:a};return this._elementInfo.set(i,h),this._registerGlobalListeners(h),h.subject}stopMonitoring(t){const r=ko(t),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(t,r,i){const a=ko(t);a===this._getDocument().activeElement?this._getClosestElementsInfo(a).forEach(([h,_])=>this._originChanged(h,r,_)):(this._setOrigin(r),"function"==typeof a.focus&&a.focus(i))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!(null==t?void 0:t.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused","touch"===r),t.classList.toggle("cdk-keyboard-focused","keyboard"===r),t.classList.toggle("cdk-mouse-focused","mouse"===r),t.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,r){const i=this._elementInfo.get(r),a=Fc(t);!i||!i.checkChildren&&r!==a||this._originChanged(r,this._getFocusOrigin(a),i)}_onBlur(t,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(i.subject,null))}_emitOrigin(t,r){this._ngZone.run(()=>t.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const r=t.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,dy),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,dy)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,io.R)(this._stopInputModalityDetector)).subscribe(a=>{this._setOrigin(a,!0)}))}_removeGlobalListeners(t){const r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,dy),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,dy),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,i){this._setClasses(t,r),this._emitOrigin(i.subject,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){const r=[];return this._elementInfo.forEach((i,a)=>{(a===t||i.checkChildren&&a.contains(t))&&r.push([a,i])}),r}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.R0b),u.LFG(ki),u.LFG(uy),u.LFG(W,8),u.LFG(aP,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const fy="cdk-high-contrast-black-on-white",Xb="cdk-high-contrast-white-on-black",Jb="cdk-high-contrast-active";let e0=(()=>{class n{constructor(t,r){this._platform=t,this._document=r}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,a=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),a){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(Jb),t.remove(fy),t.remove(Xb),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?(t.add(Jb),t.add(fy)):2===r&&(t.add(Jb),t.add(Xb))}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ki),u.LFG(W))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class n0{}const Rl="*";function my(n,e){return{type:7,name:n,definitions:e,options:{}}}function Kf(n,e=null){return{type:4,styles:e,timings:n}}function r0(n,e=null){return{type:3,steps:n,options:e}}function s0(n,e=null){return{type:2,steps:n,options:e}}function ca(n){return{type:6,styles:n,offset:null}}function Lc(n,e,t){return{type:0,name:n,styles:e,options:t}}function Yf(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function o0(n=null){return{type:9,options:n}}function Vm(n,e,t=null){return{type:11,selector:n,animation:e,options:t}}function Yd(n){Promise.resolve(null).then(n)}class Yr{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Yd(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class Bc{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const a=this.players.length;0==a?Yd(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++t==a&&this._onFinish()}),c.onDestroy(()=>{++r==a&&this._onDestroy()}),c.onStart(()=>{++i==a&&this._onStart()})}),this.totalTime=this.players.reduce((c,h)=>Math.max(c,h.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const Yt=!1;function Nu(n){return new u.vHH(3e3,Yt)}function hP(){return"undefined"!=typeof window&&void 0!==window.document}function v0(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Vc(n){switch(n.length){case 0:return new Yr;case 1:return n[0];default:return new Bc(n)}}function yy(n,e,t,r,i={},a={}){const c=[],h=[];let _=-1,b=null;if(r.forEach(D=>{const x=D.offset,F=x==_,j=F&&b||{};Object.keys(D).forEach(ee=>{let de=ee,Ae=D[ee];if("offset"!==ee)switch(de=e.normalizePropertyName(de,c),Ae){case"!":Ae=i[ee];break;case Rl:Ae=a[ee];break;default:Ae=e.normalizeStyleValue(ee,de,Ae,c)}j[de]=Ae}),F||h.push(j),b=j,_=x}),c.length)throw function MT(n){return new u.vHH(3502,Yt)}();return h}function E0(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&vy(t,"start",n)));break;case"done":n.onDone(()=>r(t&&vy(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&vy(t,"destroy",n)))}}function vy(n,e,t){const r=t.totalTime,a=Uc(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==r?n.totalTime:r,!!t.disabled),c=n._data;return null!=c&&(a._data=c),a}function Uc(n,e,t,r,i="",a=0,c){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:a,disabled:!!c}}function oo(n,e,t){let r;return n instanceof Map?(r=n.get(e),r||n.set(e,r=t)):(r=n[e],r||(r=n[e]=t)),r}function Ey(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let by=(n,e)=>!1,wy=(n,e,t)=>[],Qf=null;function Cy(n){const e=n.parentNode||n.host;return e===Qf?null:e}(v0()||"undefined"!=typeof Element)&&(hP()?(Qf=(()=>document.documentElement)(),by=(n,e)=>{for(;e;){if(e===n)return!0;e=Cy(e)}return!1}):by=(n,e)=>n.contains(e),wy=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let Fu=null,b0=!1;function w0(n){Fu||(Fu=function FT(){return"undefined"!=typeof document?document.body:null}()||{},b0=!!Fu.style&&"WebkitAppearance"in Fu.style);let e=!0;return Fu.style&&!function NT(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Fu.style,!e&&b0&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Fu.style)),e}const Dy=by,C0=wy;let Iy=(()=>{class n{validateStyleProperty(t){return w0(t)}matchesElement(t,r){return!1}containsElement(t,r){return Dy(t,r)}getParentElement(t){return Cy(t)}query(t,r,i){return C0(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,a,c,h=[],_){return new Yr(i,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Xf=(()=>{class n{}return n.NOOP=new Iy,n})();const D0="ng-enter",jc="ng-leave",Jf="ng-trigger",ah=".ng-trigger",jm="ng-animating",Ty=".ng-animating";function Ya(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:lh(parseFloat(e[1]),e[2])}function lh(n,e){return"s"===e?1e3*n:n}function ch(n,e,t){return n.hasOwnProperty("duration")?n:function pP(n,e,t){let i,a=0,c="";if("string"==typeof n){const h=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===h)return e.push(Nu()),{duration:0,delay:0,easing:""};i=lh(parseFloat(h[1]),h[2]);const _=h[3];null!=_&&(a=lh(parseFloat(_),h[4]));const b=h[5];b&&(c=b)}else i=n;if(!t){let h=!1,_=e.length;i<0&&(e.push(function Jd(){return new u.vHH(3100,Yt)}()),h=!0),a<0&&(e.push(function eh(){return new u.vHH(3101,Yt)}()),h=!0),h&&e.splice(_,0,Nu())}return{duration:i,delay:a,easing:c}}(n,e,t)}function uh(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function ua(n,e,t={}){if(e)for(let r in n)t[r]=n[r];else uh(n,t);return t}function Hm(n,e,t){return t?e+":"+t+";":""}function Sy(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=Hm(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=Hm(0,VT(t),n.style[t]));n.setAttribute("style",e)}function Po(n,e,t){n.style&&(Object.keys(e).forEach(r=>{const i=zm(r);t&&!t.hasOwnProperty(r)&&(t[r]=n.style[i]),n.style[i]=e[r]}),v0()&&Sy(n))}function Hc(n,e){n.style&&(Object.keys(e).forEach(t=>{const r=zm(t);n.style[r]=""}),v0()&&Sy(n))}function dh(n){return Array.isArray(n)?1==n.length?n[0]:s0(n):n}const tp=new RegExp("{{\\s*(.+?)\\s*}}","g");function I0(n){let e=[];if("string"==typeof n){let t;for(;t=tp.exec(n);)e.push(t[1]);tp.lastIndex=0}return e}function np(n,e,t){const r=n.toString(),i=r.replace(tp,(a,c)=>{let h=e[c];return e.hasOwnProperty(c)||(t.push(function nh(n){return new u.vHH(3003,Yt)}()),h=""),h.toString()});return i==r?n:i}function rp(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const My=/-+([a-z0-9])/g;function zm(n){return n.replace(My,(...e)=>e[1].toUpperCase())}function VT(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Vs(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function rh(n){return new u.vHH(3004,Yt)}()}}function $m(n,e){return window.getComputedStyle(n)[e]}function mP(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function HT(n,e,t){if(":"==n[0]){const _=function zT(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function TT(n){return new u.vHH(3016,Yt)}()),"* => *"}}(n,t);if("function"==typeof _)return void e.push(_);n=_}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function m0(n){return new u.vHH(3015,Yt)}()),e;const i=r[1],a=r[2],c=r[3];e.push(Qr(i,c));"<"==a[0]&&!("*"==i&&"*"==c)&&e.push(Qr(c,i))}(r,t,e)):t.push(n),t}const ap=new Set(["true","1"]),Gm=new Set(["false","0"]);function Qr(n,e){const t=ap.has(n)||Gm.has(n),r=ap.has(e)||Gm.has(e);return(i,a)=>{let c="*"==n||n==i,h="*"==e||e==a;return!c&&t&&"boolean"==typeof i&&(c=i?ap.has(n):Gm.has(n)),!h&&r&&"boolean"==typeof a&&(h=a?ap.has(e):Gm.has(e)),c&&h}}const $T=new RegExp("s*:selfs*,?","g");function Ry(n,e,t,r){return new GT(n).build(e,t,r)}class GT{constructor(e){this._driver=e}build(e,t,r){const i=new hh(t);this._resetContextStyleTimingState(i);const a=Vs(this,dh(e),i);return i.unsupportedCSSPropertiesFound.size&&i.unsupportedCSSPropertiesFound.keys(),a}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const a=[],c=[];return"@"==e.name.charAt(0)&&t.errors.push(function sh(){return new u.vHH(3006,Yt)}()),e.definitions.forEach(h=>{if(this._resetContextStyleTimingState(t),0==h.type){const _=h,b=_.name;b.toString().split(/\s*,\s*/).forEach(D=>{_.name=D,a.push(this.visitState(_,t))}),_.name=b}else if(1==h.type){const _=this.visitTransition(h,t);r+=_.queryCount,i+=_.depCount,c.push(_)}else t.errors.push(function oh(){return new u.vHH(3007,Yt)}())}),{type:7,name:e.name,states:a,transitions:c,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const a=new Set,c=i||{};r.styles.forEach(h=>{if(qm(h)){const _=h;Object.keys(_).forEach(b=>{I0(_[b]).forEach(D=>{c.hasOwnProperty(D)||a.add(D)})})}}),a.size&&(rp(a.values()),t.errors.push(function a0(n,e){return new u.vHH(3008,Yt)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Vs(this,dh(e.animation),t);return{type:1,matchers:mP(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Lu(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>Vs(this,r,t)),options:Lu(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const a=e.steps.map(c=>{t.currentTime=r;const h=Vs(this,c,t);return i=Math.max(i,t.currentTime),h});return t.currentTime=i,{type:3,steps:a,options:Lu(e.options)}}visitAnimate(e,t){const r=function k0(n,e){let t=null;if(n.hasOwnProperty("duration"))t=n;else if("number"==typeof n)return Wm(ch(n,e).duration,0,"");const r=n;if(r.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=Wm(0,0,"");return a.dynamic=!0,a.strValue=r,a}return t=t||ch(r,e),Wm(t.duration,t.delay,t.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,a=e.styles?e.styles:ca({});if(5==a.type)i=this.visitKeyframes(a,t);else{let c=e.styles,h=!1;if(!c){h=!0;const b={};r.easing&&(b.easing=r.easing),c=ca(b)}t.currentTime+=r.duration+r.delay;const _=this.visitStyle(c,t);_.isEmptyStep=h,i=_}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[];Array.isArray(e.styles)?e.styles.forEach(c=>{"string"==typeof c?c==Rl?r.push(c):t.errors.push(function l0(n){return new u.vHH(3002,Yt)}()):r.push(c)}):r.push(e.styles);let i=!1,a=null;return r.forEach(c=>{if(qm(c)){const h=c,_=h.easing;if(_&&(a=_,delete h.easing),!i)for(let b in h)if(h[b].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:r,easing:a,offset:e.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,a=t.currentTime;r&&a>0&&(a-=r.duration+r.delay),e.styles.forEach(c=>{"string"!=typeof c&&Object.keys(c).forEach(h=>{if(!this._driver.validateStyleProperty(h))return delete c[h],void t.unsupportedCSSPropertiesFound.add(h);const _=t.collectedStyles[t.currentQuerySelector],b=_[h];let D=!0;b&&(a!=i&&a>=b.startTime&&i<=b.endTime&&(t.errors.push(function c0(n,e,t,r,i){return new u.vHH(3010,Yt)}()),D=!1),a=b.startTime),D&&(_[h]={startTime:a,endTime:i}),t.options&&function Ay(n,e,t){const r=e.params||{},i=I0(n);i.length&&i.forEach(a=>{r.hasOwnProperty(a)||t.push(function th(n){return new u.vHH(3001,Yt)}())})}(c[h],t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function u0(){return new u.vHH(3011,Yt)}()),r;let a=0;const c=[];let h=!1,_=!1,b=0;const D=e.steps.map(it=>{const ct=this._makeStyleAst(it,t);let ft=null!=ct.offset?ct.offset:function qT(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(qm(t)&&t.hasOwnProperty("offset")){const r=t;e=parseFloat(r.offset),delete r.offset}});else if(qm(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(ct.styles),St=0;return null!=ft&&(a++,St=ct.offset=ft),_=_||St<0||St>1,h=h||St<b,b=St,c.push(St),ct});_&&t.errors.push(function d0(){return new u.vHH(3012,Yt)}()),h&&t.errors.push(function h0(){return new u.vHH(3200,Yt)}());const x=e.steps.length;let F=0;a>0&&a<x?t.errors.push(function f0(){return new u.vHH(3202,Yt)}()):0==a&&(F=1/(x-1));const j=x-1,ee=t.currentTime,de=t.currentAnimateTimings,Ae=de.duration;return D.forEach((it,ct)=>{const ft=F>0?ct==j?1:F*ct:c[ct],St=ft*Ae;t.currentTime=ee+de.delay+St,de.duration=St,this._validateStyleAst(it,t),it.offset=ft,r.styles.push(it)}),r}visitReference(e,t){return{type:8,animation:Vs(this,dh(e.animation),t),options:Lu(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Lu(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Lu(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[a,c]=function R0(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace($T,"")),n=n.replace(/@\*/g,ah).replace(/@\w+/g,t=>ah+"-"+t.substr(1)).replace(/:animating/g,Ty),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+a:a,oo(t.collectedStyles,t.currentQuerySelector,{});const h=Vs(this,dh(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:a,limit:i.limit||0,optional:!!i.optional,includeSelf:c,animation:h,originalSelector:e.selector,options:Lu(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function p0(){return new u.vHH(3013,Yt)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:ch(e.timings,t.errors,!0);return{type:12,animation:Vs(this,dh(e.animation),t),timings:r,options:null}}}class hh{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function qm(n){return!Array.isArray(n)&&"object"==typeof n}function Lu(n){return n?(n=uh(n)).params&&(n.params=function O0(n){return n?uh(n):null}(n.params)):n={},n}function Wm(n,e,t){return{duration:n,delay:e,easing:t}}function P0(n,e,t,r,i,a,c=null,h=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:a,totalTime:i+a,easing:c,subTimeline:h}}class fh{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const WT=new RegExp(":enter","g"),Xa=new RegExp(":leave","g");function ao(n,e,t,r,i,a={},c={},h,_,b=[]){return(new da).buildKeyframes(n,e,t,r,i,a,c,h,_,b)}class da{buildKeyframes(e,t,r,i,a,c,h,_,b,D=[]){b=b||new fh;const x=new Km(e,t,b,i,a,D,[]);x.options=_,x.currentTimeline.setStyles([c],null,x.errors,_),Vs(this,r,x);const F=x.timelines.filter(j=>j.containsAnimation());if(Object.keys(h).length){let j;for(let ee=F.length-1;ee>=0;ee--){const de=F[ee];if(de.element===t){j=de;break}}j&&!j.allowOnlyTimelineStyles()&&j.setStyles([h],null,x.errors,_)}return F.length?F.map(j=>j.buildKeyframes()):[P0(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),a=t.currentTimeline.currentTime,c=this._visitSubInstructions(r,i,i.options);a!=c&&t.transformIntoNewTimeline(c)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let a=t.currentTimeline.currentTime;const c=null!=r.duration?Ya(r.duration):null,h=null!=r.delay?Ya(r.delay):null;return 0!==c&&e.forEach(_=>{const b=t.appendInstructionToTimeline(_,c,h);a=Math.max(a,b.duration+b.delay)}),a}visitReference(e,t){t.updateOptions(e.options,!0),Vs(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const a=e.options;if(a&&(a.params||a.delay)&&(i=t.createSubContext(a),i.transformIntoNewTimeline(),null!=a.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=lp);const c=Ya(a.delay);i.delayNextStep(c)}e.steps.length&&(e.steps.forEach(c=>Vs(this,c,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const a=e.options&&e.options.delay?Ya(e.options.delay):0;e.steps.forEach(c=>{const h=t.createSubContext(e.options);a&&h.delayNextStep(a),Vs(this,c,h),i=Math.max(i,h.currentTimeline.currentTime),r.push(h.currentTimeline)}),r.forEach(c=>t.currentTimeline.mergeTimelineCollectedStyles(c)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return ch(t.params?np(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const a=e.style;5==a.type?this.visitKeyframes(a,t):(t.incrementTime(r.duration),this.visitStyle(a,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.getCurrentStyleProperties().length&&r.forwardFrame();const a=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(a):r.setStyles(e.styles,a,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,a=r.duration,h=t.createSubContext().currentTimeline;h.easing=r.easing,e.styles.forEach(_=>{h.forwardTime((_.offset||0)*a),h.setStyles(_.styles,_.easing,t.errors,t.options),h.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(h),t.transformIntoNewTimeline(i+a),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},a=i.delay?Ya(i.delay):0;a&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=lp);let c=r;const h=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=h.length;let _=null;h.forEach((b,D)=>{t.currentQueryIndex=D;const x=t.createSubContext(e.options,b);a&&x.delayNextStep(a),b===t.element&&(_=x.currentTimeline),Vs(this,e.animation,x),x.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,x.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(c),_&&(t.currentTimeline.mergeTimelineCollectedStyles(_),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,a=e.timings,c=Math.abs(a.duration),h=c*(t.currentQueryTotal-1);let _=c*t.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":_=h-_;break;case"full":_=r.currentStaggerTime}const D=t.currentTimeline;_&&D.delayNextStep(_);const x=D.currentTime;Vs(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-x+(i.startTime-r.currentTimeline.startTime)}}const lp={};class Km{constructor(e,t,r,i,a,c,h,_){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=a,this.errors=c,this.timelines=h,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=lp,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_||new Zm(this._driver,t,0),h.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Ya(r.duration)),null!=r.delay&&(i.delay=Ya(r.delay));const a=r.params;if(a){let c=i.params;c||(c=this.options.params={}),Object.keys(a).forEach(h=>{(!t||!c.hasOwnProperty(h))&&(c[h]=np(a[h],c,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,a=new Km(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(e),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(e){return this.previousNode=lp,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+e.delay,easing:""},a=new ZT(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(a),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,a,c){let h=[];if(i&&h.push(this.element),e.length>0){e=(e=e.replace(WT,"."+this._enterClassName)).replace(Xa,"."+this._leaveClassName);let b=this._driver.query(this.element,e,1!=r);0!==r&&(b=r<0?b.slice(b.length+r,b.length):b.slice(0,r)),h.push(...b)}return!a&&0==h.length&&c.push(function IT(n){return new u.vHH(3014,Yt)}()),h}}class Zm{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Zm(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||Rl,this._currentKeyframe[t]=Rl}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&(this._previousKeyframe.easing=t);const a=i&&i.params||{},c=function YT(n,e){const t={};let r;return n.forEach(i=>{"*"===i?(r=r||Object.keys(e),r.forEach(a=>{t[a]=Rl})):ua(i,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(c).forEach(h=>{const _=np(c[h],a,r);this._pendingStyles[h]=_,this._localTimelineStyles.hasOwnProperty(h)||(this._backFill[h]=this._globalTimelineStyles.hasOwnProperty(h)?this._globalTimelineStyles[h]:Rl),this._updateStyle(h,_)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(r=>{this._currentKeyframe[r]=e[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const r=this._styleSummary[t],i=e._styleSummary[t];(!r||i.time>r.time)&&this._updateStyle(t,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((h,_)=>{const b=ua(h,!0);Object.keys(b).forEach(D=>{const x=b[D];"!"==x?e.add(D):x==Rl&&t.add(D)}),r||(b.offset=_/this.duration),i.push(b)});const a=e.size?rp(e.values()):[],c=t.size?rp(t.values()):[];if(r){const h=i[0],_=uh(h);h.offset=0,_.offset=1,i=[h,_]}return P0(this.element,i,a,c,this.duration,this.startTime,this.easing,!1)}}class ZT extends Zm{constructor(e,t,r,i,a,c,h=!1){super(e,t,c.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=a,this._stretchStartingKeyframe=h,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const a=[],c=r+t,h=t/c,_=ua(e[0],!1);_.offset=0,a.push(_);const b=ua(e[0],!1);b.offset=N0(h),a.push(b);const D=e.length-1;for(let x=1;x<=D;x++){let F=ua(e[x],!1);F.offset=N0((t+F.offset*r)/c),a.push(F)}r=c,t=0,i="",e=a}return P0(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function N0(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class Bu{}class L0 extends Bu{normalizePropertyName(e,t){return zm(e)}normalizeStyleValue(e,t,r,i){let a="";const c=r.toString().trim();if(QT[t]&&0!==r&&"0"!==r)if("number"==typeof r)a="px";else{const h=r.match(/^[+-]?[\d\.]+([a-z]*)$/);h&&0==h[1].length&&i.push(function ih(n,e){return new u.vHH(3005,Yt)}())}return c+a}}const QT=(()=>function B0(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Py(n,e,t,r,i,a,c,h,_,b,D,x,F){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:a,toState:r,toStyles:c,timelines:h,queriedElements:_,preStyleProps:b,postStyleProps:D,totalTime:x,errors:F}}const ph={};class V0{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function U0(n,e,t,r,i){return n.some(a=>a(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){const i=this._stateStyles["*"],a=this._stateStyles[e],c=i?i.buildStyles(t,r):{};return a?a.buildStyles(t,r):c}build(e,t,r,i,a,c,h,_,b,D){const x=[],F=this.ast.options&&this.ast.options.params||ph,ee=this.buildStyles(r,h&&h.params||ph,x),de=_&&_.params||ph,Ae=this.buildStyles(i,de,x),it=new Set,ct=new Map,ft=new Map,St="void"===i,en={params:Object.assign(Object.assign({},F),de)},ln=D?[]:ao(e,t,this.ast.animation,a,c,ee,Ae,en,b,x);let $n=0;if(ln.forEach(ld=>{$n=Math.max(ld.duration+ld.delay,$n)}),x.length)return Py(t,this._triggerName,r,i,St,ee,Ae,[],[],ct,ft,$n,x);ln.forEach(ld=>{const cd=ld.element,rU=oo(ct,cd,{});ld.preStyleProps.forEach(em=>rU[em]=!0);const cb=oo(ft,cd,{});ld.postStyleProps.forEach(em=>cb[em]=!0),cd!==t&&it.add(cd)});const Qi=rp(it.values());return Py(t,this._triggerName,r,i,St,ee,Ae,ln,Qi,ct,ft,$n)}}class j0{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r={},i=uh(this.defaultParams);return Object.keys(e).forEach(a=>{const c=e[a];null!=c&&(i[a]=c)}),this.styles.styles.forEach(a=>{if("string"!=typeof a){const c=a;Object.keys(c).forEach(h=>{let _=c[h];_.length>1&&(_=np(_,i,t));const b=this.normalizer.normalizePropertyName(h,t);_=this.normalizer.normalizeStyleValue(h,b,_,t),r[b]=_})}}),r}}class Ym{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states={},t.states.forEach(i=>{this.states[i.name]=new j0(i.style,i.options&&i.options.params||{},r)}),Fy(this.states,"true","1"),Fy(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new V0(e,i,this.states))}),this.fallbackTransition=function H0(n,e,t){return new V0(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(c,h)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(c=>c.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function Fy(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const z0=new fh;class $0{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(e,t){const r=[],a=Ry(this._driver,t,r,[]);if(r.length)throw function _0(n){return new u.vHH(3503,Yt)}();this._animations[e]=a}_buildPlayer(e,t,r){const i=e.element,a=yy(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,a,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],a=this._animations[e];let c;const h=new Map;if(a?(c=ao(this._driver,t,a,D0,jc,{},{},r,z0,i),c.forEach(D=>{const x=oo(h,D.element,{});D.postStyleProps.forEach(F=>x[F]=null)})):(i.push(function xT(){return new u.vHH(3300,Yt)}()),c=[]),i.length)throw function y0(n){return new u.vHH(3504,Yt)}();h.forEach((D,x)=>{Object.keys(D).forEach(F=>{D[F]=this._driver.computeStyle(x,F,Rl)})});const b=Vc(c.map(D=>{const x=h.get(D.element);return this._buildPlayer(D,{},x)}));return this._playersById[e]=b,b.onDestroy(()=>this.destroy(e)),this.players.push(b),b}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw function RT(n){return new u.vHH(3301,Yt)}();return t}listen(e,t,r,i){const a=Uc(t,"","","");return E0(this._getPlayer(e),r,a,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const a=this._getPlayer(e);switch(r){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const Ly="ng-animate-queued",Qm="ng-animate-disabled",eS=[],W0={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},tS={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},No="__ng_removed";class By{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function sS(n){return null!=n?n:null}(r?e.value:e),r){const a=uh(e);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const cp="void",Vy=new By(cp);class nS{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,lo(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.hasOwnProperty(t))throw function OT(n,e){return new u.vHH(3302,Yt)}();if(null==r||0==r.length)throw function cP(n){return new u.vHH(3303,Yt)}();if(!function oS(n){return"start"==n||"done"==n}(r))throw function kT(n,e){return new u.vHH(3400,Yt)}();const a=oo(this._elementListeners,e,[]),c={name:t,phase:r,callback:i};a.push(c);const h=oo(this._engine.statesByElement,e,{});return h.hasOwnProperty(t)||(lo(e,Jf),lo(e,Jf+"-"+t),h[t]=Vy),()=>{this._engine.afterFlush(()=>{const _=a.indexOf(c);_>=0&&a.splice(_,1),this._triggers[t]||delete h[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw function gy(n){return new u.vHH(3401,Yt)}();return t}trigger(e,t,r,i=!0){const a=this._getTrigger(t),c=new Uy(this.id,t,e);let h=this._engine.statesByElement.get(e);h||(lo(e,Jf),lo(e,Jf+"-"+t),this._engine.statesByElement.set(e,h={}));let _=h[t];const b=new By(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&_&&b.absorbOptions(_.options),h[t]=b,_||(_=Vy),b.value!==cp&&_.value===b.value){if(!function X0(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const a=t[i];if(!e.hasOwnProperty(a)||n[a]!==e[a])return!1}return!0}(_.params,b.params)){const de=[],Ae=a.matchStyles(_.value,_.params,de),it=a.matchStyles(b.value,b.params,de);de.length?this._engine.reportError(de):this._engine.afterFlush(()=>{Hc(e,Ae),Po(e,it)})}return}const F=oo(this._engine.playersByElement,e,[]);F.forEach(de=>{de.namespaceId==this.id&&de.triggerName==t&&de.queued&&de.destroy()});let j=a.matchTransition(_.value,b.value,e,b.params),ee=!1;if(!j){if(!i)return;j=a.fallbackTransition,ee=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:j,fromState:_,toState:b,player:c,isFallbackTransition:ee}),ee||(lo(e,Ly),c.onStart(()=>{Vu(e,Ly)})),c.onDone(()=>{let de=this.players.indexOf(c);de>=0&&this.players.splice(de,1);const Ae=this._engine.playersByElement.get(e);if(Ae){let it=Ae.indexOf(c);it>=0&&Ae.splice(it,1)}}),this.players.push(c),F.push(c),c}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,r)=>{delete t[e]}),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,ah,!0);r.forEach(i=>{if(i[No])return;const a=this._engine.fetchNamespacesByElement(i);a.size?a.forEach(c=>c.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const a=this._engine.statesByElement.get(e),c=new Map;if(a){const h=[];if(Object.keys(a).forEach(_=>{if(c.set(_,a[_].value),this._triggers[_]){const b=this.trigger(e,_,cp,i);b&&h.push(b)}}),h.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,c),r&&Vc(h).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(a=>{const c=a.name;if(i.has(c))return;i.add(c);const _=this._triggers[c].fallbackTransition,b=r[c]||Vy,D=new By(cp),x=new Uy(this.id,c,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:c,transition:_,fromState:b,toState:D,player:x,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const a=r.players.length?r.playersByQueriedElement.get(e):[];if(a&&a.length)i=!0;else{let c=e;for(;c=c.parentNode;)if(r.statesByElement.get(c)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const a=e[No];(!a||a===W0)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){lo(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const a=r.element,c=this._elementListeners.get(a);c&&c.forEach(h=>{if(h.name==r.triggerName){const _=Uc(a,r.triggerName,r.fromState.value,r.toState.value);_._data=e,E0(r.player,h.phase,_,h.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const a=r.transition.ast.depCount,c=i.transition.ast.depCount;return 0==a||0==c?a-c:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class rS{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,a)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new nS(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement,a=r.length-1;if(a>=0){let c=!1;if(void 0!==this.driver.getParentElement){let h=this.driver.getParentElement(t);for(;h;){const _=i.get(h);if(_){const b=r.indexOf(_);r.splice(b+1,0,e),c=!0;break}h=this.driver.getParentElement(h)}}else for(let h=a;h>=0;h--)if(this.driver.containsElement(r[h].hostElement,t)){r.splice(h+1,0,e),c=!0;break}c||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r){const i=Object.keys(r);for(let a=0;a<i.length;a++){const c=r[i[a]].namespaceId;if(c){const h=this._fetchNamespace(c);h&&t.add(h)}}}return t}trigger(e,t,r,i){if(Xm(t)){const a=this._fetchNamespace(e);if(a)return a.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!Xm(t))return;const a=t[No];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const c=this.collectedLeaveElements.indexOf(t);c>=0&&this.collectedLeaveElements.splice(c,1)}if(e){const c=this._fetchNamespace(e);c&&c.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),lo(e,Qm)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Vu(e,Qm))}removeNode(e,t,r,i){if(Xm(t)){const a=e?this._fetchNamespace(e):null;if(a?a.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const c=this.namespacesByHostElement.get(t);c&&c.id!==e&&c.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,a){this.collectedLeaveElements.push(t),t[No]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:a}}listen(e,t,r,i,a){return Xm(t)?this._fetchNamespace(e).listen(t,r,i,a):()=>{}}_buildInstruction(e,t,r,i,a){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,a)}destroyInnerAnimations(e){let t=this.driver.query(e,ah,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,Ty,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Vc(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const r=e[No];if(r&&r.setForRemoval){if(e[No]=W0,r.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(r.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,r.setForRemoval)}(null===(t=e.classList)||void 0===t?void 0:t.contains(Qm))&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)lo(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?Vc(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function _y(n){return new u.vHH(3402,Yt)}()}_flushAnimations(e,t){const r=new fh,i=[],a=new Map,c=[],h=new Map,_=new Map,b=new Map,D=new Set;this.disabledNodes.forEach(Ct=>{D.add(Ct);const Ht=this.driver.query(Ct,".ng-animate-queued",!0);for(let Xt=0;Xt<Ht.length;Xt++)D.add(Ht[Xt])});const x=this.bodyNode,F=Array.from(this.statesByElement.keys()),j=jy(F,this.collectedEnterElements),ee=new Map;let de=0;j.forEach((Ct,Ht)=>{const Xt=D0+de++;ee.set(Ht,Xt),Ct.forEach(kn=>lo(kn,Xt))});const Ae=[],it=new Set,ct=new Set;for(let Ct=0;Ct<this.collectedLeaveElements.length;Ct++){const Ht=this.collectedLeaveElements[Ct],Xt=Ht[No];Xt&&Xt.setForRemoval&&(Ae.push(Ht),it.add(Ht),Xt.hasAnimation?this.driver.query(Ht,".ng-star-inserted",!0).forEach(kn=>it.add(kn)):ct.add(Ht))}const ft=new Map,St=jy(F,Array.from(it));St.forEach((Ct,Ht)=>{const Xt=jc+de++;ft.set(Ht,Xt),Ct.forEach(kn=>lo(kn,Xt))}),e.push(()=>{j.forEach((Ct,Ht)=>{const Xt=ee.get(Ht);Ct.forEach(kn=>Vu(kn,Xt))}),St.forEach((Ct,Ht)=>{const Xt=ft.get(Ht);Ct.forEach(kn=>Vu(kn,Xt))}),Ae.forEach(Ct=>{this.processLeaveNode(Ct)})});const en=[],ln=[];for(let Ct=this._namespaceList.length-1;Ct>=0;Ct--)this._namespaceList[Ct].drainQueuedTransitions(t).forEach(Xt=>{const kn=Xt.player,Xi=Xt.element;if(en.push(kn),this.collectedEnterElements.length){const po=Xi[No];if(po&&po.setForMove){if(po.previousTriggersValues&&po.previousTriggersValues.has(Xt.triggerName)){const tm=po.previousTriggersValues.get(Xt.triggerName),Kh=this.statesByElement.get(Xt.element);Kh&&Kh[Xt.triggerName]&&(Kh[Xt.triggerName].value=tm)}return void kn.destroy()}}const eu=!x||!this.driver.containsElement(x,Xi),ga=ft.get(Xi),Wh=ee.get(Xi),qr=this._buildInstruction(Xt,r,Wh,ga,eu);if(qr.errors&&qr.errors.length)return void ln.push(qr);if(eu)return kn.onStart(()=>Hc(Xi,qr.fromStyles)),kn.onDestroy(()=>Po(Xi,qr.toStyles)),void i.push(kn);if(Xt.isFallbackTransition)return kn.onStart(()=>Hc(Xi,qr.fromStyles)),kn.onDestroy(()=>Po(Xi,qr.toStyles)),void i.push(kn);const oU=[];qr.timelines.forEach(po=>{po.stretchStartingKeyframe=!0,this.disabledNodes.has(po.element)||oU.push(po)}),qr.timelines=oU,r.append(Xi,qr.timelines),c.push({instruction:qr,player:kn,element:Xi}),qr.queriedElements.forEach(po=>oo(h,po,[]).push(kn)),qr.preStyleProps.forEach((po,tm)=>{const Kh=Object.keys(po);if(Kh.length){let nm=_.get(tm);nm||_.set(tm,nm=new Set),Kh.forEach(hk=>nm.add(hk))}}),qr.postStyleProps.forEach((po,tm)=>{const Kh=Object.keys(po);let nm=b.get(tm);nm||b.set(tm,nm=new Set),Kh.forEach(hk=>nm.add(hk))})});if(ln.length){const Ct=[];ln.forEach(Ht=>{Ct.push(function dP(n,e){return new u.vHH(3505,Yt)}())}),en.forEach(Ht=>Ht.destroy()),this.reportError(Ct)}const $n=new Map,Qi=new Map;c.forEach(Ct=>{const Ht=Ct.element;r.has(Ht)&&(Qi.set(Ht,Ht),this._beforeAnimationBuild(Ct.player.namespaceId,Ct.instruction,$n))}),i.forEach(Ct=>{const Ht=Ct.element;this._getPreviousPlayers(Ht,!1,Ct.namespaceId,Ct.triggerName,null).forEach(kn=>{oo($n,Ht,[]).push(kn),kn.destroy()})});const ld=Ae.filter(Ct=>zy(Ct,_,b)),cd=new Map;Z0(cd,this.driver,ct,b,Rl).forEach(Ct=>{zy(Ct,_,b)&&ld.push(Ct)});const cb=new Map;j.forEach((Ct,Ht)=>{Z0(cb,this.driver,new Set(Ct),_,"!")}),ld.forEach(Ct=>{const Ht=cd.get(Ct),Xt=cb.get(Ct);cd.set(Ct,Object.assign(Object.assign({},Ht),Xt))});const em=[],iU=[],sU={};c.forEach(Ct=>{const{element:Ht,player:Xt,instruction:kn}=Ct;if(r.has(Ht)){if(D.has(Ht))return Xt.onDestroy(()=>Po(Ht,kn.toStyles)),Xt.disabled=!0,Xt.overrideTotalTime(kn.totalTime),void i.push(Xt);let Xi=sU;if(Qi.size>1){let ga=Ht;const Wh=[];for(;ga=ga.parentNode;){const qr=Qi.get(ga);if(qr){Xi=qr;break}Wh.push(ga)}Wh.forEach(qr=>Qi.set(qr,Xi))}const eu=this._buildAnimation(Xt.namespaceId,kn,$n,a,cb,cd);if(Xt.setRealPlayer(eu),Xi===sU)em.push(Xt);else{const ga=this.playersByElement.get(Xi);ga&&ga.length&&(Xt.parentPlayer=Vc(ga)),i.push(Xt)}}else Hc(Ht,kn.fromStyles),Xt.onDestroy(()=>Po(Ht,kn.toStyles)),iU.push(Xt),D.has(Ht)&&i.push(Xt)}),iU.forEach(Ct=>{const Ht=a.get(Ct.element);if(Ht&&Ht.length){const Xt=Vc(Ht);Ct.setRealPlayer(Xt)}}),i.forEach(Ct=>{Ct.parentPlayer?Ct.syncPlayerEvents(Ct.parentPlayer):Ct.destroy()});for(let Ct=0;Ct<Ae.length;Ct++){const Ht=Ae[Ct],Xt=Ht[No];if(Vu(Ht,jc),Xt&&Xt.hasAnimation)continue;let kn=[];if(h.size){let eu=h.get(Ht);eu&&eu.length&&kn.push(...eu);let ga=this.driver.query(Ht,Ty,!0);for(let Wh=0;Wh<ga.length;Wh++){let qr=h.get(ga[Wh]);qr&&qr.length&&kn.push(...qr)}}const Xi=kn.filter(eu=>!eu.destroyed);Xi.length?Y0(this,Ht,Xi):this.processLeaveNode(Ht)}return Ae.length=0,em.forEach(Ct=>{this.players.push(Ct),Ct.onDone(()=>{Ct.destroy();const Ht=this.players.indexOf(Ct);this.players.splice(Ht,1)}),Ct.play()}),em}elementContainsData(e,t){let r=!1;const i=t[No];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,a){let c=[];if(t){const h=this.playersByQueriedElement.get(e);h&&(c=h)}else{const h=this.playersByElement.get(e);if(h){const _=!a||a==cp;h.forEach(b=>{b.queued||!_&&b.triggerName!=i||c.push(b)})}}return(r||i)&&(c=c.filter(h=>!(r&&r!=h.namespaceId||i&&i!=h.triggerName))),c}_beforeAnimationBuild(e,t,r){const a=t.element,c=t.isRemovalTransition?void 0:e,h=t.isRemovalTransition?void 0:t.triggerName;for(const _ of t.timelines){const b=_.element,D=b!==a,x=oo(r,b,[]);this._getPreviousPlayers(b,D,c,h,t.toState).forEach(j=>{const ee=j.getRealPlayer();ee.beforeDestroy&&ee.beforeDestroy(),j.destroy(),x.push(j)})}Hc(a,t.fromStyles)}_buildAnimation(e,t,r,i,a,c){const h=t.triggerName,_=t.element,b=[],D=new Set,x=new Set,F=t.timelines.map(ee=>{const de=ee.element;D.add(de);const Ae=de[No];if(Ae&&Ae.removedBeforeQueried)return new Yr(ee.duration,ee.delay);const it=de!==_,ct=function Q0(n){const e=[];return Hy(n,e),e}((r.get(de)||eS).map($n=>$n.getRealPlayer())).filter($n=>!!$n.element&&$n.element===de),ft=a.get(de),St=c.get(de),en=yy(0,this._normalizer,0,ee.keyframes,ft,St),ln=this._buildPlayer(ee,en,ct);if(ee.subTimeline&&i&&x.add(de),it){const $n=new Uy(e,h,de);$n.setRealPlayer(ln),b.push($n)}return ln});b.forEach(ee=>{oo(this.playersByQueriedElement,ee.element,[]).push(ee),ee.onDone(()=>function iS(n,e,t){let r;if(n instanceof Map){if(r=n.get(e),r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}}else if(r=n[e],r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&delete n[e]}return r}(this.playersByQueriedElement,ee.element,ee))}),D.forEach(ee=>lo(ee,jm));const j=Vc(F);return j.onDestroy(()=>{D.forEach(ee=>Vu(ee,jm)),Po(_,t.toStyles)}),x.forEach(ee=>{oo(i,ee,[]).push(j)}),j}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Yr(e.duration,e.delay)}}class Uy{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new Yr,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(r=>E0(e,t,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){oo(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Xm(n){return n&&1===n.nodeType}function K0(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function Z0(n,e,t,r,i){const a=[];t.forEach(_=>a.push(K0(_)));const c=[];r.forEach((_,b)=>{const D={};_.forEach(x=>{const F=D[x]=e.computeStyle(b,x,i);(!F||0==F.length)&&(b[No]=tS,c.push(b))}),n.set(b,D)});let h=0;return t.forEach(_=>K0(_,a[h++])),c}function jy(n,e){const t=new Map;if(n.forEach(h=>t.set(h,[])),0==e.length)return t;const i=new Set(e),a=new Map;function c(h){if(!h)return 1;let _=a.get(h);if(_)return _;const b=h.parentNode;return _=t.has(b)?b:i.has(b)?1:c(b),a.set(h,_),_}return e.forEach(h=>{const _=c(h);1!==_&&t.get(_).push(h)}),t}function lo(n,e){var t;null===(t=n.classList)||void 0===t||t.add(e)}function Vu(n,e){var t;null===(t=n.classList)||void 0===t||t.remove(e)}function Y0(n,e,t){Vc(t).onDone(()=>n.processLeaveNode(e))}function Hy(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof Bc?Hy(r.players,e):e.push(r)}}function zy(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(a=>i.add(a)):e.set(n,r),t.delete(n),!0}class up{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,a)=>{},this._transitionEngine=new rS(e,t,r),this._timelineEngine=new $0(e,t,r),this._transitionEngine.onRemovalComplete=(i,a)=>this.onRemovalComplete(i,a)}registerTrigger(e,t,r,i,a){const c=e+"-"+i;let h=this._triggerCache[c];if(!h){const _=[],D=Ry(this._driver,a,_,[]);if(_.length)throw function AT(n,e){return new u.vHH(3404,Yt)}();h=function Ny(n,e,t){return new Ym(n,e,t)}(i,D,this._normalizer),this._triggerCache[c]=h}this._transitionEngine.registerTrigger(t,i,h)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[a,c]=Ey(r);this._timelineEngine.command(a,t,c,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,a){if("@"==r.charAt(0)){const[c,h]=Ey(r);return this._timelineEngine.listen(c,t,h,a)}return this._transitionEngine.listen(e,t,r,i,a)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Gy=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let a=n.initialStylesByElement.get(t);a||n.initialStylesByElement.set(t,a={}),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&Po(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Po(this._element,this._initialStyles),this._endStyles&&(Po(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Hc(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Hc(this._element,this._endStyles),this._endStyles=null),Po(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function kl(n){let e=null;const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=t[r];aS(i)&&(e=e||{},e[i]=n[i])}return e}function aS(n){return"display"===n||"position"===n}class J0{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,r){return e.animate(t,r)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(r=>{"offset"!=r&&(e[r]=this._finished?t[r]:$m(this.element,r))})}this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class mh{validateStyleProperty(e){return w0(e)}matchesElement(e,t){return!1}containsElement(e,t){return Dy(e,t)}getParentElement(e){return Cy(e)}query(e,t,r){return C0(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,a,c=[]){const _={duration:r,delay:i,fill:0==i?"both":"forwards"};a&&(_.easing=a);const b={},D=c.filter(F=>F instanceof J0);(function T0(n,e){return 0===n||0===e})(r,i)&&D.forEach(F=>{let j=F.currentSnapshot;Object.keys(j).forEach(ee=>b[ee]=j[ee])}),t=function S0(n,e,t){const r=Object.keys(t);if(r.length&&e.length){let a=e[0],c=[];if(r.forEach(h=>{a.hasOwnProperty(h)||c.push(h),a[h]=t[h]}),c.length)for(var i=1;i<e.length;i++){let h=e[i];c.forEach(function(_){h[_]=$m(n,_)})}}return e}(e,t=t.map(F=>ua(F,!1)),b);const x=function $y(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=kl(e[0]),e.length>1&&(r=kl(e[e.length-1]))):e&&(t=kl(e)),t||r?new Gy(n,t,r):null}(e,t);return new J0(e,t,_,x)}}let _P=(()=>{class n extends n0{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:u.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?s0(t):t;return Wy(this._renderer,null,r,"register",[i]),new qy(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.FYo),u.LFG(W))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class qy extends class py{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new yP(this._id,e,t||{},this._renderer)}}class yP{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return Wy(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function Wy(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const lS="@.disabled";let Ut=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(a,c)=>{const h=null==c?void 0:c.parentNode(a);h&&c.removeChild(h,a)}}createRenderer(t,r){const a=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let D=this._rendererCache.get(a);return D||(D=new ew("",a,this.engine),this._rendererCache.set(a,D)),D}const c=r.id,h=r.id+"-"+this._currentId;this._currentId++,this.engine.register(h,t);const _=D=>{Array.isArray(D)?D.forEach(_):this.engine.registerTrigger(c,h,t,D.name,D)};return r.data.animation.forEach(_),new cS(this,h,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[c,h]=a;c(h)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.FYo),u.LFG(up),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class ew{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>t.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==lS?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class cS extends ew{constructor(e,t,r,i){super(t,r,i),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==lS?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.substr(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function uS(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let a=t.substr(1),c="";return"@"!=a.charAt(0)&&([a,c]=function Jm(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(a)),this.engine.listen(this.namespaceId,i,a,c,h=>{this.factory.scheduleListenerCallback(h._data||-1,r,h)})}return this.delegate.listen(e,t,r)}}let dS=(()=>{class n extends up{constructor(t,r,i){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(W),u.LFG(Xf),u.LFG(Bu))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Jn=new u.OlP("AnimationModuleType"),hS=[{provide:n0,useClass:_P},{provide:Bu,useFactory:function eg(){return new L0}},{provide:up,useClass:dS},{provide:u.FYo,useFactory:function tg(n,e,t){return new Ut(n,e,t)},deps:[Un,up,u.R0b]}],Ky=[{provide:Xf,useFactory:()=>new mh},{provide:Jn,useValue:"BrowserAnimations"},...hS],fS=[{provide:Xf,useClass:Iy},{provide:Jn,useValue:"NoopAnimations"},...hS];let pS=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?fS:Ky}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:Ky,imports:[vo]}),n})();const ES=new u.OlP("mat-sanity-checks",{providedIn:"root",factory:function vS(){return!0}});let Si=(()=>{class n{constructor(t,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!Nm()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(e0),u.LFG(ES,8),u.LFG(W))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[Rm],Rm]}),n})();function DS(n){return class extends n{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=so(e)}}}function Uu(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const r=t||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}}}function hp(n){return class extends n{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=so(e)}}}function IS(n){return class extends n{constructor(...e){super(...e),this.stateChanges=new tn.x,this.errorState=!1}updateErrorState(){const e=this.errorState,a=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);a!==e&&(this.errorState=a,this.stateChanges.next())}}}let Zy=(()=>{class n{isErrorState(t,r){return!!(t&&t.invalid&&(t.touched||r&&r.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class pp{constructor(e,t,r){this._renderer=e,this.element=t,this.config=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const rw={enterDuration:225,exitDuration:150},Qy=Om({passive:!0}),iw=["mousedown","touchstart"],sw=["mouseup","mouseleave","touchend","touchcancel"];class ow{constructor(e,t,r,i){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=ko(r))}fadeInRipple(e,t,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),a=Object.assign(Object.assign({},rw),r.animation);r.centered&&(e=i.left+i.width/2,t=i.top+i.height/2);const c=r.radius||function OS(n,e,t){const r=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),i=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+i*i)}(e,t,i),h=e-i.left,_=t-i.top,b=a.enterDuration,D=document.createElement("div");D.classList.add("mat-ripple-element"),D.style.left=h-c+"px",D.style.top=_-c+"px",D.style.height=2*c+"px",D.style.width=2*c+"px",null!=r.color&&(D.style.backgroundColor=r.color),D.style.transitionDuration=`${b}ms`,this._containerElement.appendChild(D),function RS(n){window.getComputedStyle(n).getPropertyValue("opacity")}(D),D.style.transform="scale(1)";const x=new pp(this,D,r);return x.state=0,this._activeRipples.add(x),r.persistent||(this._mostRecentTransientRipple=x),this._runTimeoutOutsideZone(()=>{const F=x===this._mostRecentTransientRipple;x.state=1,!r.persistent&&(!F||!this._isPointerDown)&&x.fadeOut()},b),x}fadeOutRipple(e){const t=this._activeRipples.delete(e);if(e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!t)return;const r=e.element,i=Object.assign(Object.assign({},rw),e.config.animation);r.style.transitionDuration=`${i.exitDuration}ms`,r.style.opacity="0",e.state=2,this._runTimeoutOutsideZone(()=>{e.state=3,r.remove()},i.exitDuration)}fadeOutAll(){this._activeRipples.forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=ko(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(iw))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(sw),this._pointerUpEventsRegistered=!0)}_onMousedown(e){const t=_T(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!cy(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_runTimeoutOutsideZone(e,t=0){this._ngZone.runOutsideAngular(()=>setTimeout(e,t))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,Qy)})})}_removeTriggerEvents(){this._triggerElement&&(iw.forEach(e=>{this._triggerElement.removeEventListener(e,this,Qy)}),this._pointerUpEventsRegistered&&sw.forEach(e=>{this._triggerElement.removeEventListener(e,this,Qy)}))}}const gh=new u.OlP("mat-ripple-global-options");let aw=(()=>{class n{constructor(t,r,i,a,c){this._elementRef=t,this._animationMode=c,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=a||{},this._rippleRenderer=new ow(this,r,t,i)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,r=0,i){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,r,Object.assign(Object.assign({},this.rippleConfig),i)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.R0b),u.Y36(ki),u.Y36(gh,8),u.Y36(Jn,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,r){2&t&&u.ekj("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),lw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[Si],Si]}),n})();function dw(...n){const e=(0,Rs.jO)(n),{args:t,keys:r}=ls(n),i=new xr.y(a=>{const{length:c}=t;if(!c)return void a.complete();const h=new Array(c);let _=c,b=c;for(let D=0;D<c;D++){let x=!1;(0,Os.Xf)(t[D]).subscribe((0,Rr.x)(a,F=>{x||(x=!0,b--),h[D]=F},()=>_--,void 0,()=>{(!_||!x)&&(b||a.next(r?dl(r,h):h),a.complete())}))}});return e?i.pipe(oc(e)):i}var hw=M(3099);class BS{}class zc{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),a=i.toLowerCase(),c=t.slice(r+1).trim();this.maybeSetNormalizedName(i,a),this.headers.has(a)?this.headers.get(a).push(c):this.headers.set(a,[c])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof zc?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new zc;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof zc?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const a=e.value;if(a){let c=this.headers.get(t);if(!c)return;c=c.filter(h=>-1===a.indexOf(h)),0===c.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,c)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class VS{encodeKey(e){return Xy(e)}encodeValue(e){return Xy(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const jS=/%(\d[a-f0-9])/gi,fw={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function Xy(n){return encodeURIComponent(n).replace(jS,(e,t)=>{var r;return null!==(r=fw[t])&&void 0!==r?r:e})}function pw(n){return`${n}`}class $c{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new VS,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function US(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const a=i.indexOf("="),[c,h]=-1==a?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,a)),e.decodeValue(i.slice(a+1))],_=t.get(c)||[];_.push(h),t.set(c,_)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t];this.map.set(t,Array.isArray(r)?r:[r])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(a=>{t.push({param:r,value:a,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new $c({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(pw(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(pw(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class zS{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function mw(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function rg(n){return"undefined"!=typeof Blob&&n instanceof Blob}function ig(n){return"undefined"!=typeof FormData&&n instanceof FormData}class ju{constructor(e,t,r,i){let a;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function $S(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,a=i):a=r,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.context&&(this.context=a.context),a.params&&(this.params=a.params)),this.headers||(this.headers=new zc),this.context||(this.context=new zS),this.params){const c=this.params.toString();if(0===c.length)this.urlWithParams=t;else{const h=t.indexOf("?");this.urlWithParams=t+(-1===h?"?":h<t.length-1?"&":"")+c}}else this.params=new $c,this.urlWithParams=t}serializeBody(){return null===this.body?null:mw(this.body)||rg(this.body)||ig(this.body)||function gw(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof $c?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||ig(this.body)?null:rg(this.body)?this.body.type||null:mw(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof $c?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const r=e.method||this.method,i=e.url||this.url,a=e.responseType||this.responseType,c=void 0!==e.body?e.body:this.body,h=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,_=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let b=e.headers||this.headers,D=e.params||this.params;const x=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(b=Object.keys(e.setHeaders).reduce((F,j)=>F.set(j,e.setHeaders[j]),b)),e.setParams&&(D=Object.keys(e.setParams).reduce((F,j)=>F.set(j,e.setParams[j]),D)),new ju(r,i,c,{params:D,headers:b,context:x,reportProgress:_,responseType:a,withCredentials:h})}}var Pi=(()=>((Pi=Pi||{})[Pi.Sent=0]="Sent",Pi[Pi.UploadProgress=1]="UploadProgress",Pi[Pi.ResponseHeader=2]="ResponseHeader",Pi[Pi.DownloadProgress=3]="DownloadProgress",Pi[Pi.Response=4]="Response",Pi[Pi.User=5]="User",Pi))();class Jy extends class GS{constructor(e,t=200,r="OK"){this.headers=e.headers||new zc,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(e={}){super(e),this.type=Pi.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Jy({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}function ev(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let tv=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let a;if(t instanceof ju)a=t;else{let _,b;_=i.headers instanceof zc?i.headers:new zc(i.headers),i.params&&(b=i.params instanceof $c?i.params:new $c({fromObject:i.params})),a=new ju(t,r,void 0!==i.body?i.body:null,{headers:_,context:i.context,params:b,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const c=(0,mt.of)(a).pipe((0,ds.b)(_=>this.handler.handle(_)));if(t instanceof ju||"events"===i.observe)return c;const h=c.pipe((0,Hn.h)(_=>_ instanceof Jy));switch(i.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return h.pipe((0,vt.U)(_=>{if(null!==_.body&&!(_.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return _.body}));case"blob":return h.pipe((0,vt.U)(_=>{if(null!==_.body&&!(_.body instanceof Blob))throw new Error("Response is not a Blob.");return _.body}));case"text":return h.pipe((0,vt.U)(_=>{if(null!==_.body&&"string"!=typeof _.body)throw new Error("Response is not a string.");return _.body}));default:return h.pipe((0,vt.U)(_=>_.body))}case"response":return h;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new $c).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,ev(i,r))}post(t,r,i={}){return this.request("POST",t,ev(i,r))}put(t,r,i={}){return this.request("PUT",t,ev(i,r))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(BS))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const eA=["*"];let iv;function gp(n){var e;return(null===(e=function tA(){if(void 0===iv&&(iv=null,"undefined"!=typeof window)){const n=window;void 0!==n.trustedTypes&&(iv=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return iv}())||void 0===e?void 0:e.createHTML(n))||n}function Hu(n){return Error(`Unable to find icon with the name "${n}"`)}function zu(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function nA(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Gc{constructor(e,t,r){this.url=e,this.svgText=t,this.options=r}}let lg=(()=>{class n{constructor(t,r,i,a){this._httpClient=t,this._sanitizer=r,this._errorHandler=a,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=i}addSvgIcon(t,r,i){return this.addSvgIconInNamespace("",t,r,i)}addSvgIconLiteral(t,r,i){return this.addSvgIconLiteralInNamespace("",t,r,i)}addSvgIconInNamespace(t,r,i,a){return this._addSvgIconConfig(t,r,new Gc(i,null,a))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,r,i,a){const c=this._sanitizer.sanitize(u.q3G.HTML,i);if(!c)throw nA(i);const h=gp(c);return this._addSvgIconConfig(t,r,new Gc("",h,a))}addSvgIconSet(t,r){return this.addSvgIconSetInNamespace("",t,r)}addSvgIconSetLiteral(t,r){return this.addSvgIconSetLiteralInNamespace("",t,r)}addSvgIconSetInNamespace(t,r,i){return this._addSvgIconSetConfig(t,new Gc(r,null,i))}addSvgIconSetLiteralInNamespace(t,r,i){const a=this._sanitizer.sanitize(u.q3G.HTML,r);if(!a)throw nA(r);const c=gp(a);return this._addSvgIconSetConfig(t,new Gc("",c,i))}registerFontClassAlias(t,r=t){return this._fontCssClassesByAlias.set(t,r),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const r=this._sanitizer.sanitize(u.q3G.RESOURCE_URL,t);if(!r)throw zu(t);const i=this._cachedIconsByUrl.get(r);return i?(0,mt.of)(sv(i)):this._loadSvgIconFromConfig(new Gc(t,null)).pipe((0,ai.b)(a=>this._cachedIconsByUrl.set(r,a)),(0,vt.U)(a=>sv(a)))}getNamedSvgIcon(t,r=""){const i=ov(r,t);let a=this._svgIconConfigs.get(i);if(a)return this._getSvgFromConfig(a);if(a=this._getIconConfigFromResolvers(r,t),a)return this._svgIconConfigs.set(i,a),this._getSvgFromConfig(a);const c=this._iconSetConfigs.get(r);return c?this._getSvgFromIconSetConfigs(t,c):fl(Hu(i))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?(0,mt.of)(sv(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe((0,vt.U)(r=>sv(r)))}_getSvgFromIconSetConfigs(t,r){const i=this._extractIconWithNameFromAnySet(t,r);return i?(0,mt.of)(i):dw(r.filter(c=>!c.svgText).map(c=>this._loadSvgIconSetFromConfig(c).pipe((0,Or.K)(h=>{const b=`Loading icon set URL: ${this._sanitizer.sanitize(u.q3G.RESOURCE_URL,c.url)} failed: ${h.message}`;return this._errorHandler.handleError(new Error(b)),(0,mt.of)(null)})))).pipe((0,vt.U)(()=>{const c=this._extractIconWithNameFromAnySet(t,r);if(!c)throw Hu(t);return c}))}_extractIconWithNameFromAnySet(t,r){for(let i=r.length-1;i>=0;i--){const a=r[i];if(a.svgText&&a.svgText.toString().indexOf(t)>-1){const c=this._svgElementFromConfig(a),h=this._extractSvgIconFromSet(c,t,a.options);if(h)return h}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe((0,ai.b)(r=>t.svgText=r),(0,vt.U)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?(0,mt.of)(null):this._fetchIcon(t).pipe((0,ai.b)(r=>t.svgText=r))}_extractSvgIconFromSet(t,r,i){const a=t.querySelector(`[id="${r}"]`);if(!a)return null;const c=a.cloneNode(!0);if(c.removeAttribute("id"),"svg"===c.nodeName.toLowerCase())return this._setSvgAttributes(c,i);if("symbol"===c.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(c),i);const h=this._svgElementFromString(gp("<svg></svg>"));return h.appendChild(c),this._setSvgAttributes(h,i)}_svgElementFromString(t){const r=this._document.createElement("DIV");r.innerHTML=t;const i=r.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i}_toSvgElement(t){const r=this._svgElementFromString(gp("<svg></svg>")),i=t.attributes;for(let a=0;a<i.length;a++){const{name:c,value:h}=i[a];"id"!==c&&r.setAttribute(c,h)}for(let a=0;a<t.childNodes.length;a++)t.childNodes[a].nodeType===this._document.ELEMENT_NODE&&r.appendChild(t.childNodes[a].cloneNode(!0));return r}_setSvgAttributes(t,r){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),r&&r.viewBox&&t.setAttribute("viewBox",r.viewBox),t}_fetchIcon(t){var r;const{url:i,options:a}=t,c=null!==(r=null==a?void 0:a.withCredentials)&&void 0!==r&&r;if(!this._httpClient)throw function vw(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const h=this._sanitizer.sanitize(u.q3G.RESOURCE_URL,i);if(!h)throw zu(i);const _=this._inProgressUrlFetches.get(h);if(_)return _;const b=this._httpClient.get(h,{responseType:"text",withCredentials:c}).pipe((0,vt.U)(D=>gp(D)),ff(()=>this._inProgressUrlFetches.delete(h)),(0,hw.B)());return this._inProgressUrlFetches.set(h,b),b}_addSvgIconConfig(t,r,i){return this._svgIconConfigs.set(ov(t,r),i),this}_addSvgIconSetConfig(t,r){const i=this._iconSetConfigs.get(t);return i?i.push(r):this._iconSetConfigs.set(t,[r]),this}_svgElementFromConfig(t){if(!t.svgElement){const r=this._svgElementFromString(t.svgText);this._setSvgAttributes(r,t.options),t.svgElement=r}return t.svgElement}_getIconConfigFromResolvers(t,r){for(let i=0;i<this._resolvers.length;i++){const a=this._resolvers[i](r,t);if(a)return av(a)?new Gc(a.url,null,a.options):new Gc(a,null)}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(tv,8),u.LFG(Qo),u.LFG(W,8),u.LFG(u.qLn))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function sv(n){return n.cloneNode(!0)}function ov(n,e){return n+":"+e}function av(n){return!(!n.url||!n.options)}const iA=Uu(class{constructor(n){this._elementRef=n}}),sA=new u.OlP("mat-icon-location",{providedIn:"root",factory:function oA(){const n=(0,u.f3M)(W),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),Ew=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],aA=Ew.map(n=>`[${n}]`).join(", "),lA=/^url\(['"]?#(.*?)['"]?\)$/;let bw=(()=>{class n extends iA{constructor(t,r,i,a,c){super(t),this._iconRegistry=r,this._location=a,this._errorHandler=c,this._inline=!1,this._currentIconFetch=ka.w0.EMPTY,i||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=so(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const r=this._cleanupFontValue(t);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const r=this._cleanupFontValue(t);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const r=t.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let r=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){const i=t.childNodes[r];(1!==i.nodeType||"svg"===i.nodeName.toLowerCase())&&i.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,r=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();r!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),r&&t.classList.add(r),this._previousFontSetClass=r),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const r=this._elementsWithExternalReferences;r&&r.forEach((i,a)=>{i.forEach(c=>{a.setAttribute(c.name,`url('${t}#${c.value}')`)})})}_cacheChildrenWithExternalReferences(t){const r=t.querySelectorAll(aA),i=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let a=0;a<r.length;a++)Ew.forEach(c=>{const h=r[a],_=h.getAttribute(c),b=_?_.match(lA):null;if(b){let D=i.get(h);D||(D=[],i.set(h,D)),D.push({name:c,value:b[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[r,i]=this._splitIconName(t);r&&(this._svgNamespace=r),i&&(this._svgName=i),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(i,r).pipe((0,hr.q)(1)).subscribe(a=>this._setSvgElement(a),a=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${r}:${i}! ${a.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(lg),u.$8M("aria-hidden"),u.Y36(sA),u.Y36(u.qLn))},n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,r){2&t&&(u.uIk("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet),u.ekj("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[u.qOj],ngContentSelectors:eA,decls:1,vars:0,template:function(t,r){1&t&&(u.F$t(),u.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),n})(),cA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[Si],Si]}),n})(),uA=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-header"]],decls:6,vars:0,consts:[[1,"heading"]],template:function(t,r){1&t&&(u.TgZ(0,"header")(1,"mat-icon"),u._uU(2,"home"),u.qZA(),u.TgZ(3,"div",0)(4,"h3"),u._uU(5,"Customer Management"),u.qZA()()())},directives:[bw],styles:["header[_ngcontent-%COMP%]{background-color:#1c4e80;color:#fff;padding:10px 20px;display:flex;justify-content:space-between;align-items:center}header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:500}"]}),n})();var dn=M(5620),Xn=(()=>{return(n=Xn||(Xn={})).loadCustomer="[load Customer] load",n.loadCustomer_Success="[load Customer] success",n.loadCustomer_Error="[load Customer] error",n.addCustomer="[add Customer] add",n.addCustomer_Success="[add Customer] success",n.addCustomer_Error="[add Customer] error",n.updateCustomer="[update Customer] update",n.updateCustomer_Success="[update Customer] success",n.updateCustomer_Error="[update Customer] error",n.removeCustomer="[remove Customer] remove",n.removeCustomer_Success="[remove Customer] success",n.removeCustomer_Error="[remove Customer] error",Xn;var n})();const ww=(0,dn.PH)(Xn.loadCustomer),Cw=(0,dn.PH)(Xn.loadCustomer_Success,(0,dn.Ky)()),lv=((0,dn.PH)(Xn.loadCustomer_Error,(0,dn.Ky)()),(0,dn.PH)(Xn.addCustomer,(0,dn.Ky)())),Dw=(0,dn.PH)(Xn.addCustomer_Success,(0,dn.Ky)()),cv=((0,dn.PH)(Xn.addCustomer_Error,(0,dn.Ky)()),(0,dn.PH)(Xn.updateCustomer,(0,dn.Ky)())),Iw=((0,dn.PH)(Xn.updateCustomer_Success,(0,dn.Ky)()),(0,dn.PH)(Xn.updateCustomer_Error,(0,dn.Ky)()),(0,dn.PH)(Xn.removeCustomer,(0,dn.Ky)())),hA=(0,dn.PH)(Xn.removeCustomer,(0,dn.Ky)()),_p=((0,dn.PH)(Xn.removeCustomer,(0,dn.Ky)()),n=>n.customers);let cg=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Qsj),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n}),n})(),zi=(()=>{class n extends cg{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,features:[u.qOj]}),n})();const Ja=new u.OlP("NgValueAccessor"),pA={provide:Ja,useExisting:(0,u.Gpc)(()=>$u),multi:!0},gA=new u.OlP("CompositionEventMode");let $u=(()=>{class n extends cg{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function mA(){const n=N()?N().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(gA,8))},n.\u0275dir=u.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&u.NdJ("input",function(a){return r._handleInput(a.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(a){return r._compositionEnd(a.target.value)})},features:[u._Bn([pA]),u.qOj]}),n})();function ha(n){return null==n||0===n.length}function Tw(n){return null!=n&&"number"==typeof n.length}const $i=new u.OlP("NgValidators"),Pl=new u.OlP("NgAsyncValidators"),Sw=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class el{static min(e){return function dv(n){return e=>{if(ha(e.value)||ha(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function Aw(n){return e=>{if(ha(e.value)||ha(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function Mw(n){return ha(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function _A(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function ug(n){return ha(n.value)||Sw.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function dg(n){return e=>ha(e.value)||!Tw(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function hv(n){return e=>Tw(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function hg(n){if(!n)return yh;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(ha(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return fv(e)}static composeAsync(e){return pv(e)}}function yh(n){return null}function xw(n){return null!=n}function Rw(n){const e=(0,u.QGY)(n)?(0,lr.D)(n):n;return(0,u.CqO)(e),e}function Ow(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function kw(n,e){return e.map(t=>t(n))}function fg(n){return n.map(e=>function Pw(n){return!n.validate}(e)?e:t=>e.validate(t))}function fv(n){if(!n)return null;const e=n.filter(xw);return 0==e.length?null:function(t){return Ow(kw(t,e))}}function pg(n){return null!=n?fv(fg(n)):null}function pv(n){if(!n)return null;const e=n.filter(xw);return 0==e.length?null:function(t){return dw(kw(t,e).map(Rw)).pipe((0,vt.U)(Ow))}}function mg(n){return null!=n?pv(fg(n)):null}function Nw(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function mv(n){return n._rawValidators}function gv(n){return n._rawAsyncValidators}function _v(n){return n?Array.isArray(n)?n:[n]:[]}function yp(n,e){return Array.isArray(n)?n.includes(e):n===e}function Fw(n,e){const t=_v(e);return _v(n).forEach(i=>{yp(t,i)||t.push(i)}),t}function Gi(n,e){return _v(e).filter(t=>!yp(n,t))}class Gu{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=pg(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=mg(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Nl extends Gu{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class gs extends Gu{get formDirective(){return null}get path(){return null}}class yA{constructor(e){this._cd=e}is(e){var t,r,i;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[e])}}let _g=(()=>{class n extends yA{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Nl,2))},n.\u0275dir=u.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&u.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[u.qOj]}),n})(),Lw=(()=>{class n extends yA{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(gs,10))},n.\u0275dir=u.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&u.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[u.qOj]}),n})();function Eg(n,e){Cg(n,e),e.valueAccessor.writeValue(n.value),function zw(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Gw(n,e)})}(n,e),function CA(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function $w(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Gw(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function Hw(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function bg(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Dg(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function wg(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Cg(n,e){const t=mv(n);null!==e.validator?n.setValidators(Nw(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=gv(n);null!==e.asyncValidator?n.setAsyncValidators(Nw(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();wg(e._rawValidators,i),wg(e._rawAsyncValidators,i)}function Dg(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=mv(n);if(Array.isArray(i)&&i.length>0){const a=i.filter(c=>c!==e.validator);a.length!==i.length&&(t=!0,n.setValidators(a))}}if(null!==e.asyncValidator){const i=gv(n);if(Array.isArray(i)&&i.length>0){const a=i.filter(c=>c!==e.asyncValidator);a.length!==i.length&&(t=!0,n.setAsyncValidators(a))}}}const r=()=>{};return wg(e._rawValidators,r),wg(e._rawAsyncValidators,r),t}function Gw(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Ev(n,e){Cg(n,e)}function AA(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function Ww(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Tg="VALID",Cv="INVALID",bp="PENDING",Sg="DISABLED";function Eh(n){return(wp(n)?n.validators:n)||null}function MA(n){return Array.isArray(n)?pg(n):n||null}function Ag(n,e){return(wp(e)?e.asyncValidators:n)||null}function Mg(n){return Array.isArray(n)?mg(n):n||null}function wp(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const xg=n=>n instanceof Og,Dv=n=>n instanceof kg,Rg=n=>n instanceof Pg;function Iv(n){return xg(n)?n.value:n.getRawValue()}function Tv(n,e){const t=Dv(n),r=n.controls;if(!(t?Object.keys(r):r).length)throw new u.vHH(1e3,"");if(!r[e])throw new u.vHH(1001,"")}function Sv(n,e){Dv(n),n._forEachChild((r,i)=>{if(void 0===e[i])throw new u.vHH(1002,"")})}class Zw{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=MA(this._rawValidators),this._composedAsyncValidatorFn=Mg(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Tg}get invalid(){return this.status===Cv}get pending(){return this.status==bp}get disabled(){return this.status===Sg}get enabled(){return this.status!==Sg}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=MA(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=Mg(e)}addValidators(e){this.setValidators(Fw(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Fw(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Gi(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Gi(e,this._rawAsyncValidators))}hasValidator(e){return yp(this._rawValidators,e)}hasAsyncValidator(e){return yp(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=bp,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Sg,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Tg,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Tg||this.status===bp)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Sg:Tg}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=bp,this._hasOwnPendingAsyncValidator=!0;const t=Rw(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function eN(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(i=>{r=Dv(r)?r.controls.hasOwnProperty(i)?r.controls[i]:null:Rg(r)&&r.at(i)||null}),r}(this,e,".")}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new u.vpe,this.statusChanges=new u.vpe}_calculateStatus(){return this._allControlsDisabled()?Sg:this.errors?Cv:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(bp)?bp:this._anyControlsHaveStatus(Cv)?Cv:Tg}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){wp(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Og extends Zw{constructor(e=null,t,r){super(Eh(t),Ag(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),wp(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Ww(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Ww(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class kg extends Zw{constructor(e,t,r){super(Eh(t),Ag(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){Sv(this,e),Object.keys(e).forEach(r=>{Tv(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=Iv(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,a)=>{r=t(r,i,a)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class Pg extends Zw{constructor(e,t,r){super(Eh(t),Ag(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){Sv(this,e),e.forEach((r,i)=>{Tv(this,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>Iv(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const xA={provide:gs,useExisting:(0,u.Gpc)(()=>Av)},Ng=(()=>Promise.resolve(null))();let Av=(()=>{class n extends gs{constructor(t,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new u.vpe,this.form=new kg({},pg(t),mg(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Ng.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),Eg(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Ng.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Ng.then(()=>{const r=this._findContainer(t.path),i=new kg({});Ev(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Ng.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Ng.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,AA(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(u.Y36($i,10),u.Y36(Pl,10))},n.\u0275dir=u.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&u.NdJ("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([xA]),u.qOj]}),n})(),Lg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),xv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const Ov=new u.OlP("NgModelWithFormControlWarning"),LA={provide:gs,useExisting:(0,u.Gpc)(()=>Bg)};let Bg=(()=>{class n extends gs{constructor(t,r){super(),this.validators=t,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new u.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Dg(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Eg(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){bg(t.control||null,t,!1),Ww(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,AA(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(bg(r||null,t),xg(i)&&(Eg(i,t),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);Ev(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function DA(n,e){return Dg(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Cg(this.form,this),this._oldForm&&Dg(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(u.Y36($i,10),u.Y36(Pl,10))},n.\u0275dir=u.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&u.NdJ("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([LA]),u.qOj,u.TTD]}),n})();const UA={provide:Nl,useExisting:(0,u.Gpc)(()=>eC)};let eC=(()=>{class n extends Nl{constructor(t,r,i,a,c){super(),this._ngModelWarningConfig=c,this._added=!1,this.update=new u.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function Ig(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(a=>{a.constructor===$u?t=a:function SA(n){return Object.getPrototypeOf(n.constructor)===zi}(a)?r=a:i=a}),i||r||t||null}(0,a)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function wv(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function vh(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(u.Y36(gs,13),u.Y36($i,10),u.Y36(Pl,10),u.Y36(Ja,10),u.Y36(Ov,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[u._Bn([UA]),u.qOj,u.TTD]}),n})(),jv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[xv]]}),n})(),Cp=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Ov,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[jv]}),n})(),uN=(()=>{class n{group(t,r=null){const i=this._reduceControls(t);let h,a=null,c=null;return null!=r&&(function cN(n){return void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn}(r)?(a=null!=r.validators?r.validators:null,c=null!=r.asyncValidators?r.asyncValidators:null,h=null!=r.updateOn?r.updateOn:void 0):(a=null!=r.validator?r.validator:null,c=null!=r.asyncValidator?r.asyncValidator:null)),new kg(i,{asyncValidators:c,updateOn:h,validators:a})}control(t,r,i){return new Og(t,r,i)}array(t,r,i){const a=t.map(c=>this._createControl(c));return new Pg(a,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return xg(t)||Dv(t)||Rg(t)?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:Cp}),n})();var dN=M(1144);const mC=["addListener","removeListener"],WA=["addEventListener","removeEventListener"],KA=["on","off"];function zg(n,e,t,r){if((0,Ur.m)(t)&&(r=t,t=void 0),r)return zg(n,e,t).pipe(oc(r));const[i,a]=function vC(n){return(0,Ur.m)(n.addEventListener)&&(0,Ur.m)(n.removeEventListener)}(n)?WA.map(c=>h=>n[c](e,h,t)):function _C(n){return(0,Ur.m)(n.addListener)&&(0,Ur.m)(n.removeListener)}(n)?mC.map(gC(n,e)):function yC(n){return(0,Ur.m)(n.on)&&(0,Ur.m)(n.off)}(n)?KA.map(gC(n,e)):[];if(!i&&(0,dN.z)(n))return(0,cr.z)(c=>zg(c,e,t))((0,Os.Xf)(n));if(!i)throw new TypeError("Invalid event target");return new xr.y(c=>{const h=(..._)=>c.next(1<_.length?_:_[0]);return i(h),()=>a(h)})}function gC(n,e){return t=>r=>n[t](e,r)}var EC=M(4408);const Dp={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=Dp;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=e(a=>{t=void 0,n(a)});return new ka.w0(()=>null==t?void 0:t(i))},requestAnimationFrame(...n){const{delegate:e}=Dp;return((null==e?void 0:e.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=Dp;return((null==e?void 0:e.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0};var $g=M(7565);new class hN extends $g.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class bC extends EC.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=Dp.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:a}=e;null!=t&&(null===(i=a[a.length-1])||void 0===i?void 0:i.id)!==t&&(Dp.cancelAnimationFrame(t),e._scheduled=void 0)}});let Hv,ZA=1;const zv={};function YA(n){return n in zv&&(delete zv[n],!0)}const fN={setImmediate(n){const e=ZA++;return zv[e]=!0,Hv||(Hv=Promise.resolve()),Hv.then(()=>YA(e)&&n()),e},clearImmediate(n){YA(n)}},{setImmediate:QA,clearImmediate:mN}=fN,$v={setImmediate(...n){const{delegate:e}=$v;return((null==e?void 0:e.setImmediate)||QA)(...n)},clearImmediate(n){const{delegate:e}=$v;return((null==e?void 0:e.clearImmediate)||mN)(n)},delegate:void 0};new class _N extends $g.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class gN extends EC.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=$v.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:a}=e;null!=t&&(null===(i=a[a.length-1])||void 0===i?void 0:i.id)!==t&&($v.clearImmediate(t),e._scheduled=void 0)}});var DC=M(4986),bN=M(3532),wN=M(1165);function o(n,e=DC.z){return function EN(n){return(0,jr.e)((e,t)=>{let r=!1,i=null,a=null,c=!1;const h=()=>{if(null==a||a.unsubscribe(),a=null,r){r=!1;const b=i;i=null,t.next(b)}c&&t.complete()},_=()=>{a=null,c&&t.complete()};e.subscribe((0,Rr.x)(t,b=>{r=!0,i=b,a||(0,Os.Xf)(n(b)).subscribe(a=(0,Rr.x)(t,h,_))},()=>{c=!0,(!r||!a||a.closed)&&t.complete()}))})}(()=>function s(n=0,e,t=DC.P){let r=-1;return null!=e&&((0,bN.K)(e)?t=e:r=e),new xr.y(i=>{let a=(0,wN.q)(n)?+n-t.now():n;a<0&&(a=0);let c=0;return t.schedule(function(){i.closed||(i.next(c++),0<=r?this.schedule(void 0,r):i.complete())},a)})}(n,e))}let R=(()=>{class n{constructor(t,r,i){this._ngZone=t,this._platform=r,this._scrolled=new tn.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new xr.y(r=>{this._globalSubscription||this._addGlobalListener();const i=t>0?this._scrolled.pipe(o(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,mt.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){const i=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe((0,Hn.h)(a=>!a||i.indexOf(a)>-1))}getAncestorScrollContainers(t){const r=[];return this.scrollContainers.forEach((i,a)=>{this._scrollableContainsElement(a,t)&&r.push(a)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,r){let i=ko(r),a=t.getElementRef().nativeElement;do{if(i==a)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>zg(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.R0b),u.LFG(ki),u.LFG(W,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),J=(()=>{class n{constructor(t,r,i){this._platform=t,this._change=new tn.x,this._changeListener=a=>{this._change.next(a)},this._document=i,r.runOutsideAngular(()=>{if(t.isBrowser){const a=this._getWindow();a.addEventListener("resize",this._changeListener),a.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,r=this._getWindow(),i=t.documentElement,a=i.getBoundingClientRect();return{top:-a.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,left:-a.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(o(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ki),u.LFG(u.R0b),u.LFG(W,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ze=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),Mt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[Rm,ze],Rm,ze]}),n})();class Ip{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class Wu extends Ip{constructor(e,t,r,i){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.componentFactoryResolver=i}}class Tp extends Ip{constructor(e,t,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class Gv extends Ip{constructor(e){super(),this.element=e instanceof u.SBq?e.nativeElement:e}}class Ch{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof Wu?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof Tp?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof Gv?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class qv extends Ch{constructor(e,t,r,i,a){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=c=>{const h=c.element,_=this._document.createComment("dom-portal");h.parentNode.insertBefore(_,h),this.outletElement.appendChild(h),this._attachedPortal=c,super.setDisposeFn(()=>{_.parentNode&&_.parentNode.replaceChild(h,_)})},this._document=a}attachComponentPortal(e){const r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let i;return e.viewContainerRef?(i=e.viewContainerRef.createComponent(r,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>i.destroy())):(i=r.create(e.injector||this._defaultInjector||u.zs3.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=e,i}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context);return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=t.indexOf(r);-1!==i&&t.remove(i)}),this._attachedPortal=e,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let AC=(()=>{class n extends Ch{constructor(t,r,i){super(),this._componentFactoryResolver=t,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new u.vpe,this.attachDomPortal=a=>{const c=a.element,h=this._document.createComment("dom-portal");a.setAttachedHost(this),c.parentNode.insertBefore(h,c),this._getRootNode().appendChild(c),this._attachedPortal=a,super.setDisposeFn(()=>{h.parentNode&&h.parentNode.replaceChild(c,h)})},this._document=i}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const r=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,a=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),c=r.createComponent(a,r.length,t.injector||r.injector);return r!==this._viewContainerRef&&this._getRootNode().appendChild(c.hostView.rootNodes[0]),super.setDisposeFn(()=>c.destroy()),this._attachedPortal=t,this._attachedRef=c,this.attached.emit(c),c}attachTemplatePortal(t){t.setAttachedHost(this);const r=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u._Vd),u.Y36(u.s_b),u.Y36(W))},n.\u0275dir=u.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[u.qOj]}),n})(),XA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();var Wv=M(6451);const CN=pb();class UU{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Qn(-this._previousScrollPosition.left),e.style.top=Qn(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,r=e.style,i=this._document.body.style,a=r.scrollBehavior||"",c=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),CN&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),CN&&(r.scrollBehavior=a,i.scrollBehavior=c)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,r=this._viewportRuler.getViewportSize();return t.scrollHeight>r.height||t.scrollWidth>r.width}}class jU{constructor(e,t,r,i){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class DN{enable(){}disable(){}attach(){}}function JA(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function IN(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class HU{constructor(e,t,r,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();JA(t,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let zU=(()=>{class n{constructor(t,r,i,a){this._scrollDispatcher=t,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new DN,this.close=c=>new jU(this._scrollDispatcher,this._ngZone,this._viewportRuler,c),this.block=()=>new UU(this._viewportRuler,this._document),this.reposition=c=>new HU(this._scrollDispatcher,this._viewportRuler,this._ngZone,c),this._document=a}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(R),u.LFG(J),u.LFG(u.R0b),u.LFG(W))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class eM{constructor(e){if(this.scrollStrategy=new DN,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const r of t)void 0!==e[r]&&(this[r]=e[r])}}}class $U{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}class GU{constructor(e,t,r,i,a,c,h,_,b){this._portalOutlet=e,this._host=t,this._pane=r,this._config=i,this._ngZone=a,this._keyboardDispatcher=c,this._document=h,this._location=_,this._outsideClickDispatcher=b,this._backdropElement=null,this._backdropClick=new tn.x,this._attachments=new tn.x,this._detachments=new tn.x,this._locationChanges=ka.w0.EMPTY,this._backdropClickHandler=D=>this._backdropClick.next(D),this._backdropTransitionendHandler=D=>{this._disposeBackdrop(D.target)},this._keydownEvents=new tn.x,this._outsidePointerEvents=new tn.x,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,hr.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){var e;const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(e=this._host)||void 0===e||e.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=Object.assign(Object.assign({},this._config),e),this._updateElementSize()}setDirection(e){this._config=Object.assign(Object.assign({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=Qn(this._config.width),e.height=Qn(this._config.height),e.minWidth=Qn(this._config.minWidth),e.minHeight=Qn(this._config.minHeight),e.maxWidth=Qn(this._config.maxWidth),e.maxHeight=Qn(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;!e||(e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500)))}_toggleClasses(e,t,r){const i=Gf(t||[]).filter(a=>!!a);i.length&&(r?e.classList.add(...i):e.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe((0,io.R)((0,Wv.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}let tM=(()=>{class n{constructor(t,r){this._platform=r,this._document=t}ngOnDestroy(){var t;null===(t=this._containerElement)||void 0===t||t.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||Nm()){const i=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let a=0;a<i.length;a++)i[a].remove()}const r=this._document.createElement("div");r.classList.add(t),Nm()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(W),u.LFG(ki))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const TN="cdk-overlay-connected-position-bounding-box",qU=/([A-Za-z%]+)$/;class WU{constructor(e,t,r,i,a){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=a,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new tn.x,this._resizeSubscription=ka.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(TN),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,r=this._viewportRect,i=this._containerRect,a=[];let c;for(let h of this._preferredPositions){let _=this._getOriginPoint(e,i,h),b=this._getOverlayPoint(_,t,h),D=this._getOverlayFit(b,t,r,h);if(D.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(h,_);this._canFitWithFlexibleDimensions(D,b,r)?a.push({position:h,origin:_,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(_,h)}):(!c||c.overlayFit.visibleArea<D.visibleArea)&&(c={overlayFit:D,overlayPoint:b,originPoint:_,position:h,overlayRect:t})}if(a.length){let h=null,_=-1;for(const b of a){const D=b.boundingBoxRect.width*b.boundingBoxRect.height*(b.position.weight||1);D>_&&(_=D,h=b)}return this._isPushed=!1,void this._applyPosition(h.position,h.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(c.position,c.originPoint);this._applyPosition(c.position,c.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Sp(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(TN),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,r){let i,a;if("center"==r.originX)i=e.left+e.width/2;else{const c=this._isRtl()?e.right:e.left,h=this._isRtl()?e.left:e.right;i="start"==r.originX?c:h}return t.left<0&&(i-=t.left),a="center"==r.originY?e.top+e.height/2:"top"==r.originY?e.top:e.bottom,t.top<0&&(a-=t.top),{x:i,y:a}}_getOverlayPoint(e,t,r){let i,a;return i="center"==r.overlayX?-t.width/2:"start"===r.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,a="center"==r.overlayY?-t.height/2:"top"==r.overlayY?0:-t.height,{x:e.x+i,y:e.y+a}}_getOverlayFit(e,t,r,i){const a=AN(t);let{x:c,y:h}=e,_=this._getOffset(i,"x"),b=this._getOffset(i,"y");_&&(c+=_),b&&(h+=b);let F=0-h,j=h+a.height-r.height,ee=this._subtractOverflows(a.width,0-c,c+a.width-r.width),de=this._subtractOverflows(a.height,F,j),Ae=ee*de;return{visibleArea:Ae,isCompletelyWithinViewport:a.width*a.height===Ae,fitsInViewportVertically:de===a.height,fitsInViewportHorizontally:ee==a.width}}_canFitWithFlexibleDimensions(e,t,r){if(this._hasFlexibleDimensions){const i=r.bottom-t.y,a=r.right-t.x,c=SN(this._overlayRef.getConfig().minHeight),h=SN(this._overlayRef.getConfig().minWidth),b=e.fitsInViewportHorizontally||null!=h&&h<=a;return(e.fitsInViewportVertically||null!=c&&c<=i)&&b}return!1}_pushOverlayOnScreen(e,t,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const i=AN(t),a=this._viewportRect,c=Math.max(e.x+i.width-a.width,0),h=Math.max(e.y+i.height-a.height,0),_=Math.max(a.top-r.top-e.y,0),b=Math.max(a.left-r.left-e.x,0);let D=0,x=0;return D=i.width<=a.width?b||-c:e.x<this._viewportMargin?a.left-r.left-e.x:0,x=i.height<=a.height?_||-h:e.y<this._viewportMargin?a.top-r.top-e.y:0,this._previousPushAmount={x:D,y:x},{x:e.x+D,y:e.y+x}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const r=this._getScrollVisibility(),i=new $U(e,r);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=e.overlayY;r="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let a=0;a<t.length;a++)t[a].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(e,t){const r=this._viewportRect,i=this._isRtl();let a,c,h,D,x,F;if("top"===t.overlayY)c=e.y,a=r.height-c+this._viewportMargin;else if("bottom"===t.overlayY)h=r.height-e.y+2*this._viewportMargin,a=r.height-h+this._viewportMargin;else{const j=Math.min(r.bottom-e.y+r.top,e.y),ee=this._lastBoundingBoxSize.height;a=2*j,c=e.y-j,a>ee&&!this._isInitialRender&&!this._growAfterOpen&&(c=e.y-ee/2)}if("end"===t.overlayX&&!i||"start"===t.overlayX&&i)F=r.width-e.x+this._viewportMargin,D=e.x-this._viewportMargin;else if("start"===t.overlayX&&!i||"end"===t.overlayX&&i)x=e.x,D=r.right-e.x;else{const j=Math.min(r.right-e.x+r.left,e.x),ee=this._lastBoundingBoxSize.width;D=2*j,x=e.x-j,D>ee&&!this._isInitialRender&&!this._growAfterOpen&&(x=e.x-ee/2)}return{top:c,left:x,bottom:h,right:F,width:D,height:a}}_setBoundingBoxStyles(e,t){const r=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const a=this._overlayRef.getConfig().maxHeight,c=this._overlayRef.getConfig().maxWidth;i.height=Qn(r.height),i.top=Qn(r.top),i.bottom=Qn(r.bottom),i.width=Qn(r.width),i.left=Qn(r.left),i.right=Qn(r.right),i.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",i.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",a&&(i.maxHeight=Qn(a)),c&&(i.maxWidth=Qn(c))}this._lastBoundingBoxSize=r,Sp(this._boundingBox.style,i)}_resetBoundingBoxStyles(){Sp(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Sp(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const r={},i=this._hasExactPosition(),a=this._hasFlexibleDimensions,c=this._overlayRef.getConfig();if(i){const D=this._viewportRuler.getViewportScrollPosition();Sp(r,this._getExactOverlayY(t,e,D)),Sp(r,this._getExactOverlayX(t,e,D))}else r.position="static";let h="",_=this._getOffset(t,"x"),b=this._getOffset(t,"y");_&&(h+=`translateX(${_}px) `),b&&(h+=`translateY(${b}px)`),r.transform=h.trim(),c.maxHeight&&(i?r.maxHeight=Qn(c.maxHeight):a&&(r.maxHeight="")),c.maxWidth&&(i?r.maxWidth=Qn(c.maxWidth):a&&(r.maxWidth="")),Sp(this._pane.style,r)}_getExactOverlayY(e,t,r){let i={top:"",bottom:""},a=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,r)),"bottom"===e.overlayY?i.bottom=this._document.documentElement.clientHeight-(a.y+this._overlayRect.height)+"px":i.top=Qn(a.y),i}_getExactOverlayX(e,t,r){let c,i={left:"",right:""},a=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,r)),c=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===c?i.right=this._document.documentElement.clientWidth-(a.x+this._overlayRect.width)+"px":i.left=Qn(a.x),i}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:IN(e,r),isOriginOutsideView:JA(e,r),isOverlayClipped:IN(t,r),isOverlayOutsideView:JA(t,r)}}_subtractOverflows(e,...t){return t.reduce((r,i)=>r-Math.max(i,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&Gf(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof u.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+t,height:r,width:t}}}function Sp(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function SN(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(qU);return t&&"px"!==t?null:parseFloat(e)}return n||null}function AN(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const MN="cdk-global-overlay-wrapper";class KU{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(MN),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._rightOffset="",this._leftOffset=e,this._justifyContent="flex-start",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._leftOffset="",this._rightOffset=e,this._justifyContent="flex-end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._justifyContent="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:a,maxWidth:c,maxHeight:h}=r,_=!("100%"!==i&&"100vw"!==i||c&&"100%"!==c&&"100vw"!==c),b=!("100%"!==a&&"100vh"!==a||h&&"100%"!==h&&"100vh"!==h);e.position=this._cssPosition,e.marginLeft=_?"0":this._leftOffset,e.marginTop=b?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=this._rightOffset,_?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems=b?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove(MN),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let ZU=(()=>{class n{constructor(t,r,i,a){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=a}global(){return new KU}flexibleConnectedTo(t){return new WU(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(J),u.LFG(W),u.LFG(ki),u.LFG(tM))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xN=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(W))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),YU=(()=>{class n extends xN{constructor(t,r){super(t),this._ngZone=r,this._keydownListener=i=>{const a=this._attachedOverlays;for(let c=a.length-1;c>-1;c--)if(a[c]._keydownEvents.observers.length>0){const h=a[c]._keydownEvents;this._ngZone?this._ngZone.run(()=>h.next(i)):h.next(i);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(W),u.LFG(u.R0b,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),QU=(()=>{class n extends xN{constructor(t,r,i){super(t),this._platform=r,this._ngZone=i,this._cursorStyleIsSet=!1,this._pointerDownListener=a=>{this._pointerDownEventTarget=Fc(a)},this._clickListener=a=>{const c=Fc(a),h="click"===a.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:c;this._pointerDownEventTarget=null;const _=this._attachedOverlays.slice();for(let b=_.length-1;b>-1;b--){const D=_[b];if(D._outsidePointerEvents.observers.length<1||!D.hasAttached())continue;if(D.overlayElement.contains(c)||D.overlayElement.contains(h))break;const x=D._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>x.next(a)):x.next(a)}}}add(t){if(super.add(t),!this._isAttached){const r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(W),u.LFG(ki),u.LFG(u.R0b,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),XU=0,Gg=(()=>{class n{constructor(t,r,i,a,c,h,_,b,D,x,F){this.scrollStrategies=t,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=a,this._keyboardDispatcher=c,this._injector=h,this._ngZone=_,this._document=b,this._directionality=D,this._location=x,this._outsideClickDispatcher=F}create(t){const r=this._createHostElement(),i=this._createPaneElement(r),a=this._createPortalOutlet(i),c=new eM(t);return c.direction=c.direction||this._directionality.value,new GU(a,r,i,c,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const r=this._document.createElement("div");return r.id="cdk-overlay-"+XU++,r.classList.add("cdk-overlay-pane"),t.appendChild(r),r}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(u.z2F)),new qv(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(zU),u.LFG(tM),u.LFG(u._Vd),u.LFG(ZU),u.LFG(YU),u.LFG(u.zs3),u.LFG(u.R0b),u.LFG(W),u.LFG(Ru),u.LFG(Ee),u.LFG(QU))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const tj={provide:new u.OlP("cdk-connected-overlay-scroll-strategy"),deps:[Gg],useFactory:function ej(n){return()=>n.scrollStrategies.reposition()}};let RN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[Gg,tj],imports:[[Rm,XA,Mt],Mt]}),n})();function nj(n,e){}class nM{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const rj={dialogContainer:my("dialogContainer",[Lc("void, exit",ca({opacity:0,transform:"scale(0.7)"})),Lc("enter",ca({transform:"none"})),Yf("* => enter",r0([Kf("150ms cubic-bezier(0, 0, 0.2, 1)",ca({transform:"none",opacity:1})),Vm("@*",o0(),{optional:!0})])),Yf("* => void, * => exit",r0([Kf("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",ca({opacity:0})),Vm("@*",o0(),{optional:!0})]))])};let ij=(()=>{class n extends Ch{constructor(t,r,i,a,c,h,_,b){super(),this._elementRef=t,this._focusTrapFactory=r,this._changeDetectorRef=i,this._config=c,this._interactivityChecker=h,this._ngZone=_,this._focusMonitor=b,this._animationStateChanged=new u.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=D=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(D)),this._ariaLabelledBy=c.ariaLabelledBy||null,this._document=a}_initializeWithAttachedContent(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=Pm())}attachComponentPortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(t)}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,r){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const i=()=>{t.removeEventListener("blur",i),t.removeEventListener("mousedown",i),t.removeAttribute("tabindex")};t.addEventListener("blur",i),t.addEventListener("mousedown",i)})),t.focus(r)}_focusByCssSelector(t,r){let i=this._elementRef.nativeElement.querySelector(t);i&&this._forceFocus(i,r)}_trapFocus(){const t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(r=>{r||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const t=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&t&&"function"==typeof t.focus){const r=Pm(),i=this._elementRef.nativeElement;(!r||r===this._document.body||r===i||i.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(t,this._closeInteractionType),this._closeInteractionType=null):t.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,r=Pm();return t===r||t.contains(r)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(Zb),u.Y36(u.sBO),u.Y36(W,8),u.Y36(nM),u.Y36(ay),u.Y36(u.R0b),u.Y36(hy))},n.\u0275dir=u.lG2({type:n,viewQuery:function(t,r){if(1&t&&u.Gf(AC,7),2&t){let i;u.iGM(i=u.CRH())&&(r._portalOutlet=i.first)}},features:[u.qOj]}),n})(),sj=(()=>{class n extends ij{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:t,totalTime:r}){"enter"===t?(this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:r})):"exit"===t&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:r}))}_onAnimationStart({toState:t,totalTime:r}){"enter"===t?this._animationStateChanged.next({state:"opening",totalTime:r}):("exit"===t||"void"===t)&&this._animationStateChanged.next({state:"closing",totalTime:r})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_initializeWithAttachedContent(){super._initializeWithAttachedContent(),this._config.delayFocusTrap||this._trapFocus()}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(t,r){1&t&&u.WFA("@dialogContainer.start",function(a){return r._onAnimationStart(a)})("@dialogContainer.done",function(a){return r._onAnimationDone(a)}),2&t&&(u.Ikx("id",r._id),u.uIk("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledBy)("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),u.d8E("@dialogContainer",r._state))},features:[u.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,r){1&t&&u.YNc(0,nj,0,0,"ng-template",0)},directives:[AC],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[rj.dialogContainer]}}),n})(),oj=0;class ON{constructor(e,t,r="mat-dialog-"+oj++){this._overlayRef=e,this._containerInstance=t,this.id=r,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new tn.x,this._afterClosed=new tn.x,this._beforeClosed=new tn.x,this._state=0,t._id=r,t._animationStateChanged.pipe((0,Hn.h)(i=>"opened"===i.state),(0,hr.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),t._animationStateChanged.pipe((0,Hn.h)(i=>"closed"===i.state),(0,hr.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),e.keydownEvents().pipe((0,Hn.h)(i=>27===i.keyCode&&!this.disableClose&&!function iy(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}(i))).subscribe(i=>{i.preventDefault(),kN(this,"keyboard")}),e.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():kN(this,"mouse")})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe((0,Hn.h)(t=>"closing"===t.state),(0,hr.q)(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(e){let t=this._getPositionStrategy();return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(e="",t=""){return this._overlayRef.updateSize({width:e,height:t}),this._overlayRef.updatePosition(),this}addPanelClass(e){return this._overlayRef.addPanelClass(e),this}removePanelClass(e){return this._overlayRef.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function kN(n,e,t){return void 0!==n._containerInstance&&(n._containerInstance._closeInteractionType=e),n.close(t)}const PN=new u.OlP("MatDialogData"),aj=new u.OlP("mat-dialog-default-options"),NN=new u.OlP("mat-dialog-scroll-strategy"),cj={provide:NN,deps:[Gg],useFactory:function lj(n){return()=>n.scrollStrategies.block()}};let uj=(()=>{class n{constructor(t,r,i,a,c,h,_,b,D,x){this._overlay=t,this._injector=r,this._defaultOptions=i,this._parentDialog=a,this._overlayContainer=c,this._dialogRefConstructor=_,this._dialogContainerType=b,this._dialogDataToken=D,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new tn.x,this._afterOpenedAtThisLevel=new tn.x,this._ariaHiddenElements=new Map,this.afterAllClosed=pl(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Mn(void 0))),this._scrollStrategy=h}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(t,r){r=function dj(n,e){return Object.assign(Object.assign({},e),n)}(r,this._defaultOptions||new nM),r.id&&this.getDialogById(r.id);const i=this._createOverlay(r),a=this._attachDialogContainer(i,r),c=this._attachDialogContent(t,a,i,r);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(c),c.afterClosed().subscribe(()=>this._removeOpenDialog(c)),this.afterOpened.next(c),a._initializeWithAttachedContent(),c}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(r=>r.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(t){const r=this._getOverlayConfig(t);return this._overlay.create(r)}_getOverlayConfig(t){const r=new eM({positionStrategy:this._overlay.position().global(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(r.backdropClass=t.backdropClass),r}_attachDialogContainer(t,r){const a=u.zs3.create({parent:r&&r.viewContainerRef&&r.viewContainerRef.injector||this._injector,providers:[{provide:nM,useValue:r}]}),c=new Wu(this._dialogContainerType,r.viewContainerRef,a,r.componentFactoryResolver);return t.attach(c).instance}_attachDialogContent(t,r,i,a){const c=new this._dialogRefConstructor(i,r,a.id);if(t instanceof u.Rgc)r.attachTemplatePortal(new Tp(t,null,{$implicit:a.data,dialogRef:c}));else{const h=this._createInjector(a,c,r),_=r.attachComponentPortal(new Wu(t,a.viewContainerRef,h,a.componentFactoryResolver));c.componentInstance=_.instance}return c.updateSize(a.width,a.height).updatePosition(a.position),c}_createInjector(t,r,i){const a=t&&t.viewContainerRef&&t.viewContainerRef.injector,c=[{provide:this._dialogContainerType,useValue:i},{provide:this._dialogDataToken,useValue:t.data},{provide:this._dialogRefConstructor,useValue:r}];return t.direction&&(!a||!a.get(Ru,null,u.XFs.Optional))&&c.push({provide:Ru,useValue:{value:t.direction,change:(0,mt.of)()}}),u.zs3.create({parent:a||this._injector,providers:c})}_removeOpenDialog(t){const r=this.openDialogs.indexOf(t);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((i,a)=>{i?a.setAttribute("aria-hidden",i):a.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const r=t.parentElement.children;for(let i=r.length-1;i>-1;i--){let a=r[i];a!==t&&"SCRIPT"!==a.nodeName&&"STYLE"!==a.nodeName&&!a.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(a,a.getAttribute("aria-hidden")),a.setAttribute("aria-hidden","true"))}}}_closeDialogs(t){let r=t.length;for(;r--;)t[r].close()}}return n.\u0275fac=function(t){u.$Z()},n.\u0275dir=u.lG2({type:n}),n})(),FN=(()=>{class n extends uj{constructor(t,r,i,a,c,h,_,b){super(t,r,a,h,_,c,ON,sj,PN,b)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Gg),u.LFG(u.zs3),u.LFG(Ee,8),u.LFG(aj,8),u.LFG(NN),u.LFG(n,12),u.LFG(tM),u.LFG(Jn,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),hj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[FN,cj],imports:[[RN,XA,Si],Si]}),n})();var Vo=(()=>{return(n=Vo||(Vo={}))[n.AddMode=1]="AddMode",n[n.EditMode=2]="EditMode",n[n.PreviewMode=3]="PreviewMode",Vo;var n})();const LN_email=/^\s*(?:[A-Za-z0-9!#$%&amp;'*+/=?^_`{|}~-]+(?:\.[A-Za-z0-9!#$%&amp;'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[A-Za-z0-9](?:[A-Za-z0-9-]*[A-Za-z0-9])?\.)+[A-Za-z0-9](?:[A-Za-z0-9-]*[A-Za-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[A-Za-z0-9-]*[A-Za-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])\s*$/,LN_numbers=/^\d+$/;var Us=M(8405);function rM(){return(0,jr.e)((n,e)=>{let t,r=!1;n.subscribe((0,Rr.x)(e,i=>{const a=t;t=i,r&&e.next([a,i]),r=!0}))})}var gt,Fl=M(2011),fj=(M(3042),M(3942)),Ne=M(5861),Ap=M(6881),MC=M(4859),Dh=M(1877),Fn=M(2090),pj="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Ll={},iM=iM||{},an=pj||self;function xC(){}function RC(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Kv(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var sM="closure_uid_"+(1e9*Math.random()>>>0),gj=0;function _j(n,e,t){return n.call.apply(n.bind,arguments)}function yj(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function js(n,e,t){return(js=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?_j:yj).apply(null,arguments)}function OC(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function qi(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,a){for(var c=Array(arguments.length-2),h=2;h<arguments.length;h++)c[h-2]=arguments[h];return e.prototype[i].apply(r,c)}}function Ih(){this.s=this.s,this.o=this.o}Ih.prototype.s=!1,Ih.prototype.ra=function(){!this.s&&(this.s=!0,this.N(),0)&&function mj(n){Object.prototype.hasOwnProperty.call(n,sM)&&n[sM]||(n[sM]=++gj)}(this)},Ih.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const BN=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function oM(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function VN(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(RC(r)){const i=n.length||0,a=r.length||0;n.length=i+a;for(let c=0;c<a;c++)n[i+c]=r[c]}else n.push(r)}}function Hs(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Hs.prototype.h=function(){this.defaultPrevented=!0};var Ej=function(){if(!an.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{an.addEventListener("test",xC,e),an.removeEventListener("test",xC,e)}catch(t){}return n}();function kC(n){return/^[\s\xa0]*$/.test(n)}var UN=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function aM(n,e){return n<e?-1:n>e?1:0}function PC(){var n=an.navigator;return n&&(n=n.userAgent)?n:""}function qc(n){return-1!=PC().indexOf(n)}function lM(n){return lM[" "](n),n}function jN(n,e,t){return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}lM[" "]=xC;var NC,n,bj=qc("Opera"),qg=qc("Trident")||qc("MSIE"),HN=qc("Edge"),cM=HN||qg,zN=qc("Gecko")&&!(-1!=PC().toLowerCase().indexOf("webkit")&&!qc("Edge"))&&!(qc("Trident")||qc("MSIE"))&&!qc("Edge"),wj=-1!=PC().toLowerCase().indexOf("webkit")&&!qc("Edge");function $N(){var n=an.document;return n?n.documentMode:void 0}e:{var uM="",dM=(n=PC(),zN?/rv:([^\);]+)(\)|;)/.exec(n):HN?/Edge\/([\d\.]+)/.exec(n):qg?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):wj?/WebKit\/(\S+)/.exec(n):bj?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(dM&&(uM=dM?dM[1]:""),qg){var hM=$N();if(null!=hM&&hM>parseFloat(uM)){NC=String(hM);break e}}NC=uM}var Cj={},Ij=an.document&&qg&&($N()||parseInt(NC,10))||void 0;function Zv(n,e){if(Hs.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(zN){e:{try{lM(e.nodeName);var i=!0;break e}catch(a){}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Tj[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Zv.$.h.call(this)}}qi(Zv,Hs);var Tj={2:"touch",3:"pen",4:"mouse"};Zv.prototype.h=function(){Zv.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Yv="closure_listenable_"+(1e6*Math.random()|0),Sj=0;function Aj(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++Sj,this.fa=this.ia=!1}function FC(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function pM(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function qN(n){const e={};for(const t in n)e[t]=n[t];return e}const WN="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function KN(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let a=0;a<WN.length;a++)t=WN[a],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function LC(n){this.src=n,this.g={},this.h=0}function mM(n,e){var t=e.type;if(t in n.g){var a,r=n.g[t],i=BN(r,e);(a=0<=i)&&Array.prototype.splice.call(r,i,1),a&&(FC(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function gM(n,e,t,r){for(var i=0;i<n.length;++i){var a=n[i];if(!a.fa&&a.listener==e&&a.capture==!!t&&a.la==r)return i}return-1}LC.prototype.add=function(n,e,t,r,i){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var c=gM(n,e,r,i);return-1<c?(e=n[c],t||(e.ia=!1)):((e=new Aj(e,this.src,a,!!r,i)).ia=t,n.push(e)),e};var _M="closure_lm_"+(1e6*Math.random()|0),yM={};function ZN(n,e,t,r,i){if(r&&r.once)return QN(n,e,t,r,i);if(Array.isArray(e)){for(var a=0;a<e.length;a++)ZN(n,e[a],t,r,i);return null}return t=wM(t),n&&n[Yv]?n.O(e,t,Kv(r)?!!r.capture:!!r,i):YN(n,e,t,!1,r,i)}function YN(n,e,t,r,i,a){if(!e)throw Error("Invalid event type");var c=Kv(i)?!!i.capture:!!i,h=EM(n);if(h||(n[_M]=h=new LC(n)),(t=h.add(e,t,r,c,a)).proxy)return t;if(r=function Mj(){const e=xj;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)Ej||(i=c),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(JN(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function QN(n,e,t,r,i){if(Array.isArray(e)){for(var a=0;a<e.length;a++)QN(n,e[a],t,r,i);return null}return t=wM(t),n&&n[Yv]?n.P(e,t,Kv(r)?!!r.capture:!!r,i):YN(n,e,t,!0,r,i)}function XN(n,e,t,r,i){if(Array.isArray(e))for(var a=0;a<e.length;a++)XN(n,e[a],t,r,i);else r=Kv(r)?!!r.capture:!!r,t=wM(t),n&&n[Yv]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=gM(a=n.g[e],t,r,i))&&(FC(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=EM(n))&&(e=n.g[e.toString()],n=-1,e&&(n=gM(e,t,r,i)),(t=-1<n?e[n]:null)&&vM(t))}function vM(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[Yv])mM(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(JN(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=EM(e))?(mM(t,n),0==t.h&&(t.src=null,e[_M]=null)):FC(n)}}}function JN(n){return n in yM?yM[n]:yM[n]="on"+n}function xj(n,e){if(n.fa)n=!0;else{e=new Zv(e,this);var t=n.listener,r=n.la||n.src;n.ia&&vM(n),n=t.call(r,e)}return n}function EM(n){return(n=n[_M])instanceof LC?n:null}var bM="__closure_events_fn_"+(1e9*Math.random()>>>0);function wM(n){return"function"==typeof n?n:(n[bM]||(n[bM]=function(e){return n.handleEvent(e)}),n[bM])}function Wi(){Ih.call(this),this.i=new LC(this),this.S=this,this.J=null}function _s(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new Hs(e,n);else if(e instanceof Hs)e.target=e.target||n;else{var i=e;KN(e=new Hs(r,n),i)}if(i=!0,t)for(var a=t.length-1;0<=a;a--){var c=e.g=t[a];i=BC(c,r,!0,e)&&i}if(i=BC(c=e.g=n,r,!0,e)&&i,i=BC(c,r,!1,e)&&i,t)for(a=0;a<t.length;a++)i=BC(c=e.g=t[a],r,!1,e)&&i}function BC(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,a=0;a<e.length;++a){var c=e[a];if(c&&!c.fa&&c.capture==t){var h=c.listener,_=c.la||c.src;c.ia&&mM(n.i,c),i=!1!==h.call(_,r)&&i}}return i&&!r.defaultPrevented}qi(Wi,Ih),Wi.prototype[Yv]=!0,Wi.prototype.removeEventListener=function(n,e,t,r){XN(this,n,e,t,r)},Wi.prototype.N=function(){if(Wi.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)FC(t[r]);delete n.g[e],n.h--}}this.J=null},Wi.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Wi.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var CM=an.JSON.stringify;function Rj(){var n=nF;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var DM,eF=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new kj,n=>n.reset());class kj{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Pj(n){an.setTimeout(()=>{throw n},0)}function tF(n,e){DM||function Nj(){var n=an.Promise.resolve(void 0);DM=function(){n.then(Fj)}}(),IM||(DM(),IM=!0),nF.add(n,e)}var IM=!1,nF=new class Oj{constructor(){this.h=this.g=null}add(e,t){const r=eF.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function Fj(){for(var n;n=Rj();){try{n.h.call(n.g)}catch(t){Pj(t)}var e=eF;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}IM=!1}function VC(n,e){Wi.call(this),this.h=n||1,this.g=e||an,this.j=js(this.qb,this),this.l=Date.now()}function TM(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function SM(n,e,t){if("function"==typeof n)t&&(n=js(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=js(n.handleEvent,n)}return 2147483647<Number(e)?-1:an.setTimeout(n,e||0)}function rF(n){n.g=SM(()=>{n.g=null,n.i&&(n.i=!1,rF(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}qi(VC,Wi),(gt=VC.prototype).ga=!1,gt.T=null,gt.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),_s(this,"tick"),this.ga&&(TM(this),this.start()))}},gt.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},gt.N=function(){VC.$.N.call(this),TM(this),delete this.g};class Lj extends Ih{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:rF(this)}N(){super.N(),this.g&&(an.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qv(n){Ih.call(this),this.h=n,this.g={}}qi(Qv,Ih);var iF=[];function sF(n,e,t,r){Array.isArray(t)||(t&&(iF[0]=t.toString()),t=iF);for(var i=0;i<t.length;i++){var a=ZN(e,t[i],r||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function oF(n){pM(n.g,function(e,t){this.g.hasOwnProperty(t)&&vM(e)},n),n.g={}}function UC(){this.g=!0}function Wg(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function jj(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var c=1;c<i.length;c++)i[c]=""}}}return CM(t)}catch(h){return e}}(n,t)+(r?" "+r:"")})}Qv.prototype.N=function(){Qv.$.N.call(this),oF(this)},Qv.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},UC.prototype.Ea=function(){this.g=!1},UC.prototype.info=function(){};var Mp={},aF=null;function jC(){return aF=aF||new Wi}function lF(n){Hs.call(this,Mp.Ta,n)}function Xv(n){const e=jC();_s(e,new lF(e))}function cF(n,e){Hs.call(this,Mp.STAT_EVENT,n),this.stat=e}function co(n){const e=jC();_s(e,new cF(e,n))}function uF(n,e){Hs.call(this,Mp.Ua,n),this.size=e}function Jv(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return an.setTimeout(function(){n()},e)}Mp.Ta="serverreachability",qi(lF,Hs),Mp.STAT_EVENT="statevent",qi(cF,Hs),Mp.Ua="timingevent",qi(uF,Hs);var HC={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},dF={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function AM(){}function fF(){}AM.prototype.h=null;var RM,eE={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function MM(){Hs.call(this,"d")}function xM(){Hs.call(this,"c")}function zC(){}function tE(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new Qv(this),this.P=Hj,this.V=new VC(n=cM?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.aa=-1,this.J=!1,this.O=0,this.M=null,this.ca=this.K=this.ba=this.S=!1,this.h=new pF}function pF(){this.i=null,this.g="",this.h=!1}qi(MM,Hs),qi(xM,Hs),qi(zC,AM),zC.prototype.g=function(){return new XMLHttpRequest},zC.prototype.i=function(){return{}},RM=new zC;var Hj=45e3,OM={},$C={};function kM(n,e,t){n.L=1,n.v=KC(Ku(e)),n.s=t,n.S=!0,mF(n,null)}function mF(n,e){n.G=Date.now(),nE(n),n.A=Ku(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),IF(t.i,"t",r),n.C=0,t=n.l.I,n.h=new pF,n.g=ZF(n.l,t?e:null,!n.s),0<n.O&&(n.M=new Lj(js(n.Pa,n,n.g),n.O)),sF(n.U,n.g,"readystatechange",n.nb),e=n.I?qN(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),Xv(),function Bj(n,e,t,r,i,a){n.info(function(){if(n.g)if(a)for(var c="",h=a.split("&"),_=0;_<h.length;_++){var b=h[_].split("=");if(1<b.length){var D=b[0];b=b[1];var x=D.split("_");c=2<=x.length&&"type"==x[1]?c+(D+"=")+b+"&":c+(D+"=redacted&")}}else c=null;else c=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.W,n.s)}function gF(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function _F(n,e,t){let i,r=!0;for(;!n.J&&n.C<t.length;){if(i=zj(n,t),i==$C){4==e&&(n.o=4,co(14),r=!1),Wg(n.j,n.m,null,"[Incomplete Response]");break}if(i==OM){n.o=4,co(15),Wg(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Wg(n.j,n.m,i,null),PM(n,i)}gF(n)&&i!=$C&&i!=OM&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,co(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ca&&(n.ca=!0,(e=n.l).g==n&&e.ca&&!e.L&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),HM(e),e.L=!0,co(11))):(Wg(n.j,n.m,t,"[Invalid Chunked Response]"),xp(n),rE(n))}function zj(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?$C:(t=Number(e.substring(t,r)),isNaN(t)?OM:(r+=1)+t>e.length?$C:(e=e.substr(r,t),n.C=r+t,e))}function nE(n){n.Y=Date.now()+n.P,yF(n,n.P)}function yF(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Jv(js(n.lb,n),e)}function GC(n){n.B&&(an.clearTimeout(n.B),n.B=null)}function rE(n){0==n.l.H||n.J||GF(n.l,n)}function xp(n){GC(n);var e=n.M;e&&"function"==typeof e.ra&&e.ra(),n.M=null,TM(n.V),oF(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.ra())}function PM(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||NM(t.h,n)))if(!n.K&&NM(t.h,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch(b){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(t.u)t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.M&&0==t.A&&!t.v&&(t.v=Jv(js(t.ib,t),6e3));else{if(t.g){if(!(t.g.G+3e3<n.G))break e;eD(t),XC(t)}jM(t),co(18)}if(1>=AF(t.h)&&t.na){try{t.na()}catch(b){}t.na=void 0}}else Op(t,11)}else if((n.K||t.g==n)&&eD(t),!kC(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let b=i[e];if(t.V=b[0],b=b[1],2==t.H)if("c"==b[0]){t.J=b[1],t.oa=b[2];const D=b[3];null!=D&&(t.qa=D,t.j.info("VER="+t.qa));const x=b[4];null!=x&&(t.Ga=x,t.j.info("SVER="+t.Ga));const F=b[5];null!=F&&"number"==typeof F&&0<F&&(t.K=r=1.5*F,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const j=n.g;if(j){const ee=j.g?j.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ee){var a=r.h;a.g||-1==ee.indexOf("spdy")&&-1==ee.indexOf("quic")&&-1==ee.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(FM(a,a.h),a.h=null))}if(r.F){const de=j.g?j.g.getResponseHeader("X-HTTP-Session-Id"):null;de&&(r.Da=de,kr(r.G,r.F,de))}}t.H=3,t.l&&t.l.Ba(),t.ca&&(t.S=Date.now()-n.G,t.j.info("Handshake RTT: "+t.S+"ms"));var c=n;if((r=t).wa=KF(r,r.I?r.oa:null,r.Y),c.K){MF(r.h,c);var h=c,_=r.K;_&&h.setTimeout(_),h.B&&(GC(h),nE(h)),r.g=c}else zF(r);0<t.i.length&&JC(t)}else"stop"!=b[0]&&"close"!=b[0]||Op(t,7);else 3==t.H&&("stop"==b[0]||"close"==b[0]?"stop"==b[0]?Op(t,7):UM(t):"noop"!=b[0]&&t.l&&t.l.Aa(b),t.A=0)}Xv()}catch(b){}}function vF(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(RC(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function Gj(n){if(n.sa&&"function"==typeof n.sa)return n.sa();if(!n.Z||"function"!=typeof n.Z){if("undefined"!=typeof Map&&n instanceof Map)return Array.from(n.keys());if(!("undefined"!=typeof Set&&n instanceof Set)){if(RC(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function $j(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if("undefined"!=typeof Map&&n instanceof Map||"undefined"!=typeof Set&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(RC(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,a=0;a<i;a++)e.call(void 0,r[a],t&&t[a],n)}(gt=tE.prototype).setTimeout=function(n){this.P=n},gt.nb=function(n){n=n.target;const e=this.M;e&&3==Zu(n)?e.l():this.Pa(n)},gt.Pa=function(n){try{if(n==this.g)e:{const D=Zu(this.g);var e=this.g.Ia();if(this.g.da(),!(3>D)&&(3!=D||cM||this.g&&(this.h.h||this.g.ja()||LF(this.g)))){this.J||4!=D||7==e||Xv(),GC(this);var t=this.g.da();this.aa=t;t:if(gF(this)){var r=LF(this.g);n="";var i=r.length,a=4==Zu(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){xp(this),rE(this);var c="";break t}this.h.i=new an.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:a&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.ja();if(this.i=200==t,function Vj(n,e,t,r,i,a,c){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+a+" "+c})}(this.j,this.u,this.A,this.m,this.W,D,t),this.i){if(this.ba&&!this.K){t:{if(this.g){var h,_=this.g;if((h=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!kC(h)){var b=h;break t}}b=null}if(!(t=b)){this.i=!1,this.o=3,co(12),xp(this),rE(this);break e}Wg(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,PM(this,t)}this.S?(_F(this,D,c),cM&&this.i&&3==D&&(sF(this.U,this.V,"tick",this.mb),this.V.start())):(Wg(this.j,this.m,c,null),PM(this,c)),4==D&&xp(this),this.i&&!this.J&&(4==D?GF(this.l,this):(this.i=!1,nE(this)))}else 400==t&&0<c.indexOf("Unknown SID")?(this.o=3,co(12)):(this.o=0,co(13)),xp(this),rE(this)}}}catch(D){}},gt.mb=function(){if(this.g){var n=Zu(this.g),e=this.g.ja();this.C<e.length&&(GC(this),_F(this,n,e),this.i&&4!=n&&nE(this))}},gt.cancel=function(){this.J=!0,xp(this)},gt.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function Uj(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Xv(),co(17)),xp(this),this.o=2,rE(this)):yF(this,this.Y-n)};var EF=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Rp(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Rp){this.h=void 0!==e?e:n.h,qC(this,n.j),this.s=n.s,this.g=n.g,WC(this,n.m),this.l=n.l,e=n.i;var t=new oE;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),bF(this,t),this.o=n.o}else n&&(t=String(n).match(EF))?(this.h=!!e,qC(this,t[1]||"",!0),this.s=iE(t[2]||""),this.g=iE(t[3]||"",!0),WC(this,t[4]),this.l=iE(t[5]||"",!0),bF(this,t[6]||"",!0),this.o=iE(t[7]||"")):(this.h=!!e,this.i=new oE(null,this.h))}function Ku(n){return new Rp(n)}function qC(n,e,t){n.j=t?iE(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function WC(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function bF(n,e,t){e instanceof oE?(n.i=e,function Xj(n,e){e&&!n.j&&(Th(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(CF(this,r),IF(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=sE(e,Yj)),n.i=new oE(e,n.h))}function kr(n,e,t){n.i.set(e,t)}function KC(n){return kr(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function iE(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function sE(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,Wj),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Wj(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Rp.prototype.toString=function(){var n=[],e=this.j;e&&n.push(sE(e,wF,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(sE(e,wF,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(sE(t,"/"==t.charAt(0)?Zj:Kj,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",sE(t,Qj)),n.join("")};var wF=/[#\/\?@]/g,Kj=/[#\?:]/g,Zj=/[#\?]/g,Yj=/[#\?@]/g,Qj=/#/g;function oE(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Th(n){n.g||(n.g=new Map,n.h=0,n.i&&function qj(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var a=n[t].substring(0,r);i=n[t].substring(r+1)}else a=n[t];e(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function CF(n,e){Th(n),e=Kg(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function DF(n,e){return Th(n),e=Kg(n,e),n.g.has(e)}function IF(n,e,t){CF(n,e),0<t.length&&(n.i=null,n.g.set(Kg(n,e),oM(t)),n.h+=t.length)}function Kg(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function TF(n){this.l=n||eH,n=an.PerformanceNavigationTiming?0<(n=an.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(an.g&&an.g.Ka&&an.g.Ka()&&an.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(gt=oE.prototype).add=function(n,e){Th(this),this.i=null,n=Kg(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},gt.forEach=function(n,e){Th(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},gt.sa=function(){Th(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let a=0;a<i.length;a++)t.push(e[r])}return t},gt.Z=function(n){Th(this);let e=[];if("string"==typeof n)DF(this,n)&&(e=e.concat(this.g.get(Kg(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},gt.set=function(n,e){return Th(this),this.i=null,DF(this,n=Kg(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},gt.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},gt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const a=encodeURIComponent(String(r)),c=this.Z(r);for(r=0;r<c.length;r++){var i=a;""!==c[r]&&(i+="="+encodeURIComponent(String(c[r]))),n.push(i)}}return this.i=n.join("&")};var eH=10;function SF(n){return!!n.h||!!n.g&&n.g.size>=n.j}function AF(n){return n.h?1:n.g?n.g.size:0}function NM(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function FM(n,e){n.g?n.g.add(e):n.h=e}function MF(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function xF(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return oM(n.i)}function LM(){}function tH(){this.g=new LM}function nH(n,e,t){const r=t||"";try{vF(n,function(i,a){let c=i;Kv(i)&&(c=CM(i)),e.push(r+a+"="+encodeURIComponent(c))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function ZC(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(a){}}function aE(n){this.l=n.fc||null,this.j=n.ob||!1}function YC(n,e){Wi.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=BM,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}TF.prototype.cancel=function(){if(this.i=xF(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},LM.prototype.stringify=function(n){return an.JSON.stringify(n,void 0)},LM.prototype.parse=function(n){return an.JSON.parse(n,void 0)},qi(aE,AM),aE.prototype.g=function(){return new YC(this.l,this.j)},aE.prototype.i=function(n){return function(){return n}}({}),qi(YC,Wi);var BM=0;function RF(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function lE(n){n.readyState=4,n.l=null,n.j=null,n.A=null,cE(n)}function cE(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(gt=YC.prototype).open=function(n,e){if(this.readyState!=BM)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,cE(this)},gt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||an).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},gt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,lE(this)),this.readyState=BM},gt.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,cE(this)),this.g&&(this.readyState=3,cE(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(void 0!==an.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;RF(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},gt.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?lE(this):cE(this),3==this.readyState&&RF(this)}},gt.Za=function(n){this.g&&(this.response=this.responseText=n,lE(this))},gt.Ya=function(n){this.g&&(this.response=n,lE(this))},gt.ka=function(){this.g&&lE(this)},gt.setRequestHeader=function(n,e){this.v.append(n,e)},gt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},gt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(YC.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var iH=an.JSON.parse;function Xr(n){Wi.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=OF,this.L=this.M=!1}qi(Xr,Wi);var OF="",sH=/^https?$/i,oH=["POST","PUT"];function kF(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,PF(n),QC(n)}function PF(n){n.F||(n.F=!0,_s(n,"complete"),_s(n,"error"))}function NF(n){if(n.h&&void 0!==iM&&(!n.C[1]||4!=Zu(n)||2!=n.da()))if(n.v&&4==Zu(n))SM(n.La,0,n);else if(_s(n,"readystatechange"),4==Zu(n)){n.h=!1;try{const h=n.da();e:switch(h){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===h){var i=String(n.I).match(EF)[1]||null;if(!i&&an.self&&an.self.location){var a=an.self.location.protocol;i=a.substr(0,a.length-1)}r=!sH.test(i?i.toLowerCase():"")}t=r}if(t)_s(n,"complete"),_s(n,"success");else{n.m=6;try{var c=2<Zu(n)?n.g.statusText:""}catch(_){c=""}n.j=c+" ["+n.da()+"]",PF(n)}}finally{QC(n)}}}function QC(n,e){if(n.g){FF(n);const t=n.g,r=n.C[0]?xC:null;n.g=null,n.C=null,e||_s(n,"ready");try{t.onreadystatechange=r}catch(i){}}}function FF(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(an.clearTimeout(n.A),n.A=null)}function Zu(n){return n.g?n.g.readyState:0}function LF(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case OF:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function BF(n){let e="";return pM(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function VM(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=BF(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):kr(n,e,t))}function uE(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function VF(n){this.Ga=0,this.i=[],this.j=new UC,this.oa=this.wa=this.G=this.Y=this.g=this.Da=this.F=this.ma=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=uE("failFast",!1,n),this.M=this.v=this.u=this.m=this.l=null,this.aa=!0,this.ta=this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=uE("baseRetryDelayMs",5e3,n),this.hb=uE("retryDelaySeedMs",1e4,n),this.eb=uE("forwardChannelMaxRetries",2,n),this.xa=uE("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.K=void 0,this.I=n&&n.supportsCrossDomainXhr||!1,this.J="",this.h=new TF(n&&n.concurrentRequestLimit),this.Ja=new tH,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.j.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.na=void 0,this.S=0,this.L=!1,this.pa=this.B=null}function UM(n){if(UF(n),3==n.H){var e=n.W++,t=Ku(n.G);kr(t,"SID",n.J),kr(t,"RID",e),kr(t,"TYPE","terminate"),dE(n,t),(e=new tE(n,n.j,e,void 0)).L=2,e.v=KC(Ku(t)),t=!1,an.navigator&&an.navigator.sendBeacon&&(t=an.navigator.sendBeacon(e.v.toString(),"")),!t&&an.Image&&((new Image).src=e.v,t=!0),t||(e.g=ZF(e.l,null),e.g.ha(e.v)),e.G=Date.now(),nE(e)}WF(n)}function XC(n){n.g&&(HM(n),n.g.cancel(),n.g=null)}function UF(n){XC(n),n.u&&(an.clearTimeout(n.u),n.u=null),eD(n),n.h.cancel(),n.m&&("number"==typeof n.m&&an.clearTimeout(n.m),n.m=null)}function JC(n){SF(n.h)||n.m||(n.m=!0,tF(n.Na,n),n.C=0)}function jF(n,e){var t;t=e?e.m:n.W++;const r=Ku(n.G);kr(r,"SID",n.J),kr(r,"RID",t),kr(r,"AID",n.V),dE(n,r),n.o&&n.s&&VM(r,n.o,n.s),t=new tE(n,n.j,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.i=e.F.concat(n.i)),e=HF(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),FM(n.h,t),kM(t,r,e)}function dE(n,e){n.ma&&pM(n.ma,function(t,r){kr(e,r,t)}),n.l&&vF({},function(t,r){kr(e,r,t)})}function HF(n,e,t){t=Math.min(n.i.length,t);var r=n.l?js(n.l.Va,n.l,n):null;e:{var i=n.i;let a=-1;for(;;){const c=["count="+t];-1==a?0<t?(a=i[0].h,c.push("ofs="+a)):a=0:c.push("ofs="+a);let h=!0;for(let _=0;_<t;_++){let b=i[_].h;const D=i[_].g;if(b-=a,0>b)a=Math.max(0,i[_].h-100),h=!1;else try{nH(D,c,"req"+b+"_")}catch(x){r&&r(D)}}if(h){r=c.join("&");break e}}}return n=n.i.splice(0,t),e.F=n,r}function zF(n){n.g||n.u||(n.ba=1,tF(n.Ma,n),n.A=0)}function jM(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Jv(js(n.Ma,n),qF(n,n.A)),n.A++,0))}function HM(n){null!=n.B&&(an.clearTimeout(n.B),n.B=null)}function $F(n){n.g=new tE(n,n.j,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Ku(n.wa);kr(e,"RID","rpc"),kr(e,"SID",n.J),kr(e,"CI",n.M?"0":"1"),kr(e,"AID",n.V),kr(e,"TYPE","xmlhttp"),dE(n,e),n.o&&n.s&&VM(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.oa,t.L=1,t.v=KC(Ku(e)),t.s=null,t.S=!0,mF(t,n)}function eD(n){null!=n.v&&(an.clearTimeout(n.v),n.v=null)}function GF(n,e){var t=null;if(n.g==e){eD(n),HM(n),n.g=null;var r=2}else{if(!NM(n.h,e))return;t=e.F,MF(n.h,e),r=1}if(0!=n.H)if(n.ta=e.aa,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var i=n.C;_s(r=jC(),new uF(r,t)),JC(n)}else zF(n);else if(3==(i=e.o)||0==i&&0<n.ta||!(1==r&&function lH(n,e){return!(AF(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.F.concat(n.i),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Jv(js(n.Na,n,e),qF(n,n.C)),n.C++,0)))}(n,e)||2==r&&jM(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),i){case 1:Op(n,5);break;case 4:Op(n,10);break;case 3:Op(n,6);break;default:Op(n,2)}}function qF(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.l||(t*=2),t*e}function Op(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=js(n.pb,n);t||(t=new Rp("//www.google.com/images/cleardot.gif"),an.location&&"http"==an.location.protocol||qC(t,"https"),KC(t)),function rH(n,e){const t=new UC;if(an.Image){const r=new Image;r.onload=OC(ZC,t,r,"TestLoadImage: loaded",!0,e),r.onerror=OC(ZC,t,r,"TestLoadImage: error",!1,e),r.onabort=OC(ZC,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=OC(ZC,t,r,"TestLoadImage: timeout",!1,e),an.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else co(2);n.H=0,n.l&&n.l.za(e),WF(n),UF(n)}function WF(n){if(n.H=0,n.pa=[],n.l){const e=xF(n.h);(0!=e.length||0!=n.i.length)&&(VN(n.pa,e),VN(n.pa,n.i),n.h.i.length=0,oM(n.i),n.i.length=0),n.l.ya()}}function KF(n,e,t){var r=t instanceof Rp?Ku(t):new Rp(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),WC(r,r.m);else{var i=an.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var a=new Rp(null,void 0);r&&qC(a,r),e&&(a.g=e),i&&WC(a,i),t&&(a.l=t),r=a}return e=n.Da,(t=n.F)&&e&&kr(r,t,e),kr(r,"VER",n.qa),dE(n,r),r}function ZF(n,e,t){if(e&&!n.I)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Xr(t&&n.Ha&&!n.va?new aE({ob:!0}):n.va)).Oa(n.I),e}function YF(){}function tD(){if(qg&&!(10<=Number(Ij)))throw Error("Environmental error: no available transport.")}function fa(n,e){Wi.call(this),this.g=new VF(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!kC(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!kC(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Zg(this)}function QF(n){MM.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function XF(){xM.call(this),this.status=1}function Zg(n){this.g=n}function Bl(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function zM(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var a=n.g[3],c=(e=n.g[0])+(a^(t=n.g[1])&((i=n.g[2])^a))+r[0]+3614090360&4294967295;c=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=t+(c<<7&4294967295|c>>>25))+((c=a+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|c>>>20))+((c=i+(t^a&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^i&(a^e))+r[3]+3250441966&4294967295)<<22&4294967295|c>>>10))+((c=e+(a^t&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|c>>>25))+((c=a+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|c>>>20))+((c=i+(t^a&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^i&(a^e))+r[7]+4249261313&4294967295)<<22&4294967295|c>>>10))+((c=e+(a^t&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|c>>>25))+((c=a+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|c>>>20))+((c=i+(t^a&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^i&(a^e))+r[11]+2304563134&4294967295)<<22&4294967295|c>>>10))+((c=e+(a^t&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|c>>>25))+((c=a+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|c>>>20))+((c=i+(t^a&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^i&(a^e))+r[15]+1236535329&4294967295)<<22&4294967295|c>>>10))+((c=e+(i^a&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|c>>>27))+((c=a+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|c>>>23))+((c=i+(e^t&(a^e))+r[11]+643717713&4294967295)<<14&4294967295|c>>>18))+((c=t+(a^e&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|c>>>12))+((c=e+(i^a&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|c>>>27))+((c=a+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|c>>>23))+((c=i+(e^t&(a^e))+r[15]+3634488961&4294967295)<<14&4294967295|c>>>18))+((c=t+(a^e&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|c>>>12))+((c=e+(i^a&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|c>>>27))+((c=a+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|c>>>23))+((c=i+(e^t&(a^e))+r[3]+4107603335&4294967295)<<14&4294967295|c>>>18))+((c=t+(a^e&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|c>>>12))+((c=e+(i^a&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|c>>>27))+((c=a+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|c>>>23))+((c=i+(e^t&(a^e))+r[7]+1735328473&4294967295)<<14&4294967295|c>>>18))+((c=t+(a^e&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|c>>>12))+((c=e+(t^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|c>>>28))+((c=a+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|c>>>21))+((c=i+(a^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|c>>>16))+((c=t+(i^a^e)+r[14]+4259657740&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|c>>>28))+((c=a+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|c>>>21))+((c=i+(a^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|c>>>16))+((c=t+(i^a^e)+r[10]+3200236656&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^i^a)+r[13]+681279174&4294967295)<<4&4294967295|c>>>28))+((c=a+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|c>>>21))+((c=i+(a^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|c>>>16))+((c=t+(i^a^e)+r[6]+76029189&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|c>>>28))+((c=a+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|c>>>21))+((c=i+(a^e^t)+r[15]+530742520&4294967295)<<16&4294967295|c>>>16))+((c=t+(i^a^e)+r[2]+3299628645&4294967295)<<23&4294967295|c>>>9))+((c=e+(i^(t|~a))+r[0]+4096336452&4294967295)<<6&4294967295|c>>>26))+((c=a+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|c>>>22))+((c=i+(e^(a|~t))+r[14]+2878612391&4294967295)<<15&4294967295|c>>>17))+((c=t+(a^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|c>>>11))+((c=e+(i^(t|~a))+r[12]+1700485571&4294967295)<<6&4294967295|c>>>26))+((c=a+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|c>>>22))+((c=i+(e^(a|~t))+r[10]+4293915773&4294967295)<<15&4294967295|c>>>17))+((c=t+(a^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|c>>>11))+((c=e+(i^(t|~a))+r[8]+1873313359&4294967295)<<6&4294967295|c>>>26))+((c=a+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|c>>>22))+((c=i+(e^(a|~t))+r[6]+2734768916&4294967295)<<15&4294967295|c>>>17))+((c=t+(a^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|c>>>11))+((a=(e=t+((c=e+(i^(t|~a))+r[4]+4149444226&4294967295)<<6&4294967295|c>>>26))+((c=a+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|c>>>22))^((i=a+((c=i+(e^(a|~t))+r[2]+718787259&4294967295)<<15&4294967295|c>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(c<<21&4294967295|c>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+a&4294967295}function er(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var a=0|n[i];r&&a==e||(t[i]=a,r=!1)}this.g=t}(gt=Xr.prototype).Oa=function(n){this.M=n},gt.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():RM.g(),this.C=function hF(n){return n.h||(n.h=n.i())}(this.u?this.u:RM),this.g.onreadystatechange=js(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(a){return void kF(this,a)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const a of r.keys())t.set(a,r.get(a))}r=Array.from(t.keys()).find(a=>"content-type"==a.toLowerCase()),i=an.FormData&&n instanceof an.FormData,!(0<=BN(oH,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,c]of t)this.g.setRequestHeader(a,c);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{FF(this),0<this.B&&((this.L=function aH(n){return qg&&function Dj(){return jN(Cj,9,function(){let n=0;const e=UN(String(NC)).split("."),t=UN("9").split("."),r=Math.max(e.length,t.length);for(let c=0;0==n&&c<r;c++){var i=e[c]||"",a=t[c]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==i[0].length&&0==a[0].length)break;n=aM(0==i[1].length?0:parseInt(i[1],10),0==a[1].length?0:parseInt(a[1],10))||aM(0==i[2].length,0==a[2].length)||aM(i[2],a[2]),i=i[3],a=a[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=js(this.ua,this)):this.A=SM(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){kF(this,a)}},gt.ua=function(){void 0!==iM&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,_s(this,"timeout"),this.abort(8))},gt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,_s(this,"complete"),_s(this,"abort"),QC(this))},gt.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),QC(this,!0)),Xr.$.N.call(this)},gt.La=function(){this.s||(this.G||this.v||this.l?NF(this):this.kb())},gt.kb=function(){NF(this)},gt.da=function(){try{return 2<Zu(this)?this.g.status:-1}catch(n){return-1}},gt.ja=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},gt.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),iH(e)}},gt.Ia=function(){return this.m},gt.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(gt=VF.prototype).qa=8,gt.H=1,gt.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new tE(this,this.j,n,void 0);let a=this.s;if(this.U&&(a?(a=qN(a),KN(a,this.U)):a=this.U),null!==this.o||this.O||(i.I=a,a=null),this.P)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=HF(this,i,e),kr(t=Ku(this.G),"RID",n),kr(t,"CVER",22),this.F&&kr(t,"X-HTTP-Session-Id",this.F),dE(this,t),a&&(this.O?e="headers="+encodeURIComponent(String(BF(a)))+"&"+e:this.o&&VM(t,this.o,a)),FM(this.h,i),this.bb&&kr(t,"TYPE","init"),this.P?(kr(t,"$req",e),kr(t,"SID","null"),i.ba=!0,kM(i,t,null)):kM(i,t,e),this.H=2}}else 3==this.H&&(n?jF(this,n):0==this.i.length||SF(this.h)||jF(this))},gt.Ma=function(){if(this.u=null,$F(this),this.ca&&!(this.L||null==this.g||0>=this.S)){var n=2*this.S;this.j.info("BP detection timer enabled: "+n),this.B=Jv(js(this.jb,this),n)}},gt.jb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.M=!1,this.L=!0,co(10),XC(this),$F(this))},gt.ib=function(){null!=this.v&&(this.v=null,XC(this),jM(this),co(19))},gt.pb=function(n){n?(this.j.info("Successfully pinged google.com"),co(2)):(this.j.info("Failed to ping google.com"),co(1))},(gt=YF.prototype).Ba=function(){},gt.Aa=function(){},gt.za=function(){},gt.ya=function(){},gt.Va=function(){},tD.prototype.g=function(n,e){return new fa(n,e)},qi(fa,Wi),fa.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.I=!0);var n=this.g,e=this.l,t=this.h||void 0;co(0),n.Y=e,n.ma=t||{},n.M=n.aa,n.G=KF(n,null,n.Y),JC(n)},fa.prototype.close=function(){UM(this.g)},fa.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=CM(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.fb++,n)),3==e.H&&JC(e)},fa.prototype.N=function(){this.g.l=null,delete this.j,UM(this.g),delete this.g,fa.$.N.call(this)},qi(QF,MM),qi(XF,xM),qi(Zg,YF),Zg.prototype.Ba=function(){_s(this.g,"a")},Zg.prototype.Aa=function(n){_s(this.g,new QF(n))},Zg.prototype.za=function(n){_s(this.g,new XF)},Zg.prototype.ya=function(){_s(this.g,"b")},qi(Bl,function cH(){this.blockSize=-1}),Bl.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Bl.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,a=0;a<e;){if(0==i)for(;a<=t;)zM(this,n,a),a+=this.blockSize;if("string"==typeof n){for(;a<e;)if(r[i++]=n.charCodeAt(a++),i==this.blockSize){zM(this,r),i=0;break}}else for(;a<e;)if(r[i++]=n[a++],i==this.blockSize){zM(this,r),i=0;break}}this.h=i,this.i+=e},Bl.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var uH={};function $M(n){return-128<=n&&128>n?jN(uH,n,function(e){return new er([0|e],0>e?-1:0)}):new er([0|n],0>n?-1:0)}function Wc(n){if(isNaN(n)||!isFinite(n))return Yg;if(0>n)return ys(Wc(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=GM;return new er(e,0)}var GM=4294967296,Yg=$M(0),qM=$M(1),e1=$M(16777216);function Yu(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function tl(n){return-1==n.h}function ys(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new er(t,~n.h).add(qM)}function nD(n,e){return n.add(ys(e))}function rD(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function hE(n,e){this.g=n,this.h=e}function iD(n,e){if(Yu(e))throw Error("division by zero");if(Yu(n))return new hE(Yg,Yg);if(tl(n))return e=iD(ys(n),e),new hE(ys(e.g),ys(e.h));if(tl(e))return e=iD(n,ys(e)),new hE(ys(e.g),e.h);if(30<n.g.length){if(tl(n)||tl(e))throw Error("slowDivide_ only works with positive integers.");for(var t=qM,r=e;0>=r.X(n);)t=t1(t),r=t1(r);var i=Qg(t,1),a=Qg(r,1);for(r=Qg(r,2),t=Qg(t,2);!Yu(r);){var c=a.add(r);0>=c.X(n)&&(i=i.add(t),a=c),r=Qg(r,1),t=Qg(t,1)}return e=nD(n,i.R(e)),new hE(i,e)}for(i=Yg;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),c=(a=Wc(t)).R(e);tl(c)||0<c.X(n);)c=(a=Wc(t-=r)).R(e);Yu(a)&&(a=qM),i=i.add(a),n=nD(n,c)}return new hE(i,n)}function t1(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new er(t,n.h)}function Qg(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],a=0;a<r;a++)i[a]=0<e?n.D(a+t)>>>e|n.D(a+t+1)<<32-e:n.D(a+t);return new er(i,n.h)}(gt=er.prototype).ea=function(){if(tl(this))return-ys(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:GM+r)*e,e*=GM}return n},gt.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Yu(this))return"0";if(tl(this))return"-"+ys(this).toString(n);for(var e=Wc(Math.pow(n,6)),t=this,r="";;){var i=iD(t,e).g,a=((0<(t=nD(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Yu(t=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},gt.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},gt.X=function(n){return tl(n=nD(this,n))?-1:Yu(n)?0:1},gt.abs=function(){return tl(this)?ys(this):this},gt.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var a=r+(65535&this.D(i))+(65535&n.D(i)),c=(a>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=c>>>16,t[i]=(c&=65535)<<16|(a&=65535)}return new er(t,-2147483648&t[t.length-1]?-1:0)},gt.R=function(n){if(Yu(this)||Yu(n))return Yg;if(tl(this))return tl(n)?ys(this).R(ys(n)):ys(ys(this).R(n));if(tl(n))return ys(this.R(ys(n)));if(0>this.X(e1)&&0>n.X(e1))return Wc(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var a=this.D(r)>>>16,c=65535&this.D(r),h=n.D(i)>>>16,_=65535&n.D(i);t[2*r+2*i]+=c*_,rD(t,2*r+2*i),t[2*r+2*i+1]+=a*_,rD(t,2*r+2*i+1),t[2*r+2*i+1]+=c*h,rD(t,2*r+2*i+1),t[2*r+2*i+2]+=a*h,rD(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new er(t,0)},gt.gb=function(n){return iD(this,n).h},gt.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new er(t,this.h&n.h)},gt.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new er(t,this.h|n.h)},gt.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new er(t,this.h^n.h)},tD.prototype.createWebChannel=tD.prototype.g,fa.prototype.send=fa.prototype.u,fa.prototype.open=fa.prototype.m,fa.prototype.close=fa.prototype.close,HC.NO_ERROR=0,HC.TIMEOUT=8,HC.HTTP_ERROR=6,dF.COMPLETE="complete",fF.EventType=eE,eE.OPEN="a",eE.CLOSE="b",eE.ERROR="c",eE.MESSAGE="d",Wi.prototype.listen=Wi.prototype.O,Xr.prototype.listenOnce=Xr.prototype.P,Xr.prototype.getLastError=Xr.prototype.Sa,Xr.prototype.getLastErrorCode=Xr.prototype.Ia,Xr.prototype.getStatus=Xr.prototype.da,Xr.prototype.getResponseJson=Xr.prototype.Wa,Xr.prototype.getResponseText=Xr.prototype.ja,Xr.prototype.send=Xr.prototype.ha,Xr.prototype.setWithCredentials=Xr.prototype.Oa,Bl.prototype.digest=Bl.prototype.l,Bl.prototype.reset=Bl.prototype.reset,Bl.prototype.update=Bl.prototype.j,er.prototype.add=er.prototype.add,er.prototype.multiply=er.prototype.R,er.prototype.modulo=er.prototype.gb,er.prototype.compare=er.prototype.X,er.prototype.toNumber=er.prototype.ea,er.prototype.toString=er.prototype.toString,er.prototype.getBits=er.prototype.D,er.fromNumber=Wc,er.fromString=function JF(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return ys(JF(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Wc(Math.pow(e,8)),r=Yg,i=0;i<n.length;i+=8){var a=Math.min(8,n.length-i),c=parseInt(n.substring(i,i+a),e);8>a?(a=Wc(Math.pow(e,a)),r=r.R(a).add(Wc(c))):r=(r=r.R(t)).add(Wc(c))}return r};var dH=Ll.createWebChannelTransport=function(){return new tD},hH=Ll.getStatEventTarget=function(){return jC()},WM=Ll.ErrorCode=HC,fH=Ll.EventType=dF,pH=Ll.Event=Mp,n1=Ll.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},mH=Ll.FetchXmlHttpFactory=aE,sD=Ll.WebChannel=fF,gH=Ll.XhrIo=Xr,_H=Ll.Md5=Bl,Xg=Ll.Integer=er;const r1="@firebase/firestore";class Ki{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ki.UNAUTHENTICATED=new Ki(null),Ki.GOOGLE_CREDENTIALS=new Ki("google-credentials-uid"),Ki.FIRST_PARTY=new Ki("first-party-uid"),Ki.MOCK_USER=new Ki("mock-user");let Jg="9.21.0";const Sh=new Dh.Yd("@firebase/firestore");function KM(){return Sh.logLevel}function We(n,...e){if(Sh.logLevel<=Dh.in.DEBUG){const t=e.map(ZM);Sh.debug(`Firestore (${Jg}): ${n}`,...t)}}function ui(n,...e){if(Sh.logLevel<=Dh.in.ERROR){const t=e.map(ZM);Sh.error(`Firestore (${Jg}): ${n}`,...t)}}function nl(n,...e){if(Sh.logLevel<=Dh.in.WARN){const t=e.map(ZM);Sh.warn(`Firestore (${Jg}): ${n}`,...t)}}function ZM(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function yt(n="Unexpected state"){const e=`FIRESTORE (${Jg}) INTERNAL ASSERTION FAILED: `+n;throw ui(e),new Error(e)}function Tt(n,e){n||yt()}function lt(n,e){return n}const Te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class $e extends Fn.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ni{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class s1{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class EH{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ki.UNAUTHENTICATED))}shutdown(){}}class bH{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class wH{constructor(e){this.t=e,this.currentUser=Ki.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const a=b=>this.i!==i?(i=this.i,t(b)):Promise.resolve();let c=new Ni;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ni,e.enqueueRetryable(()=>a(this.currentUser))};const h=()=>{const b=c;e.enqueueRetryable((0,Ne.Z)(function*(){yield b.promise,yield a(r.currentUser)}))},_=b=>{We("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=b,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(b=>_(b)),setTimeout(()=>{if(!this.auth){const b=this.t.getImmediate({optional:!0});b?_(b):(We("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ni)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(We("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Tt("string"==typeof r.accessToken),new s1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Tt(null===e||"string"==typeof e),new Ki(e)}}class CH{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=Ki.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class DH{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new CH(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Ki.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class o1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class IH{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=a=>{null!=a.error&&We("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const c=a.token!==this.T;return this.T=a.token,We("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{We("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.I.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.I.getImmediate({optional:!0});a?i(a):We("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Tt("string"==typeof t.token),this.T=t.token,new o1(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function TH(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class a1{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=TH(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%e.length))}return r}}function sn(n,e){return n<e?-1:n>e?1:0}function e_(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function l1(n){return n+"\0"}class Pr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new $e(Te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new $e(Te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new $e(Te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new $e(Te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Pr.fromMillis(Date.now())}static fromDate(e){return Pr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Pr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?sn(this.nanoseconds,e.nanoseconds):sn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class xt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new xt(e)}static min(){return new xt(new Pr(0,0))}static max(){return new xt(new Pr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class fE{constructor(e,t,r){void 0===t?t=0:t>e.length&&yt(),void 0===r?r=e.length-t:r>e.length-t&&yt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===fE.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof fE?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=e.get(i),c=t.get(i);if(a<c)return-1;if(a>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class xn extends fE{construct(e,t,r){return new xn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new $e(Te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new xn(t)}static emptyPath(){return new xn([])}}const SH=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Jr extends fE{construct(e,t,r){return new Jr(e,t,r)}static isValidIdentifier(e){return SH.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Jr(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(0===r.length)throw new $e(Te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;i<e.length;){const h=e[i];if("\\"===h){if(i+1===e.length)throw new $e(Te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[i+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new $e(Te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=_,i+=2}else"`"===h?(c=!c,i++):"."!==h||c?(r+=h,i++):(a(),i++)}if(a(),c)throw new $e(Te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Jr(t)}static emptyPath(){return new Jr([])}}class at{constructor(e){this.path=e}static fromPath(e){return new at(xn.fromString(e))}static fromName(e){return new at(xn.fromString(e).popFirst(5))}static empty(){return new at(xn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===xn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return xn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new at(new xn(e.slice()))}}class oD{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function YM(n){return n.fields.find(e=>2===e.kind)}function kp(n){return n.fields.filter(e=>2!==e.kind)}oD.UNKNOWN_ID=-1;class aD{constructor(e,t){this.fieldPath=e,this.kind=t}}class pE{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new pE(0,pa.min())}}function c1(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=xt.fromTimestamp(1e9===r?new Pr(t+1,0):new Pr(t,r));return new pa(i,at.empty(),e)}function u1(n){return new pa(n.readTime,n.key,-1)}class pa{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new pa(xt.min(),at.empty(),-1)}static max(){return new pa(xt.max(),at.empty(),-1)}}function QM(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=at.comparator(n.documentKey,e.documentKey),0!==t?t:sn(n.largestBatchId,e.largestBatchId))}const d1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class h1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ah(n){return XM.apply(this,arguments)}function XM(){return XM=(0,Ne.Z)(function*(n){if(n.code!==Te.FAILED_PRECONDITION||n.message!==d1)throw n;We("LocalStore","Unexpectedly lost primary lease")}),XM.apply(this,arguments)}class ge{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&yt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ge((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ge?t:ge.resolve(t)}catch(t){return ge.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ge.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ge.reject(t)}static resolve(e){return new ge((t,r)=>{t(e)})}static reject(e){return new ge((t,r)=>{r(e)})}static waitFor(e){return new ge((t,r)=>{let i=0,a=0,c=!1;e.forEach(h=>{++i,h.next(()=>{++a,c&&a===i&&t()},_=>r(_))}),c=!0,a===i&&t()})}static or(e){let t=ge.resolve(!1);for(const r of e)t=t.next(i=>i?ge.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,a)=>{r.push(t.call(this,i,a))}),this.waitFor(r)}static mapArray(e,t){return new ge((r,i)=>{const a=e.length,c=new Array(a);let h=0;for(let _=0;_<a;_++){const b=_;t(e[b]).next(D=>{c[b]=D,++h,h===a&&r(c)},D=>i(D))}})}static doWhile(e,t){return new ge((r,i)=>{const a=()=>{!0===e()?t().next(()=>{a()},i):r()};a()})}}class lD{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.R=new Ni,this.transaction.oncomplete=()=>{this.R.resolve()},this.transaction.onabort=()=>{t.error?this.R.reject(new mE(e,t.error)):this.R.resolve()},this.transaction.onerror=r=>{const i=JM(r.target.error);this.R.reject(new mE(e,i))}}static open(e,t,r,i){try{return new lD(t,e.transaction(i,r))}catch(a){throw new mE(t,a)}}get v(){return this.R.promise}abort(e){e&&this.R.reject(e),this.aborted||(We("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new RH(t)}}class Vl{constructor(e,t,r){this.name=e,this.version=t,this.V=r,12.2===Vl.S((0,Fn.z$)())&&ui("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return We("SimpleDb","Removing database:",e),Pp(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,Fn.hl)())return!1;if(Vl.C())return!0;const e=(0,Fn.z$)(),t=Vl.S(e),r=0<t&&t<10,i=Vl.N(e),a=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)}static C(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static N(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}O(e){var t=this;return(0,Ne.Z)(function*(){return t.db||(We("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const a=indexedDB.open(t.name,t.version);a.onsuccess=c=>{r(c.target.result)},a.onblocked=()=>{i(new mE(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=c=>{const h=c.target.error;i("VersionError"===h.name?new $e(Te.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===h.name?new $e(Te.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+h):new mE(e,h))},a.onupgradeneeded=c=>{We("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',c.oldVersion),t.V.$(c.target.result,a.transaction,c.oldVersion,t.version).next(()=>{We("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=r=>t.F(r)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var a=this;return(0,Ne.Z)(function*(){const c="readonly"===t;let h=0;for(;;){++h;try{a.db=yield a.O(e);const _=lD.open(a.db,e,c?"readonly":"readwrite",r),b=i(_).next(D=>(_.P(),D)).catch(D=>(_.abort(D),ge.reject(D))).toPromise();return b.catch(()=>{}),yield _.v,b}catch(_){const b=_,D="FirebaseError"!==b.name&&h<3;if(We("SimpleDb","Transaction failed with error:",b.message,"Retrying:",D),a.close(),!D)return Promise.reject(b)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class xH{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return Pp(this.L.delete())}}class mE extends $e{constructor(e,t){super(Te.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Mh(n){return"IndexedDbTransactionError"===n.name}class RH{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(We("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(We("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Pp(r)}add(e){return We("SimpleDb","ADD",this.store.name,e,e),Pp(this.store.add(e))}get(e){return Pp(this.store.get(e)).next(t=>(void 0===t&&(t=null),We("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return We("SimpleDb","DELETE",this.store.name,e),Pp(this.store.delete(e))}count(){return We("SimpleDb","COUNT",this.store.name),Pp(this.store.count())}j(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),a=[];return this.W(i,(c,h)=>{a.push(h)}).next(()=>a)}{const i=this.store.getAll(r.range);return new ge((a,c)=>{i.onerror=h=>{c(h.target.error)},i.onsuccess=h=>{a(h.target.result)}})}}H(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new ge((i,a)=>{r.onerror=c=>{a(c.target.error)},r.onsuccess=c=>{i(c.target.result)}})}J(e,t){We("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.Y=!1;const i=this.cursor(r);return this.W(i,(a,c,h)=>h.delete())}X(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.W(i,t)}Z(e){const t=this.cursor({});return new ge((r,i)=>{t.onerror=a=>{const c=JM(a.target.error);i(c)},t.onsuccess=a=>{const c=a.target.result;c?e(c.primaryKey,c.value).next(h=>{h?c.continue():r()}):r()}})}W(e,t){const r=[];return new ge((i,a)=>{e.onerror=c=>{a(c.target.error)},e.onsuccess=c=>{const h=c.target.result;if(!h)return void i();const _=new xH(h),b=t(h.primaryKey,h.value,_);if(b instanceof ge){const D=b.catch(x=>(_.done(),ge.reject(x)));r.push(D)}_.isDone?i():null===_.K?h.continue():h.continue(_.K)}}).next(()=>ge.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Pp(n){return new ge((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=JM(r.target.error);t(i)}})}let f1=!1;function JM(n){const e=Vl.S((0,Fn.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new $e("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return f1||(f1=!0,setTimeout(()=>{throw r},0)),r}}return n}class OH{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;We("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Ne.Z)(function*(){t.task=null;try{We("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(r){Mh(r)?We("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield Ah(r)}yield t.et(6e4)}))}}class kH{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,Ne.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.st(r,e))})()}st(e,t){const r=new Set;let i=t,a=!0;return ge.doWhile(()=>!0===a&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(c=>{if(null!==c&&!r.has(c))return We("IndexBackiller",`Processing collection: ${c}`),this.it(e,c,i).next(h=>{i-=h,r.add(c)});a=!1})).next(()=>t-i)}it(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(a=>{const c=a.changes;return this.localStore.indexManager.updateIndexEntries(e,c).next(()=>this.rt(i,a)).next(h=>(We("IndexBackiller",`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(e,t,h))).next(()=>c.size)}))}rt(e,t){let r=e;return t.changes.forEach((i,a)=>{const c=u1(a);QM(c,r)>0&&(r=c)}),new pa(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let ma=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function gE(n){return null==n}function _E(n){return 0===n&&1/n==-1/0}function p1(n){return"number"==typeof n&&Number.isInteger(n)&&!_E(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function zs(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=m1(e)),e=PH(n.get(t),e);return m1(e)}function PH(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=a}}return t}function m1(n){return n+"\x01\x01"}function Kc(n){const e=n.length;if(Tt(e>=2),2===e)return Tt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),xn.emptyPath();const t=e-2,r=[];let i="";for(let a=0;a<e;){const c=n.indexOf("\x01",a);switch((c<0||c>t)&&yt(),n.charAt(c+1)){case"\x01":const h=n.substring(a,c);let _;0===i.length?_=h:(i+=h,_=i,i=""),r.push(_);break;case"\x10":i+=n.substring(a,c),i+="\0";break;case"\x11":i+=n.substring(a,c+1);break;default:yt()}a=c+2}return new xn(r)}const g1=["userId","batchId"];function cD(n,e){return[n,zs(e)]}function _1(n,e,t){return[n,zs(e),t]}const NH={},FH=["prefixPath","collectionGroup","readTime","documentId"],LH=["prefixPath","collectionGroup","documentId"],BH=["collectionGroup","readTime","prefixPath","documentId"],VH=["canonicalId","targetId"],UH=["targetId","path"],jH=["path","targetId"],HH=["collectionId","parent"],zH=["indexId","uid"],$H=["uid","sequenceNumber"],GH=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],qH=["indexId","uid","orderedDocumentKey"],WH=["userId","collectionPath","documentId"],KH=["userId","collectionPath","largestBatchId"],ZH=["userId","collectionGroup","largestBatchId"],y1=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],YH=[...y1,"documentOverlays"],v1=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],E1=v1,QH=[...E1,"indexConfiguration","indexState","indexEntries"];class ex extends h1{constructor(e,t){super(),this.at=e,this.currentSequenceNumber=t}}function Zi(n,e){const t=lt(n);return Vl.M(t.at,e)}function b1(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function xh(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function w1(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class mr{constructor(e,t){this.comparator=e,this.root=t||vs.EMPTY}insert(e,t){return new mr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,vs.BLACK,null,null))}remove(e){return new mr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vs.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new uD(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new uD(this.root,e,this.comparator,!1)}getReverseIterator(){return new uD(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new uD(this.root,e,this.comparator,!0)}}class uD{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class vs{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=null!=r?r:vs.RED,this.left=null!=i?i:vs.EMPTY,this.right=null!=a?a:vs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new vs(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===a?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return vs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return vs.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,vs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,vs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw yt();const e=this.left.check();if(e!==this.right.check())throw yt();return e+(this.isRed()?0:1)}}vs.EMPTY=null,vs.RED=!0,vs.BLACK=!1,vs.EMPTY=new class{constructor(){this.size=0}get key(){throw yt()}get value(){throw yt()}get color(){throw yt()}get left(){throw yt()}get right(){throw yt()}copy(n,e,t,r,i){return this}insert(n,e,t){return new vs(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Cr{constructor(e){this.comparator=e,this.data=new mr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new C1(this.data.getIterator())}getIteratorFrom(e){return new C1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Cr)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Cr(this.comparator);return t.data=e,t}}class C1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function t_(n){return n.hasNext()?n.getNext():void 0}class Uo{constructor(e){this.fields=e,e.sort(Jr.comparator)}static empty(){return new Uo([])}unionWith(e){let t=new Cr(Jr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Uo(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return e_(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class D1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Fi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(i){throw"undefined"!=typeof DOMException&&i instanceof DOMException?new D1("Invalid base64 string: "+i):i}}(e);return new Fi(t)}static fromUint8Array(e){const t=function(r){let i="";for(let a=0;a<r.length;++a)i+=String.fromCharCode(r[a]);return i}(e);return new Fi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return sn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Fi.EMPTY_BYTE_STRING=new Fi("");const JH=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Rh(n){if(Tt(!!n),"string"==typeof n){let e=0;const t=JH.exec(n);if(Tt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ei(n.seconds),nanos:ei(n.nanos)}}function ei(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Qu(n){return"string"==typeof n?Fi.fromBase64String(n):Fi.fromUint8Array(n)}function dD(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function hD(n){const e=n.mapValue.fields.__previous_value__;return dD(e)?hD(e):e}function yE(n){const e=Rh(n.mapValue.fields.__local_write_time__.timestampValue);return new Pr(e.seconds,e.nanos)}class ez{constructor(e,t,r,i,a,c,h,_){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.useFetchStreams=_}}class Oh{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Oh("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Oh&&e.projectId===this.projectId&&e.database===this.database}}const kh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},fD={nullValue:"NULL_VALUE"};function Ph(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?dD(n)?4:A1(n)?9007199254740991:10:yt()}function Zc(n,e){if(n===e)return!0;const t=Ph(n);if(t!==Ph(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return yE(n).isEqual(yE(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const a=Rh(r.timestampValue),c=Rh(i.timestampValue);return a.seconds===c.seconds&&a.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,Qu(n.bytesValue).isEqual(Qu(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return ei(r.geoPointValue.latitude)===ei(i.geoPointValue.latitude)&&ei(r.geoPointValue.longitude)===ei(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return ei(r.integerValue)===ei(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const a=ei(r.doubleValue),c=ei(i.doubleValue);return a===c?_E(a)===_E(c):isNaN(a)&&isNaN(c)}return!1}(n,e);case 9:return e_(n.arrayValue.values||[],e.arrayValue.values||[],Zc);case 10:return function(r,i){const a=r.mapValue.fields||{},c=i.mapValue.fields||{};if(b1(a)!==b1(c))return!1;for(const h in a)if(a.hasOwnProperty(h)&&(void 0===c[h]||!Zc(a[h],c[h])))return!1;return!0}(n,e);default:return yt()}var i}function vE(n,e){return void 0!==(n.values||[]).find(t=>Zc(t,e))}function Nh(n,e){if(n===e)return 0;const t=Ph(n),r=Ph(e);if(t!==r)return sn(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return sn(n.booleanValue,e.booleanValue);case 2:return function(i,a){const c=ei(i.integerValue||i.doubleValue),h=ei(a.integerValue||a.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1}(n,e);case 3:return I1(n.timestampValue,e.timestampValue);case 4:return I1(yE(n),yE(e));case 5:return sn(n.stringValue,e.stringValue);case 6:return function(i,a){const c=Qu(i),h=Qu(a);return c.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(i,a){const c=i.split("/"),h=a.split("/");for(let _=0;_<c.length&&_<h.length;_++){const b=sn(c[_],h[_]);if(0!==b)return b}return sn(c.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,a){const c=sn(ei(i.latitude),ei(a.latitude));return 0!==c?c:sn(ei(i.longitude),ei(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,a){const c=i.values||[],h=a.values||[];for(let _=0;_<c.length&&_<h.length;++_){const b=Nh(c[_],h[_]);if(b)return b}return sn(c.length,h.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,a){if(i===kh.mapValue&&a===kh.mapValue)return 0;if(i===kh.mapValue)return 1;if(a===kh.mapValue)return-1;const c=i.fields||{},h=Object.keys(c),_=a.fields||{},b=Object.keys(_);h.sort(),b.sort();for(let D=0;D<h.length&&D<b.length;++D){const x=sn(h[D],b[D]);if(0!==x)return x;const F=Nh(c[h[D]],_[b[D]]);if(0!==F)return F}return sn(h.length,b.length)}(n.mapValue,e.mapValue);default:throw yt()}}function I1(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return sn(n,e);const t=Rh(n),r=Rh(e),i=sn(t.seconds,r.seconds);return 0!==i?i:sn(t.nanos,r.nanos)}function n_(n){return tx(n)}function tx(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=Rh(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Qu(n.bytesValue).toBase64():"referenceValue"in n?at.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",a=!0;for(const c of r.values||[])a?a=!1:i+=",",i+=tx(c);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let a="{",c=!0;for(const h of i)c?c=!1:a+=",",a+=`${h}:${tx(r.fields[h])}`;return a+"}"}(n.mapValue):yt();var e}function Np(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function nx(n){return!!n&&"integerValue"in n}function EE(n){return!!n&&"arrayValue"in n}function T1(n){return!!n&&"nullValue"in n}function S1(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function mD(n){return!!n&&"mapValue"in n}function bE(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return xh(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=bE(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=bE(n.arrayValue.values[t]);return e}return Object.assign({},n)}function A1(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function tz(n){return"nullValue"in n?fD:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Np(Oh.empty(),at.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:yt()}function nz(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Np(Oh.empty(),at.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?kh:yt()}function M1(n,e){const t=Nh(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function x1(n,e){const t=Nh(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Es{constructor(e){this.value=e}static empty(){return new Es({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!mD(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=bE(t)}setAll(e){let t=Jr.emptyPath(),r={},i=[];e.forEach((c,h)=>{if(!t.isImmediateParentOf(h)){const _=this.getFieldsMap(t);this.applyChanges(_,r,i),r={},i=[],t=h.popLast()}c?r[h.lastSegment()]=bE(c):i.push(h.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());mD(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Zc(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];mD(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){xh(t,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new Es(bE(this.value))}}function R1(n){const e=[];return xh(n.fields,(t,r)=>{const i=new Jr([t]);if(mD(r)){const a=R1(r.mapValue).fields;if(0===a.length)e.push(i);else for(const c of a)e.push(i.child(c))}else e.push(i)}),new Uo(e)}class Dr{constructor(e,t,r,i,a,c,h){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=a,this.data=c,this.documentState=h}static newInvalidDocument(e){return new Dr(e,0,xt.min(),xt.min(),xt.min(),Es.empty(),0)}static newFoundDocument(e,t,r,i){return new Dr(e,1,t,xt.min(),r,i,0)}static newNoDocument(e,t){return new Dr(e,2,t,xt.min(),xt.min(),Es.empty(),0)}static newUnknownDocument(e,t){return new Dr(e,3,t,xt.min(),xt.min(),Es.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(xt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Es.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Es.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Dr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Dr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Fh{constructor(e,t){this.position=e,this.inclusive=t}}function O1(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],c=n.position[i];if(r=a.field.isKeyField()?at.comparator(at.fromName(c.referenceValue),t.key):Nh(c,t.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function k1(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Zc(n.position[t],e.position[t]))return!1;return!0}class r_{constructor(e,t="asc"){this.field=e,this.dir=t}}function rz(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class P1{}class In extends P1{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new iz(e,t,r):"array-contains"===t?new az(e,r):"in"===t?new U1(e,r):"not-in"===t?new lz(e,r):"array-contains-any"===t?new cz(e,r):new In(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new sz(e,r):new oz(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Nh(t,this.value)):null!==t&&Ph(this.value)===Ph(t)&&this.matchesComparison(Nh(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return yt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class tr extends P1{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new tr(e,t)}matches(e){return i_(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function i_(n){return"and"===n.op}function rx(n){return"or"===n.op}function ix(n){return N1(n)&&i_(n)}function N1(n){for(const e of n.filters)if(e instanceof tr)return!1;return!0}function sx(n){if(n instanceof In)return n.field.canonicalString()+n.op.toString()+n_(n.value);if(ix(n))return n.filters.map(e=>sx(e)).join(",");{const e=n.filters.map(t=>sx(t)).join(",");return`${n.op}(${e})`}}function F1(n,e){return n instanceof In?(t=n,(r=e)instanceof In&&t.op===r.op&&t.field.isEqual(r.field)&&Zc(t.value,r.value)):n instanceof tr?function(t,r){return r instanceof tr&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,a,c)=>i&&F1(a,r.filters[c]),!0)}(n,e):void yt();var t,r}function L1(n,e){const t=n.filters.concat(e);return tr.create(t,n.op)}function B1(n){return n instanceof In?`${(e=n).field.canonicalString()} ${e.op} ${n_(e.value)}`:n instanceof tr?function(e){return e.op.toString()+" {"+e.getFilters().map(B1).join(" ,")+"}"}(n):"Filter";var e}class iz extends In{constructor(e,t,r){super(e,t,r),this.key=at.fromName(r.referenceValue)}matches(e){const t=at.comparator(e.key,this.key);return this.matchesComparison(t)}}class sz extends In{constructor(e,t){super(e,"in",t),this.keys=V1(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class oz extends In{constructor(e,t){super(e,"not-in",t),this.keys=V1(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function V1(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>at.fromName(r.referenceValue))}class az extends In{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return EE(t)&&vE(t.arrayValue,this.value)}}class U1 extends In{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&vE(this.value.arrayValue,t)}}class lz extends In{constructor(e,t){super(e,"not-in",t)}matches(e){if(vE(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!vE(this.value.arrayValue,t)}}class cz extends In{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!EE(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>vE(this.value.arrayValue,r))}}class uz{constructor(e,t=null,r=[],i=[],a=null,c=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=c,this.endAt=h,this.ft=null}}function ox(n,e=null,t=[],r=[],i=null,a=null,c=null){return new uz(n,e,t,r,i,a,c)}function Fp(n){const e=lt(n);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>sx(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),gE(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>n_(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>n_(r)).join(",")),e.ft=t}return e.ft}function wE(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!rz(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!F1(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!k1(n.startAt,e.startAt)&&k1(n.endAt,e.endAt)}function gD(n){return at.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function _D(n,e){return n.filters.filter(t=>t instanceof In&&t.field.isEqual(e))}function j1(n,e,t){let r=fD,i=!0;for(const a of _D(n,e)){let c=fD,h=!0;switch(a.op){case"<":case"<=":c=tz(a.value);break;case"==":case"in":case">=":c=a.value;break;case">":c=a.value,h=!1;break;case"!=":case"not-in":c=fD}M1({value:r,inclusive:i},{value:c,inclusive:h})<0&&(r=c,i=h)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const c=t.position[a];M1({value:r,inclusive:i},{value:c,inclusive:t.inclusive})<0&&(r=c,i=t.inclusive);break}return{value:r,inclusive:i}}function H1(n,e,t){let r=kh,i=!0;for(const a of _D(n,e)){let c=kh,h=!0;switch(a.op){case">=":case">":c=nz(a.value),h=!1;break;case"==":case"in":case"<=":c=a.value;break;case"<":c=a.value,h=!1;break;case"!=":case"not-in":c=kh}x1({value:r,inclusive:i},{value:c,inclusive:h})>0&&(r=c,i=h)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const c=t.position[a];x1({value:r,inclusive:i},{value:c,inclusive:t.inclusive})>0&&(r=c,i=t.inclusive);break}return{value:r,inclusive:i}}class Xu{constructor(e,t=null,r=[],i=[],a=null,c="F",h=null,_=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=c,this.startAt=h,this.endAt=_,this.dt=null,this._t=null}}function z1(n,e,t,r,i,a,c,h){return new Xu(n,e,t,r,i,a,c,h)}function s_(n){return new Xu(n)}function $1(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function ax(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function yD(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function lx(n){return null!==n.collectionGroup}function Lp(n){const e=lt(n);if(null===e.dt){e.dt=[];const t=yD(e),r=ax(e);if(null!==t&&null===r)t.isKeyField()||e.dt.push(new r_(t)),e.dt.push(new r_(Jr.keyField(),"asc"));else{let i=!1;for(const a of e.explicitOrderBy)e.dt.push(a),a.field.isKeyField()&&(i=!0);if(!i){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new r_(Jr.keyField(),a))}}}return e.dt}function uo(n){const e=lt(n);if(!e._t)if("F"===e.limitType)e._t=ox(e.path,e.collectionGroup,Lp(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const a of Lp(e))t.push(new r_(a.field,"desc"===a.dir?"asc":"desc"));const r=e.endAt?new Fh(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Fh(e.startAt.position,e.startAt.inclusive):null;e._t=ox(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function cx(n,e){e.getFirstInequalityField(),yD(n);const t=n.filters.concat([e]);return new Xu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function vD(n,e,t){return new Xu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function CE(n,e){return wE(uo(n),uo(e))&&n.limitType===e.limitType}function G1(n){return`${Fp(uo(n))}|lt:${n.limitType}`}function ux(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>B1(r)).join(", ")}]`),gE(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>n_(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>n_(r)).join(",")),`Target(${t})`}(uo(n))}; limitType=${n.limitType})`}function DE(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):at.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of Lp(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,a,c){const h=O1(i,a,c);return i.inclusive?h<=0:h<0}(t.startAt,Lp(t),r)||t.endAt&&!function(i,a,c){const h=O1(i,a,c);return i.inclusive?h>=0:h>0}(t.endAt,Lp(t),r)));var t,r}function q1(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function W1(n){return(e,t)=>{let r=!1;for(const i of Lp(n)){const a=dz(i,e,t);if(0!==a)return a;r=r||i.field.isKeyField()}return 0}}function dz(n,e,t){const r=n.field.isKeyField()?at.comparator(e.key,t.key):function(i,a,c){const h=a.data.field(i),_=c.data.field(i);return null!==h&&null!==_?Nh(h,_):yt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return yt()}}class Ju{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,a]of r)if(this.equalsFn(i,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){xh(this.inner,(t,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return w1(this.inner)}size(){return this.innerSize}}const hz=new mr(at.comparator);function jo(){return hz}const K1=new mr(at.comparator);function IE(...n){let e=K1;for(const t of n)e=e.insert(t.key,t);return e}function Z1(n){let e=K1;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Yc(){return TE()}function Y1(){return TE()}function TE(){return new Ju(n=>n.toString(),(n,e)=>n.isEqual(e))}const fz=new mr(at.comparator),pz=new Cr(at.comparator);function pn(...n){let e=pz;for(const t of n)e=e.add(t);return e}const mz=new Cr(sn);function dx(){return mz}function Q1(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_E(e)?"-0":e}}function X1(n){return{integerValue:""+n}}function J1(n,e){return p1(e)?X1(e):Q1(n,e)}class ED{constructor(){this._=void 0}}function gz(n,e,t){return n instanceof o_?function(r,i){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&dD(i)&&(i=hD(i)),i&&(a.fields.__previous_value__=i),{mapValue:a}}(t,e):n instanceof Bp?tL(n,e):n instanceof Vp?nL(n,e):function(r,i){const a=eL(r,i),c=rL(a)+rL(r.wt);return nx(a)&&nx(r.wt)?X1(c):Q1(r.serializer,c)}(n,e)}function _z(n,e,t){return n instanceof Bp?tL(n,e):n instanceof Vp?nL(n,e):t}function eL(n,e){return n instanceof a_?nx(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class o_ extends ED{}class Bp extends ED{constructor(e){super(),this.elements=e}}function tL(n,e){const t=iL(e);for(const r of n.elements)t.some(i=>Zc(i,r))||t.push(r);return{arrayValue:{values:t}}}class Vp extends ED{constructor(e){super(),this.elements=e}}function nL(n,e){let t=iL(e);for(const r of n.elements)t=t.filter(i=>!Zc(i,r));return{arrayValue:{values:t}}}class a_ extends ED{constructor(e,t){super(),this.serializer=e,this.wt=t}}function rL(n){return ei(n.integerValue||n.doubleValue)}function iL(n){return EE(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class SE{constructor(e,t){this.field=e,this.transform=t}}class vz{constructor(e,t){this.version=e,this.transformResults=t}}class Nr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Nr}static exists(e){return new Nr(void 0,e)}static updateTime(e){return new Nr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function bD(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class wD{}function sL(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new c_(n.key,Nr.none()):new l_(n.key,n.data,Nr.none());{const t=n.data,r=Es.empty();let i=new Cr(Jr.comparator);for(let a of e.fields)if(!i.has(a)){let c=t.field(a);null===c&&a.length>1&&(a=a.popLast(),c=t.field(a)),null===c?r.delete(a):r.set(a,c),i=i.add(a)}return new ed(n.key,r,new Uo(i.toArray()),Nr.none())}}function Ez(n,e,t){n instanceof l_?function(r,i,a){const c=r.value.clone(),h=lL(r.fieldTransforms,i,a.transformResults);c.setAll(h),i.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(n,e,t):n instanceof ed?function(r,i,a){if(!bD(r.precondition,i))return void i.convertToUnknownDocument(a.version);const c=lL(r.fieldTransforms,i,a.transformResults),h=i.data;h.setAll(aL(r)),h.setAll(c),i.convertToFoundDocument(a.version,h).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function AE(n,e,t,r){return n instanceof l_?function(i,a,c,h){if(!bD(i.precondition,a))return c;const _=i.value.clone(),b=cL(i.fieldTransforms,h,a);return _.setAll(b),a.convertToFoundDocument(a.version,_).setHasLocalMutations(),null}(n,e,t,r):n instanceof ed?function(i,a,c,h){if(!bD(i.precondition,a))return c;const _=cL(i.fieldTransforms,h,a),b=a.data;return b.setAll(aL(i)),b.setAll(_),a.convertToFoundDocument(a.version,b).setHasLocalMutations(),null===c?null:c.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(D=>D.field))}(n,e,t,r):(c=t,bD(n.precondition,a=e)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):c);var a,c}function bz(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=eL(r.transform,i||null);null!=a&&(null===t&&(t=Es.empty()),t.set(r.field,a))}return t||null}function oL(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&e_(t,r,(i,a)=>function yz(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Bp&&r instanceof Bp||t instanceof Vp&&r instanceof Vp?e_(t.elements,r.elements,Zc):t instanceof a_&&r instanceof a_?Zc(t.wt,r.wt):t instanceof o_&&r instanceof o_);var t,r}(i,a))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class l_ extends wD{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ed extends wD{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function aL(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function lL(n,e,t){const r=new Map;Tt(n.length===t.length);for(let i=0;i<t.length;i++){const a=n[i],c=a.transform,h=e.data.field(a.field);r.set(a.field,_z(c,h,t[i]))}return r}function cL(n,e,t){const r=new Map;for(const i of n){const a=i.transform,c=t.data.field(i.field);r.set(i.field,gz(a,c,e))}return r}class c_ extends wD{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class hx extends wD{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class fx{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&Ez(a,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=AE(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=AE(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=Y1();return this.mutations.forEach(i=>{const a=e.get(i.key),c=a.overlayedDocument;let h=this.applyToLocalView(c,a.mutatedFields);h=t.has(i.key)?null:h;const _=sL(c,h);null!==_&&r.set(i.key,_),c.isValidDocument()||c.convertToNoDocument(xt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),pn())}isEqual(e){return this.batchId===e.batchId&&e_(this.mutations,e.mutations,(t,r)=>oL(t,r))&&e_(this.baseMutations,e.baseMutations,(t,r)=>oL(t,r))}}class px{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Tt(e.mutations.length===r.length);let i=fz;const a=e.mutations;for(let c=0;c<a.length;c++)i=i.insert(a[c].key,r[c].version);return new px(e,t,r,i)}}class mx{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Cz{constructor(e,t){this.count=e,this.unchangedNames=t}}var Ai,Rn;function uL(n){switch(n){default:return yt();case Te.CANCELLED:case Te.UNKNOWN:case Te.DEADLINE_EXCEEDED:case Te.RESOURCE_EXHAUSTED:case Te.INTERNAL:case Te.UNAVAILABLE:case Te.UNAUTHENTICATED:return!1;case Te.INVALID_ARGUMENT:case Te.NOT_FOUND:case Te.ALREADY_EXISTS:case Te.PERMISSION_DENIED:case Te.FAILED_PRECONDITION:case Te.ABORTED:case Te.OUT_OF_RANGE:case Te.UNIMPLEMENTED:case Te.DATA_LOSS:return!0}}function dL(n){if(void 0===n)return ui("GRPC error has no .code"),Te.UNKNOWN;switch(n){case Ai.OK:return Te.OK;case Ai.CANCELLED:return Te.CANCELLED;case Ai.UNKNOWN:return Te.UNKNOWN;case Ai.DEADLINE_EXCEEDED:return Te.DEADLINE_EXCEEDED;case Ai.RESOURCE_EXHAUSTED:return Te.RESOURCE_EXHAUSTED;case Ai.INTERNAL:return Te.INTERNAL;case Ai.UNAVAILABLE:return Te.UNAVAILABLE;case Ai.UNAUTHENTICATED:return Te.UNAUTHENTICATED;case Ai.INVALID_ARGUMENT:return Te.INVALID_ARGUMENT;case Ai.NOT_FOUND:return Te.NOT_FOUND;case Ai.ALREADY_EXISTS:return Te.ALREADY_EXISTS;case Ai.PERMISSION_DENIED:return Te.PERMISSION_DENIED;case Ai.FAILED_PRECONDITION:return Te.FAILED_PRECONDITION;case Ai.ABORTED:return Te.ABORTED;case Ai.OUT_OF_RANGE:return Te.OUT_OF_RANGE;case Ai.UNIMPLEMENTED:return Te.UNIMPLEMENTED;case Ai.DATA_LOSS:return Te.DATA_LOSS;default:return yt()}}(Rn=Ai||(Ai={}))[Rn.OK=0]="OK",Rn[Rn.CANCELLED=1]="CANCELLED",Rn[Rn.UNKNOWN=2]="UNKNOWN",Rn[Rn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Rn[Rn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Rn[Rn.NOT_FOUND=5]="NOT_FOUND",Rn[Rn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Rn[Rn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Rn[Rn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Rn[Rn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Rn[Rn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Rn[Rn.ABORTED=10]="ABORTED",Rn[Rn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Rn[Rn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Rn[Rn.INTERNAL=13]="INTERNAL",Rn[Rn.UNAVAILABLE=14]="UNAVAILABLE",Rn[Rn.DATA_LOSS=15]="DATA_LOSS";class gx{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return CD}static getOrCreateInstance(){return null===CD&&(CD=new gx),CD}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let CD=null;function hL(){return new TextEncoder}const Dz=new Xg([4294967295,4294967295],0);function fL(n){const e=hL().encode(n),t=new _H;return t.update(e),new Uint8Array(t.digest())}function pL(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Xg([t,r],0),new Xg([i,a],0)]}class _x{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new ME(`Invalid padding: ${t}`);if(r<0)throw new ME(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new ME(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new ME(`Invalid padding when bitmap length is 0: ${t}`);this.yt=8*e.length-t,this.It=Xg.fromNumber(this.yt)}Tt(e,t,r){let i=e.add(t.multiply(Xg.fromNumber(r)));return 1===i.compare(Dz)&&(i=new Xg([i.getBits(0),i.getBits(1)],0)),i.modulo(this.It).toNumber()}Et(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}At(e){if(0===this.yt)return!1;const t=fL(e),[r,i]=pL(t);for(let a=0;a<this.hashCount;a++){const c=this.Tt(r,i,a);if(!this.Et(c))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),c=new _x(a,i,t);return r.forEach(h=>c.insert(h)),c}insert(e){if(0===this.yt)return;const t=fL(e),[r,i]=pL(t);for(let a=0;a<this.hashCount;a++){const c=this.Tt(r,i,a);this.Rt(c)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class ME extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class xE{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,RE.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new xE(xt.min(),i,new mr(sn),jo(),pn())}}class RE{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new RE(r,t,pn(),pn(),pn())}}class DD{constructor(e,t,r,i){this.vt=e,this.removedTargetIds=t,this.key=r,this.Pt=i}}class mL{constructor(e,t){this.targetId=e,this.bt=t}}class gL{constructor(e,t,r=Fi.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class _L{constructor(){this.Vt=0,this.St=vL(),this.Dt=Fi.EMPTY_BYTE_STRING,this.Ct=!1,this.xt=!0}get current(){return this.Ct}get resumeToken(){return this.Dt}get Nt(){return 0!==this.Vt}get kt(){return this.xt}Mt(e){e.approximateByteSize()>0&&(this.xt=!0,this.Dt=e)}Ot(){let e=pn(),t=pn(),r=pn();return this.St.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:yt()}}),new RE(this.Dt,this.Ct,e,t,r)}$t(){this.xt=!1,this.St=vL()}Ft(e,t){this.xt=!0,this.St=this.St.insert(e,t)}Bt(e){this.xt=!0,this.St=this.St.remove(e)}Lt(){this.Vt+=1}qt(){this.Vt-=1}Ut(){this.xt=!0,this.Ct=!0}}class Iz{constructor(e){this.Kt=e,this.Gt=new Map,this.Qt=jo(),this.jt=yL(),this.zt=new mr(sn)}Wt(e){for(const t of e.vt)e.Pt&&e.Pt.isFoundDocument()?this.Ht(t,e.Pt):this.Jt(t,e.key,e.Pt);for(const t of e.removedTargetIds)this.Jt(t,e.key,e.Pt)}Yt(e){this.forEachTarget(e,t=>{const r=this.Xt(t);switch(e.state){case 0:this.Zt(t)&&r.Mt(e.resumeToken);break;case 1:r.qt(),r.Nt||r.$t(),r.Mt(e.resumeToken);break;case 2:r.qt(),r.Nt||this.removeTarget(t);break;case 3:this.Zt(t)&&(r.Ut(),r.Mt(e.resumeToken));break;case 4:this.Zt(t)&&(this.te(t),r.Mt(e.resumeToken));break;default:yt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Gt.forEach((r,i)=>{this.Zt(i)&&t(i)})}ee(e){var t;const r=e.targetId,i=e.bt.count,a=this.ne(r);if(a){const c=a.target;if(gD(c))if(0===i){const h=new at(c.path);this.Jt(r,h,Dr.newNoDocument(h,xt.min()))}else Tt(1===i);else{const h=this.se(r);if(h!==i){const _=this.ie(e,h);0!==_&&(this.te(r),this.zt=this.zt.insert(r,2===_?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=gx.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(b,D,x){var F,j,ee,de,Ae,it;const ct={localCacheCount:D,existenceFilterCount:x.count},ft=x.unchangedNames;return ft&&(ct.bloomFilter={applied:0===b,hashCount:null!==(F=null==ft?void 0:ft.hashCount)&&void 0!==F?F:0,bitmapLength:null!==(de=null===(ee=null===(j=null==ft?void 0:ft.bits)||void 0===j?void 0:j.bitmap)||void 0===ee?void 0:ee.length)&&void 0!==de?de:0,padding:null!==(it=null===(Ae=null==ft?void 0:ft.bits)||void 0===Ae?void 0:Ae.padding)&&void 0!==it?it:0}),ct}(_,h,e.bt))}}}}ie(e,t){const{unchangedNames:r,count:i}=e.bt;if(!r||!r.bits)return 1;const{bits:{bitmap:a="",padding:c=0},hashCount:h=0}=r;let _,b;try{_=Qu(a).toUint8Array()}catch(D){if(D instanceof D1)return nl("Decoding the base64 bloom filter in existence filter failed ("+D.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw D}try{b=new _x(_,c,h)}catch(D){return nl(D instanceof ME?"BloomFilter error: ":"Applying bloom filter failed: ",D),1}return 0===b.yt?1:i!==t-this.re(e.targetId,b)?2:0}re(e,t){const r=this.Kt.getRemoteKeysForTarget(e);let i=0;return r.forEach(a=>{const c=this.Kt.oe(),h=`projects/${c.projectId}/databases/${c.database}/documents/${a.path.canonicalString()}`;t.At(h)||(this.Jt(e,a,null),i++)}),i}ue(e){const t=new Map;this.Gt.forEach((a,c)=>{const h=this.ne(c);if(h){if(a.current&&gD(h.target)){const _=new at(h.target.path);null!==this.Qt.get(_)||this.ce(c,_)||this.Jt(c,_,Dr.newNoDocument(_,e))}a.kt&&(t.set(c,a.Ot()),a.$t())}});let r=pn();this.jt.forEach((a,c)=>{let h=!0;c.forEachWhile(_=>{const b=this.ne(_);return!b||"TargetPurposeLimboResolution"===b.purpose||(h=!1,!1)}),h&&(r=r.add(a))}),this.Qt.forEach((a,c)=>c.setReadTime(e));const i=new xE(e,t,this.zt,this.Qt,r);return this.Qt=jo(),this.jt=yL(),this.zt=new mr(sn),i}Ht(e,t){if(!this.Zt(e))return;const r=this.ce(e,t.key)?2:0;this.Xt(e).Ft(t.key,r),this.Qt=this.Qt.insert(t.key,t),this.jt=this.jt.insert(t.key,this.ae(t.key).add(e))}Jt(e,t,r){if(!this.Zt(e))return;const i=this.Xt(e);this.ce(e,t)?i.Ft(t,1):i.Bt(t),this.jt=this.jt.insert(t,this.ae(t).delete(e)),r&&(this.Qt=this.Qt.insert(t,r))}removeTarget(e){this.Gt.delete(e)}se(e){const t=this.Xt(e).Ot();return this.Kt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Lt(e){this.Xt(e).Lt()}Xt(e){let t=this.Gt.get(e);return t||(t=new _L,this.Gt.set(e,t)),t}ae(e){let t=this.jt.get(e);return t||(t=new Cr(sn),this.jt=this.jt.insert(e,t)),t}Zt(e){const t=null!==this.ne(e);return t||We("WatchChangeAggregator","Detected inactive target",e),t}ne(e){const t=this.Gt.get(e);return t&&t.Nt?null:this.Kt.he(e)}te(e){this.Gt.set(e,new _L),this.Kt.getRemoteKeysForTarget(e).forEach(t=>{this.Jt(e,t,null)})}ce(e,t){return this.Kt.getRemoteKeysForTarget(e).has(t)}}function yL(){return new mr(at.comparator)}function vL(){return new mr(at.comparator)}const Tz={asc:"ASCENDING",desc:"DESCENDING"},Sz={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Az={and:"AND",or:"OR"};class Mz{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function yx(n,e){return n.useProto3Json||gE(e)?e:{value:e}}function u_(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function EL(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function xz(n,e){return u_(n,e.toTimestamp())}function di(n){return Tt(!!n),xt.fromTimestamp(function(e){const t=Rh(e);return new Pr(t.seconds,t.nanos)}(n))}function vx(n,e){return(t=n,new xn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function bL(n){const e=xn.fromString(n);return Tt(xL(e)),e}function OE(n,e){return vx(n.databaseId,e.path)}function Qc(n,e){const t=bL(e);if(t.get(1)!==n.databaseId.projectId)throw new $e(Te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new $e(Te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new at(CL(t))}function Ex(n,e){return vx(n.databaseId,e)}function wL(n){const e=bL(n);return 4===e.length?xn.emptyPath():CL(e)}function kE(n){return new xn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function CL(n){return Tt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function DL(n,e,t){return{name:OE(n,e),fields:t.value.mapValue.fields}}function IL(n,e,t){const r=Qc(n,e.name),i=di(e.updateTime),a=e.createTime?di(e.createTime):xt.min(),c=new Es({mapValue:{fields:e.fields}}),h=Dr.newFoundDocument(r,i,a,c);return t&&h.setHasCommittedMutations(),t?h.setHasCommittedMutations():h}function PE(n,e){let t;if(e instanceof l_)t={update:DL(n,e.key,e.value)};else if(e instanceof c_)t={delete:OE(n,e.key)};else if(e instanceof ed)t={update:DL(n,e.key,e.data),updateMask:Bz(e.fieldMask)};else{if(!(e instanceof hx))return yt();t={verify:OE(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const c=a.transform;if(c instanceof o_)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Bp)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Vp)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof a_)return{fieldPath:a.field.canonicalString(),increment:c.wt};throw yt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:xz(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:yt()),t;var i}function bx(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?Nr.updateTime(di(i.updateTime)):void 0!==i.exists?Nr.exists(i.exists):Nr.none():Nr.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(a,c){let h=null;"setToServerValue"in c?(Tt("REQUEST_TIME"===c.setToServerValue),h=new o_):"appendMissingElements"in c?h=new Bp(c.appendMissingElements.values||[]):"removeAllFromArray"in c?h=new Vp(c.removeAllFromArray.values||[]):"increment"in c?h=new a_(a,c.increment):yt();const _=Jr.fromServerFormat(c.fieldPath);return new SE(_,h)}(n,i)):[];var i;if(e.update){const i=Qc(n,e.update.name),a=new Es({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=new Uo((e.updateMask.fieldPaths||[]).map(b=>Jr.fromServerFormat(b)));return new ed(i,a,c,t,r)}return new l_(i,a,t,r)}if(e.delete){const i=Qc(n,e.delete);return new c_(i,t)}if(e.verify){const i=Qc(n,e.verify);return new hx(i,t)}return yt()}function TL(n,e){return{documents:[Ex(n,e.path)]}}function wx(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=Ex(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Ex(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(_){if(0!==_.length)return ML(tr.create(_,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const a=function(_){if(0!==_.length)return _.map(b=>{return{field:Lh((D=b).field),direction:Nz(D.dir)};var D})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const c=yx(n,e.limit);var h,_;return null!==c&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt={before:(h=e.startAt).inclusive,values:h.position}),e.endAt&&(t.structuredQuery.endAt={before:!(_=e.endAt).inclusive,values:_.position}),t}function SL(n){let e=wL(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Tt(1===r);const D=t.from[0];D.allDescendants?i=D.collectionId:e=e.child(D.collectionId)}let a=[];t.where&&(a=function(D){const x=AL(D);return x instanceof tr&&ix(x)?x.getFilters():[x]}(t.where));let c=[];t.orderBy&&(c=t.orderBy.map(D=>{return new r_(d_((x=D).field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction));var x}));let h=null;t.limit&&(h=function(D){let x;return x="object"==typeof D?D.value:D,gE(x)?null:x}(t.limit));let _=null;var D;t.startAt&&(_=new Fh((D=t.startAt).values||[],!!D.before));let b=null;return t.endAt&&(b=function(D){return new Fh(D.values||[],!D.before)}(t.endAt)),z1(e,i,c,a,h,"F",_,b)}function AL(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=d_(e.unaryFilter.field);return In.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=d_(e.unaryFilter.field);return In.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=d_(e.unaryFilter.field);return In.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=d_(e.unaryFilter.field);return In.create(a,"!=",{nullValue:"NULL_VALUE"});default:return yt()}}(n):void 0!==n.fieldFilter?In.create(d_((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return yt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return tr.create(e.compositeFilter.filters.map(t=>AL(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return yt()}}(e.compositeFilter.op))}(n):yt();var e}function Nz(n){return Tz[n]}function Fz(n){return Sz[n]}function Lz(n){return Az[n]}function Lh(n){return{fieldPath:n.canonicalString()}}function d_(n){return Jr.fromServerFormat(n.fieldPath)}function ML(n){return n instanceof In?function(e){if("=="===e.op){if(S1(e.value))return{unaryFilter:{field:Lh(e.field),op:"IS_NAN"}};if(T1(e.value))return{unaryFilter:{field:Lh(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(S1(e.value))return{unaryFilter:{field:Lh(e.field),op:"IS_NOT_NAN"}};if(T1(e.value))return{unaryFilter:{field:Lh(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Lh(e.field),op:Fz(e.op),value:e.value}}}(n):n instanceof tr?function(e){const t=e.getFilters().map(r=>ML(r));return 1===t.length?t[0]:{compositeFilter:{op:Lz(e.op),filters:t}}}(n):yt()}function Bz(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function xL(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class td{constructor(e,t,r,i,a=xt.min(),c=xt.min(),h=Fi.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=_}withSequenceNumber(e){return new td(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new td(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new td(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new td(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class RL{constructor(e){this.le=e}}function OL(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:ID(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:OE(i=n.le,(a=e).key),fields:a.data.value.mapValue.fields,updateTime:u_(i,a.version.toTimestamp()),createTime:u_(i,a.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Up(e.version)};else{if(!e.isUnknownDocument())return yt();r.unknownDocument={path:t.path.toArray(),version:Up(e.version)}}var i,a;return r}function ID(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Up(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function jp(n){const e=new Pr(n.seconds,n.nanoseconds);return xt.fromTimestamp(e)}function Hp(n,e){const t=(e.baseMutations||[]).map(a=>bx(n.le,a));for(let a=0;a<e.mutations.length-1;++a){const c=e.mutations[a];a+1<e.mutations.length&&void 0!==e.mutations[a+1].transform&&(c.updateTransforms=e.mutations[a+1].transform.fieldTransforms,e.mutations.splice(a+1,1),++a)}const r=e.mutations.map(a=>bx(n.le,a)),i=Pr.fromMillis(e.localWriteTimeMs);return new fx(e.batchId,i,t,r)}function NE(n){const e=jp(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?jp(n.lastLimboFreeSnapshotVersion):xt.min();let r;var i;return void 0!==n.query.documents?(Tt(1===(i=n.query).documents.length),r=uo(s_(wL(i.documents[0])))):r=uo(SL(n.query)),new td(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,Fi.fromBase64String(n.resumeToken))}function kL(n,e){const t=Up(e.snapshotVersion),r=Up(e.lastLimboFreeSnapshotVersion);let i;i=gD(e.target)?TL(n.le,e.target):wx(n.le,e.target);const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Fp(e.target),readTime:t,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function Cx(n){const e=SL({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?vD(e,e.limit,"L"):e}function Dx(n,e){return new mx(e.largestBatchId,bx(n.le,e.overlayMutation))}function PL(n,e){const t=e.path.lastSegment();return[n,zs(e.path.popLast()),t]}function NL(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Up(r.readTime),documentKey:zs(r.documentKey.path),largestBatchId:r.largestBatchId}}class Uz{getBundleMetadata(e,t){return FL(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:jp(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return FL(e).put({bundleId:(r=t).id,createTime:Up(di(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return LL(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:Cx(i.bundledQuery),readTime:jp(i.readTime)};var i})}saveNamedQuery(e,t){return LL(e).put({name:(r=t).name,readTime:Up(di(r.readTime)),bundledQuery:r.bundledQuery});var r}}function FL(n){return Zi(n,"bundles")}function LL(n){return Zi(n,"namedQueries")}class TD{constructor(e,t){this.serializer=e,this.userId=t}static fe(e,t){return new TD(e,t.uid||"")}getOverlay(e,t){return FE(e).get(PL(this.userId,t)).next(r=>r?Dx(this.serializer,r):null)}getOverlays(e,t){const r=Yc();return ge.forEach(t,i=>this.getOverlay(e,i).next(a=>{null!==a&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((a,c)=>{const h=new mx(t,c);i.push(this.de(e,h))}),ge.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(c=>i.add(zs(c.getCollectionPath())));const a=[];return i.forEach(c=>{const h=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,r+1],!1,!0);a.push(FE(e).J("collectionPathOverlayIndex",h))}),ge.waitFor(a)}getOverlaysForCollection(e,t,r){const i=Yc(),a=zs(t),c=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,Number.POSITIVE_INFINITY],!0);return FE(e).j("collectionPathOverlayIndex",c).next(h=>{for(const _ of h){const b=Dx(this.serializer,_);i.set(b.getKey(),b)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const a=Yc();let c;const h=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return FE(e).X({index:"collectionGroupOverlayIndex",range:h},(_,b,D)=>{const x=Dx(this.serializer,b);a.size()<i||x.largestBatchId===c?(a.set(x.getKey(),x),c=x.largestBatchId):D.done()}).next(()=>a)}de(e,t){return FE(e).put(function(r,i,a){const[c,h,_]=PL(i,a.mutation.key);return{userId:i,collectionPath:h,documentId:_,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:PE(r.le,a.mutation)}}(this.serializer,this.userId,t))}}function FE(n){return Zi(n,"documentOverlays")}class zp{constructor(){}_e(e,t){this.we(e,t),t.me()}we(e,t){if("nullValue"in e)this.ge(t,5);else if("booleanValue"in e)this.ge(t,10),t.ye(e.booleanValue?1:0);else if("integerValue"in e)this.ge(t,15),t.ye(ei(e.integerValue));else if("doubleValue"in e){const r=ei(e.doubleValue);isNaN(r)?this.ge(t,13):(this.ge(t,15),_E(r)?t.ye(0):t.ye(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ge(t,20),"string"==typeof r?t.pe(r):(t.pe(`${r.seconds||""}`),t.ye(r.nanos||0))}else if("stringValue"in e)this.Ie(e.stringValue,t),this.Te(t);else if("bytesValue"in e)this.ge(t,30),t.Ee(Qu(e.bytesValue)),this.Te(t);else if("referenceValue"in e)this.Ae(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ge(t,45),t.ye(r.latitude||0),t.ye(r.longitude||0)}else"mapValue"in e?A1(e)?this.ge(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Te(t)):"arrayValue"in e?(this.ve(e.arrayValue,t),this.Te(t)):yt()}Ie(e,t){this.ge(t,25),this.Pe(e,t)}Pe(e,t){t.pe(e)}Re(e,t){const r=e.fields||{};this.ge(t,55);for(const i of Object.keys(r))this.Ie(i,t),this.we(r[i],t)}ve(e,t){const r=e.values||[];this.ge(t,50);for(const i of r)this.we(i,t)}Ae(e,t){this.ge(t,37),at.fromName(e).path.forEach(r=>{this.ge(t,60),this.Pe(r,t)})}ge(e,t){e.ye(t)}Te(e){e.ye(2)}}function jz(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function BL(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const a=jz(255&t[i]);if(r+=a,8!==a)break}return r}(n);return Math.ceil(e/8)}zp.be=new zp;class Hz{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ve(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Se(r.value),r=t.next();this.De()}Ce(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.xe(r.value),r=t.next();this.Ne()}ke(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Se(r);else if(r<2048)this.Se(960|r>>>6),this.Se(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Se(480|r>>>12),this.Se(128|63&r>>>6),this.Se(128|63&r);else{const i=t.codePointAt(0);this.Se(240|i>>>18),this.Se(128|63&i>>>12),this.Se(128|63&i>>>6),this.Se(128|63&i)}}this.De()}Me(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.xe(r);else if(r<2048)this.xe(960|r>>>6),this.xe(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.xe(480|r>>>12),this.xe(128|63&r>>>6),this.xe(128|63&r);else{const i=t.codePointAt(0);this.xe(240|i>>>18),this.xe(128|63&i>>>12),this.xe(128|63&i>>>6),this.xe(128|63&i)}}this.Ne()}Oe(e){const t=this.$e(e),r=BL(t);this.Fe(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Be(e){const t=this.$e(e),r=BL(t);this.Fe(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}Le(){this.qe(255),this.qe(255)}Ue(){this.Ke(255),this.Ke(255)}reset(){this.position=0}seed(e){this.Fe(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ge(){return this.buffer.slice(0,this.position)}$e(e){const t=function(i){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,i,!1),new Uint8Array(a.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Se(e){const t=255&e;0===t?(this.qe(0),this.qe(255)):255===t?(this.qe(255),this.qe(0)):this.qe(t)}xe(e){const t=255&e;0===t?(this.Ke(0),this.Ke(255)):255===t?(this.Ke(255),this.Ke(0)):this.Ke(e)}De(){this.qe(0),this.qe(1)}Ne(){this.Ke(0),this.Ke(1)}qe(e){this.Fe(1),this.buffer[this.position++]=e}Ke(e){this.Fe(1),this.buffer[this.position++]=~e}Fe(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class zz{constructor(e){this.Qe=e}Ee(e){this.Qe.Ve(e)}pe(e){this.Qe.ke(e)}ye(e){this.Qe.Oe(e)}me(){this.Qe.Le()}}class $z{constructor(e){this.Qe=e}Ee(e){this.Qe.Ce(e)}pe(e){this.Qe.Me(e)}ye(e){this.Qe.Be(e)}me(){this.Qe.Ue()}}class LE{constructor(){this.Qe=new Hz,this.je=new zz(this.Qe),this.ze=new $z(this.Qe)}seed(e){this.Qe.seed(e)}We(e){return 0===e?this.je:this.ze}Ge(){return this.Qe.Ge()}reset(){this.Qe.reset()}}class $p{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}He(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new $p(this.indexId,this.documentKey,this.arrayValue,r)}}function Bh(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=VL(n.arrayValue,e.arrayValue),0!==t?t:(t=VL(n.directionalValue,e.directionalValue),0!==t?t:at.comparator(n.documentKey,e.documentKey)))}function VL(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class Gz{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Je=e.orderBy,this.Ye=[];for(const t of e.filters){const r=t;r.isInequality()?this.Xe=r:this.Ye.push(r)}}Ze(e){Tt(e.collectionGroup===this.collectionId);const t=YM(e);if(void 0!==t&&!this.tn(t))return!1;const r=kp(e);let i=0,a=0;for(;i<r.length&&this.tn(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.Xe){const c=r[i];if(!this.en(this.Xe,c)||!this.nn(this.Je[a++],c))return!1;++i}for(;i<r.length;++i){const c=r[i];if(a>=this.Je.length||!this.nn(this.Je[a++],c))return!1}return!0}tn(e){for(const t of this.Ye)if(this.en(t,e))return!0;return!1}en(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}nn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function UL(n){var e,t;if(Tt(n instanceof In||n instanceof tr),n instanceof In){if(n instanceof U1){const i=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(a=>In.create(n.field,"==",a)))||[];return tr.create(i,"or")}return n}const r=n.filters.map(i=>UL(i));return tr.create(r,n.op)}function qz(n){if(0===n.getFilters().length)return[];const e=Sx(UL(n));return Tt(jL(e)),Ix(e)||Tx(e)?[e]:e.getFilters()}function Ix(n){return n instanceof In}function Tx(n){return n instanceof tr&&ix(n)}function jL(n){return Ix(n)||Tx(n)||function(e){if(e instanceof tr&&rx(e)){for(const t of e.getFilters())if(!Ix(t)&&!Tx(t))return!1;return!0}return!1}(n)}function Sx(n){if(Tt(n instanceof In||n instanceof tr),n instanceof In)return n;if(1===n.filters.length)return Sx(n.filters[0]);const e=n.filters.map(r=>Sx(r));let t=tr.create(e,n.op);return t=SD(t),jL(t)?t:(Tt(t instanceof tr),Tt(i_(t)),Tt(t.filters.length>1),t.filters.reduce((r,i)=>Ax(r,i)))}function Ax(n,e){let t;return Tt(n instanceof In||n instanceof tr),Tt(e instanceof In||e instanceof tr),t=n instanceof In?e instanceof In?tr.create([n,e],"and"):HL(n,e):e instanceof In?HL(e,n):function(r,i){if(Tt(r.filters.length>0&&i.filters.length>0),i_(r)&&i_(i))return L1(r,i.getFilters());const a=rx(r)?r:i,c=rx(r)?i:r,h=a.filters.map(_=>Ax(_,c));return tr.create(h,"or")}(n,e),SD(t)}function HL(n,e){if(i_(e))return L1(e,n.getFilters());{const t=e.filters.map(r=>Ax(n,r));return tr.create(t,"or")}}function SD(n){if(Tt(n instanceof In||n instanceof tr),n instanceof In)return n;const e=n.getFilters();if(1===e.length)return SD(e[0]);if(N1(n))return n;const t=e.map(i=>SD(i)),r=[];return t.forEach(i=>{i instanceof In?r.push(i):i instanceof tr&&(i.op===n.op?r.push(...i.filters):r.push(i))}),1===r.length?r[0]:tr.create(r,n.op)}class Wz{constructor(){this.sn=new Mx}addToCollectionParentIndex(e,t){return this.sn.add(t),ge.resolve()}getCollectionParents(e,t){return ge.resolve(this.sn.getEntries(t))}addFieldIndex(e,t){return ge.resolve()}deleteFieldIndex(e,t){return ge.resolve()}getDocumentsMatchingTarget(e,t){return ge.resolve(null)}getIndexType(e,t){return ge.resolve(0)}getFieldIndexes(e,t){return ge.resolve([])}getNextCollectionGroupToUpdate(e){return ge.resolve(null)}getMinOffset(e,t){return ge.resolve(pa.min())}getMinOffsetFromCollectionGroup(e,t){return ge.resolve(pa.min())}updateCollectionGroup(e,t,r){return ge.resolve()}updateIndexEntries(e,t){return ge.resolve()}}class Mx{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Cr(xn.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Cr(xn.comparator)).toArray()}}const AD=new Uint8Array(0);class Kz{constructor(e,t){this.user=e,this.databaseId=t,this.rn=new Mx,this.on=new Ju(r=>Fp(r),(r,i)=>wE(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.rn.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.rn.add(t)});const a={collectionId:r,parent:zs(i)};return zL(e).put(a)}return ge.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[l1(t),""],!1,!0);return zL(e).j(i).next(a=>{for(const c of a){if(c.collectionId!==t)break;r.push(Kc(c.parent))}return r})}addFieldIndex(e,t){const r=MD(e),i={indexId:(c=t).indexId,collectionGroup:c.collectionGroup,fields:c.fields.map(h=>[h.fieldPath.canonicalString(),h.kind])};var c;delete i.indexId;const a=r.add(i);if(t.indexState){const c=VE(e);return a.next(h=>{c.put(NL(h,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return a.next()}deleteFieldIndex(e,t){const r=MD(e),i=VE(e),a=BE(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=BE(e);let i=!0;const a=new Map;return ge.forEach(this.un(t),c=>this.cn(e,c).next(h=>{i&&(i=!!h),a.set(c,h)})).next(()=>{if(i){let c=pn();const h=[];return ge.forEach(a,(_,b)=>{var D;We("IndexedDbIndexManager",`Using index ${D=_,`id=${D.indexId}|cg=${D.collectionGroup}|f=${D.fields.map(ft=>`${ft.fieldPath}:${ft.kind}`).join(",")}`} to execute ${Fp(t)}`);const x=function(ft,St){const en=YM(St);if(void 0===en)return null;for(const ln of _D(ft,en.fieldPath))switch(ln.op){case"array-contains-any":return ln.value.arrayValue.values||[];case"array-contains":return[ln.value]}return null}(b,_),F=function(ft,St){const en=new Map;for(const ln of kp(St))for(const $n of _D(ft,ln.fieldPath))switch($n.op){case"==":case"in":en.set(ln.fieldPath.canonicalString(),$n.value);break;case"not-in":case"!=":return en.set(ln.fieldPath.canonicalString(),$n.value),Array.from(en.values())}return null}(b,_),j=function(ft,St){const en=[];let ln=!0;for(const $n of kp(St)){const Qi=0===$n.kind?j1(ft,$n.fieldPath,ft.startAt):H1(ft,$n.fieldPath,ft.startAt);en.push(Qi.value),ln&&(ln=Qi.inclusive)}return new Fh(en,ln)}(b,_),ee=function(ft,St){const en=[];let ln=!0;for(const $n of kp(St)){const Qi=0===$n.kind?H1(ft,$n.fieldPath,ft.endAt):j1(ft,$n.fieldPath,ft.endAt);en.push(Qi.value),ln&&(ln=Qi.inclusive)}return new Fh(en,ln)}(b,_),de=this.an(_,b,j),Ae=this.an(_,b,ee),it=this.hn(_,b,F),ct=this.ln(_.indexId,x,de,j.inclusive,Ae,ee.inclusive,it);return ge.forEach(ct,ft=>r.H(ft,t.limit).next(St=>{St.forEach(en=>{const ln=at.fromSegments(en.documentKey);c.has(ln)||(c=c.add(ln),h.push(ln))})}))}).next(()=>h)}return ge.resolve(null)})}un(e){let t=this.on.get(e);return t||(t=0===e.filters.length?[e]:qz(tr.create(e.filters,"and")).map(r=>ox(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.on.set(e,t),t)}ln(e,t,r,i,a,c,h){const _=(null!=t?t.length:1)*Math.max(r.length,a.length),b=_/(null!=t?t.length:1),D=[];for(let x=0;x<_;++x){const F=t?this.fn(t[x/b]):AD,j=this.dn(e,F,r[x%b],i),ee=this._n(e,F,a[x%b],c),de=h.map(Ae=>this.dn(e,F,Ae,!0));D.push(...this.createRange(j,ee,de))}return D}dn(e,t,r,i){const a=new $p(e,at.empty(),t,r);return i?a:a.He()}_n(e,t,r,i){const a=new $p(e,at.empty(),t,r);return i?a.He():a}cn(e,t){const r=new Gz(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(a=>{let c=null;for(const h of a)r.Ze(h)&&(!c||h.fields.length>c.fields.length)&&(c=h);return c})}getIndexType(e,t){let r=2;const i=this.un(t);return ge.forEach(i,a=>this.cn(e,a).next(c=>{c?0!==r&&c.fields.length<function(h){let _=new Cr(Jr.comparator),b=!1;for(const D of h.filters)for(const x of D.getFlattenedFilters())x.field.isKeyField()||("array-contains"===x.op||"array-contains-any"===x.op?b=!0:_=_.add(x.field));for(const D of h.orderBy)D.field.isKeyField()||(_=_.add(D.field));return _.size+(b?1:0)}(a)&&(r=1):r=0})).next(()=>null!==t.limit&&i.length>1&&2===r?1:r)}wn(e,t){const r=new LE;for(const i of kp(e)){const a=t.data.field(i.fieldPath);if(null==a)return null;const c=r.We(i.kind);zp.be._e(a,c)}return r.Ge()}fn(e){const t=new LE;return zp.be._e(e,t.We(0)),t.Ge()}mn(e,t){const r=new LE;return zp.be._e(Np(this.databaseId,t),r.We(function(i){const a=kp(i);return 0===a.length?0:a[a.length-1].kind}(e))),r.Ge()}hn(e,t,r){if(null===r)return[];let i=[];i.push(new LE);let a=0;for(const c of kp(e)){const h=r[a++];for(const _ of i)if(this.gn(t,c.fieldPath)&&EE(h))i=this.yn(i,c,h);else{const b=_.We(c.kind);zp.be._e(h,b)}}return this.pn(i)}an(e,t,r){return this.hn(e,t,r.position)}pn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Ge();return t}yn(e,t,r){const i=[...e],a=[];for(const c of r.arrayValue.values||[])for(const h of i){const _=new LE;_.seed(h.Ge()),zp.be._e(c,_.We(t.kind)),a.push(_)}return a}gn(e,t){return!!e.filters.find(r=>r instanceof In&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=MD(e),i=VE(e);return(t?r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.j()).next(a=>{const c=[];return ge.forEach(a,h=>i.get([h.indexId,this.uid]).next(_=>{c.push(function(b,D){const x=D?new pE(D.sequenceNumber,new pa(jp(D.readTime),new at(Kc(D.documentKey)),D.largestBatchId)):pE.empty(),F=b.fields.map(([j,ee])=>new aD(Jr.fromServerFormat(j),ee));return new oD(b.indexId,b.collectionGroup,F,x)}(h,_))})).next(()=>c)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const a=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==a?a:sn(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=MD(e),a=VE(e);return this.In(e).next(c=>i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(h=>ge.forEach(h,_=>a.put(NL(_.indexId,this.user,c,r)))))}updateIndexEntries(e,t){const r=new Map;return ge.forEach(t,(i,a)=>{const c=r.get(i.collectionGroup);return(c?ge.resolve(c):this.getFieldIndexes(e,i.collectionGroup)).next(h=>(r.set(i.collectionGroup,h),ge.forEach(h,_=>this.Tn(e,i,_).next(b=>{const D=this.En(a,_);return b.isEqual(D)?ge.resolve():this.An(e,a,_,b,D)}))))})}Rn(e,t,r,i){return BE(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.mn(r,t.key),documentKey:t.key.path.toArray()})}vn(e,t,r,i){return BE(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.mn(r,t.key),t.key.path.toArray()])}Tn(e,t,r){const i=BE(e);let a=new Cr(Bh);return i.X({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.mn(r,t)])},(c,h)=>{a=a.add(new $p(r.indexId,t,h.arrayValue,h.directionalValue))}).next(()=>a)}En(e,t){let r=new Cr(Bh);const i=this.wn(t,e);if(null==i)return r;const a=YM(t);if(null!=a){const c=e.data.field(a.fieldPath);if(EE(c))for(const h of c.arrayValue.values||[])r=r.add(new $p(t.indexId,e.key,this.fn(h),i))}else r=r.add(new $p(t.indexId,e.key,AD,i));return r}An(e,t,r,i,a){We("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const c=[];return function(h,_,b,D,x){const F=h.getIterator(),j=_.getIterator();let ee=t_(F),de=t_(j);for(;ee||de;){let Ae=!1,it=!1;if(ee&&de){const ct=b(ee,de);ct<0?it=!0:ct>0&&(Ae=!0)}else null!=ee?it=!0:Ae=!0;Ae?(D(de),de=t_(j)):it?(x(ee),ee=t_(F)):(ee=t_(F),de=t_(j))}}(i,a,Bh,h=>{c.push(this.Rn(e,t,r,h))},h=>{c.push(this.vn(e,t,r,h))}),ge.waitFor(c)}In(e){let t=1;return VE(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,a)=>{a.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((c,h)=>Bh(c,h)).filter((c,h,_)=>!h||0!==Bh(c,_[h-1]));const i=[];i.push(e);for(const c of r){const h=Bh(c,e),_=Bh(c,t);if(0===h)i[0]=e.He();else if(h>0&&_<0)i.push(c),i.push(c.He());else if(_>0)break}i.push(t);const a=[];for(let c=0;c<i.length;c+=2){if(this.Pn(i[c],i[c+1]))return[];a.push(IDBKeyRange.bound([i[c].indexId,this.uid,i[c].arrayValue,i[c].directionalValue,AD,[]],[i[c+1].indexId,this.uid,i[c+1].arrayValue,i[c+1].directionalValue,AD,[]]))}return a}Pn(e,t){return Bh(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next($L)}getMinOffset(e,t){return ge.mapArray(this.un(t),r=>this.cn(e,r).next(i=>i||yt())).next($L)}}function zL(n){return Zi(n,"collectionParents")}function BE(n){return Zi(n,"indexEntries")}function MD(n){return Zi(n,"indexConfiguration")}function VE(n){return Zi(n,"indexState")}function $L(n){Tt(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;QM(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new pa(e.readTime,e.documentKey,t)}const GL={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class $s{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new $s(e,$s.DEFAULT_COLLECTION_PERCENTILE,$s.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function qL(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),a=[],c=IDBKeyRange.only(t.batchId);let h=0;const _=r.X({range:c},(D,x,F)=>(h++,F.delete()));a.push(_.next(()=>{Tt(1===h)}));const b=[];for(const D of t.mutations){const x=_1(e,D.key.path,t.batchId);a.push(i.delete(x)),b.push(D.key)}return ge.waitFor(a).next(()=>b)}function xD(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw yt();e=n.noDocument}return JSON.stringify(e).length}$s.DEFAULT_COLLECTION_PERCENTILE=10,$s.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$s.DEFAULT=new $s(41943040,$s.DEFAULT_COLLECTION_PERCENTILE,$s.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$s.DISABLED=new $s(-1,0,0);class RD{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.bn={}}static fe(e,t,r,i){Tt(""!==e.uid);const a=e.isAuthenticated()?e.uid:"";return new RD(a,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Vh(e).X({index:"userMutationsIndex",range:r},(i,a,c)=>{t=!1,c.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const a=h_(e),c=Vh(e);return c.add({}).next(h=>{Tt("number"==typeof h);const _=new fx(h,t,r,i),b=function(F,j,ee){const de=ee.baseMutations.map(it=>PE(F.le,it)),Ae=ee.mutations.map(it=>PE(F.le,it));return{userId:j,batchId:ee.batchId,localWriteTimeMs:ee.localWriteTime.toMillis(),baseMutations:de,mutations:Ae}}(this.serializer,this.userId,_),D=[];let x=new Cr((F,j)=>sn(F.canonicalString(),j.canonicalString()));for(const F of i){const j=_1(this.userId,F.key.path,h);x=x.add(F.key.path.popLast()),D.push(c.put(b)),D.push(a.put(j,NH))}return x.forEach(F=>{D.push(this.indexManager.addToCollectionParentIndex(e,F))}),e.addOnCommittedListener(()=>{this.bn[h]=_.keys()}),ge.waitFor(D).next(()=>_)})}lookupMutationBatch(e,t){return Vh(e).get(t).next(r=>r?(Tt(r.userId===this.userId),Hp(this.serializer,r)):null)}Vn(e,t){return this.bn[t]?ge.resolve(this.bn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.bn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let a=null;return Vh(e).X({index:"userMutationsIndex",range:i},(c,h,_)=>{h.userId===this.userId&&(Tt(h.batchId>=r),a=Hp(this.serializer,h)),_.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Vh(e).X({index:"userMutationsIndex",range:t,reverse:!0},(i,a,c)=>{r=a.batchId,c.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Vh(e).j("userMutationsIndex",t).next(r=>r.map(i=>Hp(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=cD(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return h_(e).X({range:i},(c,h,_)=>{const[b,D,x]=c,F=Kc(D);if(b===this.userId&&t.path.isEqual(F))return Vh(e).get(x).next(j=>{if(!j)throw yt();Tt(j.userId===this.userId),a.push(Hp(this.serializer,j))});_.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Cr(sn);const i=[];return t.forEach(a=>{const c=cD(this.userId,a.path),h=IDBKeyRange.lowerBound(c),_=h_(e).X({range:h},(b,D,x)=>{const[F,j,ee]=b,de=Kc(j);F===this.userId&&a.path.isEqual(de)?r=r.add(ee):x.done()});i.push(_)}),ge.waitFor(i).next(()=>this.Sn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,a=cD(this.userId,r),c=IDBKeyRange.lowerBound(a);let h=new Cr(sn);return h_(e).X({range:c},(_,b,D)=>{const[x,F,j]=_,ee=Kc(F);x===this.userId&&r.isPrefixOf(ee)?ee.length===i&&(h=h.add(j)):D.done()}).next(()=>this.Sn(e,h))}Sn(e,t){const r=[],i=[];return t.forEach(a=>{i.push(Vh(e).get(a).next(c=>{if(null===c)throw yt();Tt(c.userId===this.userId),r.push(Hp(this.serializer,c))}))}),ge.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return qL(e.at,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.Dn(t.batchId)}),ge.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Dn(e){delete this.bn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ge.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return h_(e).X({range:r},(a,c,h)=>{if(a[0]===this.userId){const _=Kc(a[1]);i.push(_)}else h.done()}).next(()=>{Tt(0===i.length)})})}containsKey(e,t){return WL(e,this.userId,t)}Cn(e){return KL(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function WL(n,e,t){const r=cD(e,t.path),i=r[1],a=IDBKeyRange.lowerBound(r);let c=!1;return h_(n).X({range:a,Y:!0},(h,_,b)=>{const[D,x,F]=h;D===e&&x===i&&(c=!0),b.done()}).next(()=>c)}function Vh(n){return Zi(n,"mutations")}function h_(n){return Zi(n,"documentMutations")}function KL(n){return Zi(n,"mutationQueues")}class Gp{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static Nn(){return new Gp(0)}static kn(){return new Gp(-1)}}class Zz{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Mn(e).next(t=>{const r=new Gp(t.highestTargetId);return t.highestTargetId=r.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Mn(e).next(t=>xt.fromTimestamp(new Pr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Mn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Mn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.On(e,i)))}addTargetData(e,t){return this.$n(e,t).next(()=>this.Mn(e).next(r=>(r.targetCount+=1,this.Fn(t,r),this.On(e,r))))}updateTargetData(e,t){return this.$n(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>f_(e).delete(t.targetId)).next(()=>this.Mn(e)).next(r=>(Tt(r.targetCount>0),r.targetCount-=1,this.On(e,r)))}removeTargets(e,t,r){let i=0;const a=[];return f_(e).X((c,h)=>{const _=NE(h);_.sequenceNumber<=t&&null===r.get(_.targetId)&&(i++,a.push(this.removeTargetData(e,_)))}).next(()=>ge.waitFor(a)).next(()=>i)}forEachTarget(e,t){return f_(e).X((r,i)=>{const a=NE(i);t(a)})}Mn(e){return ZL(e).get("targetGlobalKey").next(t=>(Tt(null!==t),t))}On(e,t){return ZL(e).put("targetGlobalKey",t)}$n(e,t){return f_(e).put(kL(this.serializer,t))}Fn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Mn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Fp(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let a=null;return f_(e).X({range:i,index:"queryTargetsIndex"},(c,h,_)=>{const b=NE(h);wE(t,b.target)&&(a=b,_.done())}).next(()=>a)}addMatchingKeys(e,t,r){const i=[],a=Uh(e);return t.forEach(c=>{const h=zs(c.path);i.push(a.put({targetId:r,path:h})),i.push(this.referenceDelegate.addReference(e,r,c))}),ge.waitFor(i)}removeMatchingKeys(e,t,r){const i=Uh(e);return ge.forEach(t,a=>{const c=zs(a.path);return ge.waitFor([i.delete([r,c]),this.referenceDelegate.removeReference(e,r,a)])})}removeMatchingKeysForTargetId(e,t){const r=Uh(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Uh(e);let a=pn();return i.X({range:r,Y:!0},(c,h,_)=>{const b=Kc(c[1]),D=new at(b);a=a.add(D)}).next(()=>a)}containsKey(e,t){const r=zs(t.path),i=IDBKeyRange.bound([r],[l1(r)],!1,!0);let a=0;return Uh(e).X({index:"documentTargetsIndex",Y:!0,range:i},([c,h],_,b)=>{0!==c&&(a++,b.done())}).next(()=>a>0)}he(e,t){return f_(e).get(t).next(r=>r?NE(r):null)}}function f_(n){return Zi(n,"targets")}function ZL(n){return Zi(n,"targetGlobal")}function Uh(n){return Zi(n,"targetDocuments")}function YL([n,e],[t,r]){const i=sn(n,t);return 0===i?sn(e,r):i}class Yz{constructor(e){this.Bn=e,this.buffer=new Cr(YL),this.Ln=0}qn(){return++this.Ln}Un(e){const t=[e,this.qn()];if(this.buffer.size<this.Bn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();YL(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class QL{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Kn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Kn&&(this.Kn.cancel(),this.Kn=null)}get started(){return null!==this.Kn}Gn(e){var t=this;We("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Kn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Ne.Z)(function*(){t.Kn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){Mh(r)?We("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Ah(r)}yield t.Gn(3e5)}))}}class Qz{constructor(e,t){this.Qn=e,this.params=t}calculateTargetCount(e,t){return this.Qn.jn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return ge.resolve(ma.ct);const r=new Yz(t);return this.Qn.forEachTarget(e,i=>r.Un(i.sequenceNumber)).next(()=>this.Qn.zn(e,i=>r.Un(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Qn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Qn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(We("LruGarbageCollector","Garbage collection skipped; disabled"),ge.resolve(GL)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(We("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),GL):this.Wn(e,t))}getCacheSize(e){return this.Qn.getCacheSize(e)}Wn(e,t){let r,i,a,c,h,_,b;const D=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(x=>(x>this.params.maximumSequenceNumbersToCollect?(We("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),i=this.params.maximumSequenceNumbersToCollect):i=x,c=Date.now(),this.nthSequenceNumber(e,i))).next(x=>(r=x,h=Date.now(),this.removeTargets(e,r,t))).next(x=>(a=x,_=Date.now(),this.removeOrphanedDocuments(e,r))).next(x=>(b=Date.now(),KM()<=Dh.in.DEBUG&&We("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-D}ms\n\tDetermined least recently used ${i} in `+(h-c)+`ms\n\tRemoved ${a} targets in `+(_-h)+`ms\n\tRemoved ${x} documents in `+(b-_)+`ms\nTotal Duration: ${b-D}ms`),ge.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:x})))}}class Xz{constructor(e,t){this.db=e,this.garbageCollector=function XL(n,e){return new Qz(n,e)}(this,t)}jn(e){const t=this.Hn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Hn(e){let t=0;return this.zn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}zn(e,t){return this.Jn(e,(r,i)=>t(i))}addReference(e,t,r){return OD(e,r)}removeReference(e,t,r){return OD(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return OD(e,t)}Yn(e,t){return function(r,i){let a=!1;return KL(r).Z(c=>WL(r,c,i).next(h=>(h&&(a=!0),ge.resolve(!h)))).next(()=>a)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let a=0;return this.Jn(e,(c,h)=>{if(h<=t){const _=this.Yn(e,c).next(b=>{if(!b)return a++,r.getEntry(e,c).next(()=>(r.removeEntry(c,xt.min()),Uh(e).delete([0,zs(c.path)])))});i.push(_)}}).next(()=>ge.waitFor(i)).next(()=>r.apply(e)).next(()=>a)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return OD(e,t)}Jn(e,t){const r=Uh(e);let i,a=ma.ct;return r.X({index:"documentTargetsIndex"},([c,h],{path:_,sequenceNumber:b})=>{0===c?(a!==ma.ct&&t(new at(Kc(i)),a),a=b,i=_):a=ma.ct}).next(()=>{a!==ma.ct&&t(new at(Kc(i)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function OD(n,e){return Uh(n).put((r=n.currentSequenceNumber,{targetId:0,path:zs(e.path),sequenceNumber:r}));var r}class JL{constructor(){this.changes=new Ju(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Dr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?ge.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Jz{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return qp(e).put(r)}removeEntry(e,t,r){return qp(e).delete(function(i,a){const c=i.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],ID(a),c[c.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Xn(e,r)))}getEntry(e,t){let r=Dr.newInvalidDocument(t);return qp(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(UE(t))},(i,a)=>{r=this.Zn(t,a)}).next(()=>r)}ts(e,t){let r={size:0,document:Dr.newInvalidDocument(t)};return qp(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(UE(t))},(i,a)=>{r={document:this.Zn(t,a),size:xD(a)}}).next(()=>r)}getEntries(e,t){let r=jo();return this.es(e,t,(i,a)=>{const c=this.Zn(i,a);r=r.insert(i,c)}).next(()=>r)}ns(e,t){let r=jo(),i=new mr(at.comparator);return this.es(e,t,(a,c)=>{const h=this.Zn(a,c);r=r.insert(a,h),i=i.insert(a,xD(c))}).next(()=>({documents:r,ss:i}))}es(e,t,r){if(t.isEmpty())return ge.resolve();let i=new Cr(r2);t.forEach(_=>i=i.add(_));const a=IDBKeyRange.bound(UE(i.first()),UE(i.last())),c=i.getIterator();let h=c.getNext();return qp(e).X({index:"documentKeyIndex",range:a},(_,b,D)=>{const x=at.fromSegments([...b.prefixPath,b.collectionGroup,b.documentId]);for(;h&&r2(h,x)<0;)r(h,null),h=c.getNext();h&&h.isEqual(x)&&(r(h,b),h=c.hasNext()?c.getNext():null),h?D.G(UE(h)):D.done()}).next(()=>{for(;h;)r(h,null),h=c.hasNext()?c.getNext():null})}getDocumentsMatchingQuery(e,t,r,i){const a=t.path,c=[a.popLast().toArray(),a.lastSegment(),ID(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],h=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return qp(e).j(IDBKeyRange.bound(c,h,!0)).next(_=>{let b=jo();for(const D of _){const x=this.Zn(at.fromSegments(D.prefixPath.concat(D.collectionGroup,D.documentId)),D);x.isFoundDocument()&&(DE(t,x)||i.has(x.key))&&(b=b.insert(x.key,x))}return b})}getAllFromCollectionGroup(e,t,r,i){let a=jo();const c=n2(t,r),h=n2(t,pa.max());return qp(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,h,!0)},(_,b,D)=>{const x=this.Zn(at.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);a=a.insert(x.key,x),a.size===i&&D.done()}).next(()=>a)}newChangeBuffer(e){return new e3(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return t2(e).get("remoteDocumentGlobalKey").next(t=>(Tt(!!t),t))}Xn(e,t){return t2(e).put("remoteDocumentGlobalKey",t)}Zn(e,t){if(t){const r=function Vz(n,e){let t;if(e.document)t=IL(n.le,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=at.fromSegments(e.noDocument.path),i=jp(e.noDocument.readTime);t=Dr.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return yt();{const r=at.fromSegments(e.unknownDocument.path),i=jp(e.unknownDocument.version);t=Dr.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new Pr(r[0],r[1]);return xt.fromTimestamp(i)}(e.readTime)),t}(this.serializer,t);if(!r.isNoDocument()||!r.version.isEqual(xt.min()))return r}return Dr.newInvalidDocument(e)}}function e2(n){return new Jz(n)}class e3 extends JL{constructor(e,t){super(),this.rs=e,this.trackRemovals=t,this.os=new Ju(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new Cr((a,c)=>sn(a.canonicalString(),c.canonicalString()));return this.changes.forEach((a,c)=>{const h=this.os.get(a);if(t.push(this.rs.removeEntry(e,a,h.readTime)),c.isValidDocument()){const _=OL(this.rs.serializer,c);i=i.add(a.path.popLast()),r+=xD(_)-h.size,t.push(this.rs.addEntry(e,a,_))}else if(r-=h.size,this.trackRemovals){const _=OL(this.rs.serializer,c.convertToNoDocument(xt.min()));t.push(this.rs.addEntry(e,a,_))}}),i.forEach(a=>{t.push(this.rs.indexManager.addToCollectionParentIndex(e,a))}),t.push(this.rs.updateMetadata(e,r)),ge.waitFor(t)}getFromCache(e,t){return this.rs.ts(e,t).next(r=>(this.os.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.rs.ns(e,t).next(({documents:r,ss:i})=>(i.forEach((a,c)=>{this.os.set(a,{size:c,readTime:r.get(a).readTime})}),r))}}function t2(n){return Zi(n,"remoteDocumentGlobal")}function qp(n){return Zi(n,"remoteDocumentsV14")}function UE(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function n2(n,e){const t=e.documentKey.path.toArray();return[n,ID(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function r2(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let a=0;a<t.length-2&&a<r.length-2;++a)if(i=sn(t[a],r[a]),i)return i;return i=sn(t.length,r.length),i||(i=sn(t[t.length-2],r[r.length-2]),i||sn(t[t.length-1],r[r.length-1]))}class t3{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class s2{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&AE(r.mutation,i,Uo.empty(),Pr.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,pn()).next(()=>r))}getLocalViewOfDocuments(e,t,r=pn()){const i=Yc();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(a=>{let c=IE();return a.forEach((h,_)=>{c=c.insert(h,_.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const r=Yc();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,pn()))}populateOverlays(e,t,r){const i=[];return r.forEach(a=>{t.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((c,h)=>{t.set(c,h)})})}computeViews(e,t,r,i){let a=jo();const c=TE(),h=TE();return t.forEach((_,b)=>{const D=r.get(b.key);i.has(b.key)&&(void 0===D||D.mutation instanceof ed)?a=a.insert(b.key,b):void 0!==D?(c.set(b.key,D.mutation.getFieldMask()),AE(D.mutation,b,D.mutation.getFieldMask(),Pr.now())):c.set(b.key,Uo.empty())}),this.recalculateAndSaveOverlays(e,a).next(_=>(_.forEach((b,D)=>c.set(b,D)),t.forEach((b,D)=>{var x;return h.set(b,new t3(D,null!==(x=c.get(b))&&void 0!==x?x:null))}),h))}recalculateAndSaveOverlays(e,t){const r=TE();let i=new mr((c,h)=>c-h),a=pn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const h of c)h.keys().forEach(_=>{const b=t.get(_);if(null===b)return;let D=r.get(_)||Uo.empty();D=h.applyToLocalView(b,D),r.set(_,D);const x=(i.get(h.batchId)||pn()).add(_);i=i.insert(h.batchId,x)})}).next(()=>{const c=[],h=i.getReverseIterator();for(;h.hasNext();){const _=h.getNext(),b=_.key,D=_.value,x=Y1();D.forEach(F=>{if(!a.has(F)){const j=sL(t.get(F),r.get(F));null!==j&&x.set(F,j),a=a.add(F)}}),c.push(this.documentOverlayCache.saveOverlays(e,b,x))}return ge.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return at.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):lx(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(a=>{const c=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-a.size):ge.resolve(Yc());let h=-1,_=a;return c.next(b=>ge.forEach(b,(D,x)=>(h<x.largestBatchId&&(h=x.largestBatchId),a.get(D)?ge.resolve():this.remoteDocumentCache.getEntry(e,D).next(F=>{_=_.insert(D,F)}))).next(()=>this.populateOverlays(e,b,a)).next(()=>this.computeViews(e,_,b,pn())).next(D=>({batchId:h,changes:Z1(D)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new at(t)).next(r=>{let i=IE();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let a=IE();return this.indexManager.getCollectionParents(e,i).next(c=>ge.forEach(c,h=>{const _=(b=t,D=h.child(i),new Xu(D,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt));var b,D;return this.getDocumentsMatchingCollectionQuery(e,_,r).next(b=>{b.forEach((D,x)=>{a=a.insert(D,x)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i))).next(a=>{i.forEach((h,_)=>{const b=_.getKey();null===a.get(b)&&(a=a.insert(b,Dr.newInvalidDocument(b)))});let c=IE();return a.forEach((h,_)=>{const b=i.get(h);void 0!==b&&AE(b.mutation,_,Uo.empty(),Pr.now()),DE(t,_)&&(c=c.insert(h,_))}),c})}}class n3{constructor(e){this.serializer=e,this.us=new Map,this.cs=new Map}getBundleMetadata(e,t){return ge.resolve(this.us.get(t))}saveBundleMetadata(e,t){var r;return this.us.set(t.id,{id:(r=t).id,version:r.version,createTime:di(r.createTime)}),ge.resolve()}getNamedQuery(e,t){return ge.resolve(this.cs.get(t))}saveNamedQuery(e,t){return this.cs.set(t.name,{name:(r=t).name,query:Cx(r.bundledQuery),readTime:di(r.readTime)}),ge.resolve();var r}}class r3{constructor(){this.overlays=new mr(at.comparator),this.hs=new Map}getOverlay(e,t){return ge.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Yc();return ge.forEach(t,i=>this.getOverlay(e,i).next(a=>{null!==a&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,a)=>{this.de(e,t,a)}),ge.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.hs.get(r);return void 0!==i&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.hs.delete(r)),ge.resolve()}getOverlaysForCollection(e,t,r){const i=Yc(),a=t.length+1,c=new at(t.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const _=h.getNext().value,b=_.getKey();if(!t.isPrefixOf(b.path))break;b.path.length===a&&_.largestBatchId>r&&i.set(_.getKey(),_)}return ge.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new mr((b,D)=>b-D);const c=this.overlays.getIterator();for(;c.hasNext();){const b=c.getNext().value;if(b.getKey().getCollectionGroup()===t&&b.largestBatchId>r){let D=a.get(b.largestBatchId);null===D&&(D=Yc(),a=a.insert(b.largestBatchId,D)),D.set(b.getKey(),b)}}const h=Yc(),_=a.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((b,D)=>h.set(b,D)),!(h.size()>=i)););return ge.resolve(h)}de(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const c=this.hs.get(i.largestBatchId).delete(r.key);this.hs.set(i.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new mx(t,r));let a=this.hs.get(t);void 0===a&&(a=pn(),this.hs.set(t,a)),this.hs.set(t,a.add(r.key))}}class xx{constructor(){this.ls=new Cr(Yi.fs),this.ds=new Cr(Yi._s)}isEmpty(){return this.ls.isEmpty()}addReference(e,t){const r=new Yi(e,t);this.ls=this.ls.add(r),this.ds=this.ds.add(r)}ws(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.gs(new Yi(e,t))}ys(e,t){e.forEach(r=>this.removeReference(r,t))}ps(e){const t=new at(new xn([])),r=new Yi(t,e),i=new Yi(t,e+1),a=[];return this.ds.forEachInRange([r,i],c=>{this.gs(c),a.push(c.key)}),a}Is(){this.ls.forEach(e=>this.gs(e))}gs(e){this.ls=this.ls.delete(e),this.ds=this.ds.delete(e)}Ts(e){const t=new at(new xn([])),r=new Yi(t,e),i=new Yi(t,e+1);let a=pn();return this.ds.forEachInRange([r,i],c=>{a=a.add(c.key)}),a}containsKey(e){const t=new Yi(e,0),r=this.ls.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Yi{constructor(e,t){this.key=e,this.Es=t}static fs(e,t){return at.comparator(e.key,t.key)||sn(e.Es,t.Es)}static _s(e,t){return sn(e.Es,t.Es)||at.comparator(e.key,t.key)}}class s3{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.As=1,this.Rs=new Cr(Yi.fs)}checkEmpty(e){return ge.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const a=this.As;this.As++;const c=new fx(a,t,r,i);this.mutationQueue.push(c);for(const h of i)this.Rs=this.Rs.add(new Yi(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return ge.resolve(c)}lookupMutationBatch(e,t){return ge.resolve(this.vs(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.Ps(t+1),a=i<0?0:i;return ge.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ge.resolve(0===this.mutationQueue.length?-1:this.As-1)}getAllMutationBatches(e){return ge.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Yi(t,0),i=new Yi(t,Number.POSITIVE_INFINITY),a=[];return this.Rs.forEachInRange([r,i],c=>{const h=this.vs(c.Es);a.push(h)}),ge.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Cr(sn);return t.forEach(i=>{const a=new Yi(i,0),c=new Yi(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([a,c],h=>{r=r.add(h.Es)})}),ge.resolve(this.bs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;at.isDocumentKey(a)||(a=a.child(""));const c=new Yi(new at(a),0);let h=new Cr(sn);return this.Rs.forEachWhile(_=>{const b=_.key.path;return!!r.isPrefixOf(b)&&(b.length===i&&(h=h.add(_.Es)),!0)},c),ge.resolve(this.bs(h))}bs(e){const t=[];return e.forEach(r=>{const i=this.vs(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){Tt(0===this.Vs(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return ge.forEach(t.mutations,i=>{const a=new Yi(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Dn(e){}containsKey(e,t){const r=new Yi(t,0),i=this.Rs.firstAfterOrEqual(r);return ge.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return ge.resolve()}Vs(e,t){return this.Ps(e)}Ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}vs(e){const t=this.Ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class o3{constructor(e){this.Ss=e,this.docs=new mr(at.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,c=this.Ss(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ge.resolve(r?r.document.mutableCopy():Dr.newInvalidDocument(t))}getEntries(e,t){let r=jo();return t.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Dr.newInvalidDocument(i))}),ge.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let a=jo();const c=t.path,h=new at(c.child("")),_=this.docs.getIteratorFrom(h);for(;_.hasNext();){const{key:b,value:{document:D}}=_.getNext();if(!c.isPrefixOf(b.path))break;b.path.length>c.length+1||QM(u1(D),r)<=0||(i.has(D.key)||DE(t,D))&&(a=a.insert(D.key,D.mutableCopy()))}return ge.resolve(a)}getAllFromCollectionGroup(e,t,r,i){yt()}Ds(e,t){return ge.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new a3(this)}getSize(e){return ge.resolve(this.size)}}class a3 extends JL{constructor(e){super(),this.rs=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.rs.addEntry(e,i)):this.rs.removeEntry(r)}),ge.waitFor(t)}getFromCache(e,t){return this.rs.getEntry(e,t)}getAllFromCache(e,t){return this.rs.getEntries(e,t)}}class l3{constructor(e){this.persistence=e,this.Cs=new Ju(t=>Fp(t),wE),this.lastRemoteSnapshotVersion=xt.min(),this.highestTargetId=0,this.xs=0,this.Ns=new xx,this.targetCount=0,this.ks=Gp.Nn()}forEachTarget(e,t){return this.Cs.forEach((r,i)=>t(i)),ge.resolve()}getLastRemoteSnapshotVersion(e){return ge.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ge.resolve(this.xs)}allocateTargetId(e){return this.highestTargetId=this.ks.next(),ge.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.xs&&(this.xs=t),ge.resolve()}$n(e){this.Cs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ks=new Gp(t),this.highestTargetId=t),e.sequenceNumber>this.xs&&(this.xs=e.sequenceNumber)}addTargetData(e,t){return this.$n(t),this.targetCount+=1,ge.resolve()}updateTargetData(e,t){return this.$n(t),ge.resolve()}removeTargetData(e,t){return this.Cs.delete(t.target),this.Ns.ps(t.targetId),this.targetCount-=1,ge.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.Cs.forEach((c,h)=>{h.sequenceNumber<=t&&null===r.get(h.targetId)&&(this.Cs.delete(c),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),i++)}),ge.waitFor(a).next(()=>i)}getTargetCount(e){return ge.resolve(this.targetCount)}getTargetData(e,t){const r=this.Cs.get(t)||null;return ge.resolve(r)}addMatchingKeys(e,t,r){return this.Ns.ws(t,r),ge.resolve()}removeMatchingKeys(e,t,r){this.Ns.ys(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(c=>{a.push(i.markPotentiallyOrphaned(e,c))}),ge.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Ns.ps(t),ge.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ns.Ts(t);return ge.resolve(r)}containsKey(e,t){return ge.resolve(this.Ns.containsKey(t))}}class Rx{constructor(e,t){this.Ms={},this.overlays={},this.Os=new ma(0),this.$s=!1,this.$s=!0,this.referenceDelegate=e(this),this.Fs=new l3(this),this.indexManager=new Wz,this.remoteDocumentCache=new o3(r=>this.referenceDelegate.Bs(r)),this.serializer=new RL(t),this.Ls=new n3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.$s=!1,Promise.resolve()}get started(){return this.$s}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new r3,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Ms[e.toKey()];return r||(r=new s3(t,this.referenceDelegate),this.Ms[e.toKey()]=r),r}getTargetCache(){return this.Fs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ls}runTransaction(e,t,r){We("MemoryPersistence","Starting transaction:",e);const i=new c3(this.Os.next());return this.referenceDelegate.qs(),r(i).next(a=>this.referenceDelegate.Us(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ks(e,t){return ge.or(Object.values(this.Ms).map(r=>()=>r.containsKey(e,t)))}}class c3 extends h1{constructor(e){super(),this.currentSequenceNumber=e}}class kD{constructor(e){this.persistence=e,this.Gs=new xx,this.Qs=null}static js(e){return new kD(e)}get zs(){if(this.Qs)return this.Qs;throw yt()}addReference(e,t,r){return this.Gs.addReference(r,t),this.zs.delete(r.toString()),ge.resolve()}removeReference(e,t,r){return this.Gs.removeReference(r,t),this.zs.add(r.toString()),ge.resolve()}markPotentiallyOrphaned(e,t){return this.zs.add(t.toString()),ge.resolve()}removeTarget(e,t){this.Gs.ps(t.targetId).forEach(i=>this.zs.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.zs.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}qs(){this.Qs=new Set}Us(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ge.forEach(this.zs,r=>{const i=at.fromPath(r);return this.Ws(e,i).next(a=>{a||t.removeEntry(i,xt.min())})}).next(()=>(this.Qs=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ws(e,t).next(r=>{r?this.zs.delete(t.toString()):this.zs.add(t.toString())})}Bs(e){return 0}Ws(e,t){return ge.or([()=>ge.resolve(this.Gs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ks(e,t)])}}class u3{constructor(e){this.serializer=e}$(e,t,r,i){const a=new lD("createOrUpgrade",t);var h;r<1&&i>=1&&(e.createObjectStore("owner"),(h=e).createObjectStore("mutationQueues",{keyPath:"userId"}),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",g1,{unique:!0}),h.createObjectStore("documentMutations"),o2(e),function(h){h.createObjectStore("remoteDocuments")}(e));let c=ge.resolve();return r<3&&i>=3&&(0!==r&&(function(h){h.deleteObjectStore("targetDocuments"),h.deleteObjectStore("targets"),h.deleteObjectStore("targetGlobal")}(e),o2(e)),c=c.next(()=>function(h){const _=h.store("targetGlobal"),b={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:xt.min().toTimestamp(),targetCount:0};return _.put("targetGlobalKey",b)}(a))),r<4&&i>=4&&(0!==r&&(c=c.next(()=>function(h,_){return _.store("mutations").j().next(b=>{h.deleteObjectStore("mutations"),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",g1,{unique:!0});const D=_.store("mutations"),x=b.map(F=>D.put(F));return ge.waitFor(x)})}(e,a))),c=c.next(()=>{!function(h){h.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(c=c.next(()=>this.Js(a))),r<6&&i>=6&&(c=c.next(()=>(function(h){h.createObjectStore("remoteDocumentGlobal")}(e),this.Ys(a)))),r<7&&i>=7&&(c=c.next(()=>this.Xs(a))),r<8&&i>=8&&(c=c.next(()=>this.Zs(e,a))),r<9&&i>=9&&(c=c.next(()=>{!function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(c=c.next(()=>this.ti(a))),r<11&&i>=11&&(c=c.next(()=>{(function(h){h.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(h){h.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(c=c.next(()=>{!function(h){const _=h.createObjectStore("documentOverlays",{keyPath:WH});_.createIndex("collectionPathOverlayIndex",KH,{unique:!1}),_.createIndex("collectionGroupOverlayIndex",ZH,{unique:!1})}(e)})),r<13&&i>=13&&(c=c.next(()=>function(h){const _=h.createObjectStore("remoteDocumentsV14",{keyPath:FH});_.createIndex("documentKeyIndex",LH),_.createIndex("collectionGroupIndex",BH)}(e)).next(()=>this.ei(e,a)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(c=c.next(()=>this.ni(e,a))),r<15&&i>=15&&(c=c.next(()=>function(h){h.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),h.createObjectStore("indexState",{keyPath:zH}).createIndex("sequenceNumberIndex",$H,{unique:!1}),h.createObjectStore("indexEntries",{keyPath:GH}).createIndex("documentKeyIndex",qH,{unique:!1})}(e))),c}Ys(e){let t=0;return e.store("remoteDocuments").X((r,i)=>{t+=xD(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Js(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.j().next(i=>ge.forEach(i,a=>{const c=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",c).next(h=>ge.forEach(h,_=>{Tt(_.userId===a.userId);const b=Hp(this.serializer,_);return qL(e,a.userId,b).next(()=>{})}))}))}Xs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const a=[];return r.X((c,h)=>{const _=new xn(c),b=[0,zs(_)];a.push(t.get(b).next(D=>D?ge.resolve():t.put({targetId:0,path:zs(_),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>ge.waitFor(a))})}Zs(e,t){e.createObjectStore("collectionParents",{keyPath:HH});const r=t.store("collectionParents"),i=new Mx,a=c=>{if(i.add(c)){const h=c.lastSegment(),_=c.popLast();return r.put({collectionId:h,parent:zs(_)})}};return t.store("remoteDocuments").X({Y:!0},(c,h)=>{const _=new xn(c);return a(_.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([c,h,_],b)=>{const D=Kc(h);return a(D.popLast())}))}ti(e){const t=e.store("targets");return t.X((r,i)=>{const a=NE(i),c=kL(this.serializer,a);return t.put(c)})}ei(e,t){const r=t.store("remoteDocuments"),i=[];return r.X((a,c)=>{const h=t.store("remoteDocumentsV14"),_=(b=c,b.document?new at(xn.fromString(b.document.name).popFirst(5)):b.noDocument?at.fromSegments(b.noDocument.path):b.unknownDocument?at.fromSegments(b.unknownDocument.path):yt()).path.toArray();var b;const D={prefixPath:_.slice(0,_.length-2),collectionGroup:_[_.length-2],documentId:_[_.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};i.push(h.put(D))}).next(()=>ge.waitFor(i))}ni(e,t){const r=t.store("mutations"),i=e2(this.serializer),a=new Rx(kD.js,this.serializer.le);return r.j().next(c=>{const h=new Map;return c.forEach(_=>{var b;let D=null!==(b=h.get(_.userId))&&void 0!==b?b:pn();Hp(this.serializer,_).keys().forEach(x=>D=D.add(x)),h.set(_.userId,D)}),ge.forEach(h,(_,b)=>{const D=new Ki(b),x=TD.fe(this.serializer,D),F=a.getIndexManager(D),j=RD.fe(D,this.serializer,F,a.referenceDelegate);return new s2(i,j,x,F).recalculateAndSaveOverlaysForDocumentKeys(new ex(t,ma.ct),_).next()})})}}function o2(n){n.createObjectStore("targetDocuments",{keyPath:UH}).createIndex("documentTargetsIndex",jH,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",VH,{unique:!0}),n.createObjectStore("targetGlobal")}const Ox="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class kx{constructor(e,t,r,i,a,c,h,_,b,D,x=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.si=a,this.window=c,this.document=h,this.ii=b,this.ri=D,this.oi=x,this.Os=null,this.$s=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.ai=null,this.hi=Number.NEGATIVE_INFINITY,this.li=F=>Promise.resolve(),!kx.D())throw new $e(Te.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Xz(this,i),this.fi=t+"main",this.serializer=new RL(_),this.di=new Vl(this.fi,this.oi,new u3(this.serializer)),this.Fs=new Zz(this.referenceDelegate,this.serializer),this.remoteDocumentCache=e2(this.serializer),this.Ls=new Uz,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===D&&ui("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.wi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new $e(Te.FAILED_PRECONDITION,Ox);return this.mi(),this.gi(),this.yi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Fs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new ma(e,this.ii)}).then(()=>{this.$s=!0}).catch(e=>(this.di&&this.di.close(),Promise.reject(e)))}pi(e){var t=this;return this.li=function(){var r=(0,Ne.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.di.B(function(){var t=(0,Ne.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget((0,Ne.Z)(function*(){t.started&&(yield t.wi())})))}wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>ND(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ii(e).next(t=>{t||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.li(!1)))})}).next(()=>this.Ti(e)).next(t=>this.isPrimary&&!t?this.Ei(e).next(()=>!1):!!t&&this.Ai(e).next(()=>!0))).catch(e=>{if(Mh(e))return We("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return We("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.si.enqueueRetryable(()=>this.li(e)),this.isPrimary=e})}Ii(e){return jE(e).get("owner").next(t=>ge.resolve(this.Ri(t)))}vi(e){return ND(e).delete(this.clientId)}Pi(){var e=this;return(0,Ne.Z)(function*(){if(e.isPrimary&&!e.bi(e.hi,18e5)){e.hi=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=Zi(r,"clientMetadata");return i.j().next(a=>{const c=e.Vi(a,18e5),h=a.filter(_=>-1===c.indexOf(_));return ge.forEach(h,_=>i.delete(_.clientId)).next(()=>h)})}).catch(()=>[]);if(e._i)for(const r of t)e._i.removeItem(e.Si(r.clientId))}})()}yi(){this.ai=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.wi().then(()=>this.Pi()).then(()=>this.yi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ti(e){return this.ri?ge.resolve(!0):jE(e).get("owner").next(t=>{if(null!==t&&this.bi(t.leaseTimestampMs,5e3)&&!this.Di(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new $e(Te.FAILED_PRECONDITION,Ox);return!1}}return!(!this.networkEnabled||!this.inForeground)||ND(e).j().next(r=>void 0===this.Vi(r,5e3).find(i=>{if(this.clientId!==i.clientId){const c=!this.inForeground&&i.inForeground,h=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||c&&h)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&We("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Ne.Z)(function*(){e.$s=!1,e.Ci(),e.ai&&(e.ai.cancel(),e.ai=null),e.xi(),e.Ni(),yield e.di.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new ex(t,ma.ct);return e.Ei(r).next(()=>e.vi(r))}),e.di.close(),e.ki()})()}Vi(e,t){return e.filter(r=>this.bi(r.updateTimeMs,t)&&!this.Di(r.clientId))}Mi(){return this.runTransaction("getActiveClients","readonly",e=>ND(e).j().next(t=>this.Vi(t,18e5).map(r=>r.clientId)))}get started(){return this.$s}getMutationQueue(e,t){return RD.fe(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Fs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Kz(e,this.serializer.le.databaseId)}getDocumentOverlayCache(e){return TD.fe(this.serializer,e)}getBundleCache(){return this.Ls}runTransaction(e,t,r){We("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",a=15===(c=this.oi)?QH:14===c?E1:13===c?v1:12===c?YH:11===c?y1:void yt();var c;let h;return this.di.runTransaction(e,i,a,_=>(h=new ex(_,this.Os?this.Os.next():ma.ct),"readwrite-primary"===t?this.Ii(h).next(b=>!!b||this.Ti(h)).next(b=>{if(!b)throw ui(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.li(!1)),new $e(Te.FAILED_PRECONDITION,d1);return r(h)}).next(b=>this.Ai(h).next(()=>b)):this.Oi(h).next(()=>r(h)))).then(_=>(h.raiseOnCommittedEvent(),_))}Oi(e){return jE(e).get("owner").next(t=>{if(null!==t&&this.bi(t.leaseTimestampMs,5e3)&&!this.Di(t.ownerId)&&!this.Ri(t)&&!(this.ri||this.allowTabSynchronization&&t.allowTabSynchronization))throw new $e(Te.FAILED_PRECONDITION,Ox)})}Ai(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return jE(e).put("owner",t)}static D(){return Vl.D()}Ei(e){const t=jE(e);return t.get("owner").next(r=>this.Ri(r)?(We("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ge.resolve())}bi(e,t){const r=Date.now();return!(e<r-t||e>r&&(ui(`Detected an update time that is in the future: ${e} > ${r}`),1))}mi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.wi()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}gi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=()=>{this.Ci();const t=/(?:Version|Mobile)\/1[456]/;(0,Fn.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Ni(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Di(e){var t;try{const r=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Si(e)));return We("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return ui("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ci(){if(this._i)try{this._i.setItem(this.Si(this.clientId),String(Date.now()))}catch(e){ui("Failed to set zombie client id.",e)}}ki(){if(this._i)try{this._i.removeItem(this.Si(this.clientId))}catch(e){}}Si(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function jE(n){return Zi(n,"owner")}function ND(n){return Zi(n,"clientMetadata")}function Px(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class Nx{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.$i=r,this.Fi=i}static Bi(e,t){let r=pn(),i=pn();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new Nx(e,t.fromCache,r,i)}}class a2{constructor(){this.Li=!1}initialize(e,t){this.qi=e,this.indexManager=t,this.Li=!0}getDocumentsMatchingQuery(e,t,r,i){return this.Ui(e,t).next(a=>a||this.Ki(e,t,i,r)).next(a=>a||this.Gi(e,t))}Ui(e,t){if($1(t))return ge.resolve(null);let r=uo(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=vD(t,null,"F"),r=uo(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const c=pn(...a);return this.qi.getDocuments(e,c).next(h=>this.indexManager.getMinOffset(e,r).next(_=>{const b=this.Qi(t,h);return this.ji(t,b,c,_.readTime)?this.Ui(e,vD(t,null,"F")):this.zi(e,b,t,_)}))})))}Ki(e,t,r,i){return $1(t)||i.isEqual(xt.min())?this.Gi(e,t):this.qi.getDocuments(e,r).next(a=>{const c=this.Qi(t,a);return this.ji(t,c,r,i)?this.Gi(e,t):(KM()<=Dh.in.DEBUG&&We("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ux(t)),this.zi(e,c,t,c1(i,-1)))})}Qi(e,t){let r=new Cr(W1(e));return t.forEach((i,a)=>{DE(e,a)&&(r=r.add(a))}),r}ji(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Gi(e,t){return KM()<=Dh.in.DEBUG&&We("QueryEngine","Using full collection scan to execute query:",ux(t)),this.qi.getDocumentsMatchingQuery(e,t,pa.min())}zi(e,t,r,i){return this.qi.getDocumentsMatchingQuery(e,r,i).next(a=>(t.forEach(c=>{a=a.insert(c.key,c)}),a))}}class d3{constructor(e,t,r,i){this.persistence=e,this.Wi=t,this.serializer=i,this.Hi=new mr(sn),this.Ji=new Ju(a=>Fp(a),wE),this.Yi=new Map,this.Xi=e.getRemoteDocumentCache(),this.Fs=e.getTargetCache(),this.Ls=e.getBundleCache(),this.Zi(r)}Zi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new s2(this.Xi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Xi.setIndexManager(this.indexManager),this.Wi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Hi))}}function l2(n,e,t,r){return new d3(n,e,t,r)}function c2(n,e){return Fx.apply(this,arguments)}function Fx(){return Fx=(0,Ne.Z)(function*(n,e){const t=lt(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,t.Zi(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const c=[],h=[];let _=pn();for(const b of i){c.push(b.batchId);for(const D of b.mutations)_=_.add(D.key)}for(const b of a){h.push(b.batchId);for(const D of b.mutations)_=_.add(D.key)}return t.localDocuments.getDocuments(r,_).next(b=>({tr:b,removedBatchIds:c,addedBatchIds:h}))})})}),Fx.apply(this,arguments)}function h3(n,e){const t=lt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=t.Xi.newChangeBuffer({trackRemovals:!0});return function(c,h,_,b){const D=_.batch,x=D.keys();let F=ge.resolve();return x.forEach(j=>{F=F.next(()=>b.getEntry(h,j)).next(ee=>{const de=_.docVersions.get(j);Tt(null!==de),ee.version.compareTo(de)<0&&(D.applyToRemoteDocument(ee,_),ee.isValidDocument()&&(ee.setReadTime(_.commitVersion),b.addEntry(ee)))})}),F.next(()=>c.mutationQueue.removeMutationBatch(h,D))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let h=pn();for(let _=0;_<c.mutationResults.length;++_)c.mutationResults[_].transformResults.length>0&&(h=h.add(c.batch.mutations[_].key));return h}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function u2(n){const e=lt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Fs.getLastRemoteSnapshotVersion(t))}function f3(n,e){const t=lt(n),r=e.snapshotVersion;let i=t.Hi;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const c=t.Xi.newChangeBuffer({trackRemovals:!0});i=t.Hi;const h=[];e.targetChanges.forEach((D,x)=>{const F=i.get(x);if(!F)return;h.push(t.Fs.removeMatchingKeys(a,D.removedDocuments,x).next(()=>t.Fs.addMatchingKeys(a,D.addedDocuments,x)));let j=F.withSequenceNumber(a.currentSequenceNumber);var ee,de,Ae;null!==e.targetMismatches.get(x)?j=j.withResumeToken(Fi.EMPTY_BYTE_STRING,xt.min()).withLastLimboFreeSnapshotVersion(xt.min()):D.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(D.resumeToken,r)),i=i.insert(x,j),de=j,Ae=D,(0===(ee=F).resumeToken.approximateByteSize()||de.snapshotVersion.toMicroseconds()-ee.snapshotVersion.toMicroseconds()>=3e8||Ae.addedDocuments.size+Ae.modifiedDocuments.size+Ae.removedDocuments.size>0)&&h.push(t.Fs.updateTargetData(a,j))});let _=jo(),b=pn();if(e.documentUpdates.forEach(D=>{e.resolvedLimboDocuments.has(D)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(a,D))}),h.push(d2(a,c,e.documentUpdates).next(D=>{_=D.er,b=D.nr})),!r.isEqual(xt.min())){const D=t.Fs.getLastRemoteSnapshotVersion(a).next(x=>t.Fs.setTargetsMetadata(a,a.currentSequenceNumber,r));h.push(D)}return ge.waitFor(h).next(()=>c.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,_,b)).next(()=>_)}).then(a=>(t.Hi=i,a))}function d2(n,e,t){let r=pn(),i=pn();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let c=jo();return t.forEach((h,_)=>{const b=a.get(h);_.isFoundDocument()!==b.isFoundDocument()&&(i=i.add(h)),_.isNoDocument()&&_.version.isEqual(xt.min())?(e.removeEntry(h,_.readTime),c=c.insert(h,_)):!b.isValidDocument()||_.version.compareTo(b.version)>0||0===_.version.compareTo(b.version)&&b.hasPendingWrites?(e.addEntry(_),c=c.insert(h,_)):We("LocalStore","Ignoring outdated watch update for ",h,". Current version:",b.version," Watch version:",_.version)}),{er:c,nr:i}})}function p3(n,e){const t=lt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function p_(n,e){const t=lt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Fs.getTargetData(r,e).next(a=>a?(i=a,ge.resolve(i)):t.Fs.allocateTargetId(r).next(c=>(i=new td(e,c,"TargetPurposeListen",r.currentSequenceNumber),t.Fs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Hi.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Hi=t.Hi.insert(r.targetId,r),t.Ji.set(e,r.targetId)),r})}function m_(n,e,t){return Lx.apply(this,arguments)}function Lx(){return Lx=(0,Ne.Z)(function*(n,e,t){const r=lt(n),i=r.Hi.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",a,c=>r.persistence.referenceDelegate.removeTarget(c,i)))}catch(c){if(!Mh(c))throw c;We("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.Hi=r.Hi.remove(e),r.Ji.delete(i.target)}),Lx.apply(this,arguments)}function FD(n,e,t){const r=lt(n);let i=xt.min(),a=pn();return r.persistence.runTransaction("Execute query","readonly",c=>function(h,_,b){const D=lt(h),x=D.Ji.get(b);return void 0!==x?ge.resolve(D.Hi.get(x)):D.Fs.getTargetData(_,b)}(r,c,uo(e)).next(h=>{if(h)return i=h.lastLimboFreeSnapshotVersion,r.Fs.getMatchingKeysForTargetId(c,h.targetId).next(_=>{a=_})}).next(()=>r.Wi.getDocumentsMatchingQuery(c,e,t?i:xt.min(),t?a:pn())).next(h=>(p2(r,q1(e),h),{documents:h,sr:a})))}function h2(n,e){const t=lt(n),r=lt(t.Fs),i=t.Hi.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",a=>r.he(a,e).next(c=>c?c.target:null))}function f2(n,e){const t=lt(n),r=t.Yi.get(e)||xt.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Xi.getAllFromCollectionGroup(i,e,c1(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(p2(t,e,i),i))}function p2(n,e,t){let r=n.Yi.get(e)||xt.min();t.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.Yi.set(e,r)}function Bx(){return Bx=(0,Ne.Z)(function*(n,e,t,r){const i=lt(n);let a=pn(),c=jo();for(const b of t){const D=e.ir(b.metadata.name);b.document&&(a=a.add(D));const x=e.rr(b);x.setReadTime(e.ur(b.metadata.readTime)),c=c.insert(D,x)}const h=i.Xi.newChangeBuffer({trackRemovals:!0}),_=yield p_(i,(b=r,uo(s_(xn.fromString(`__bundle__/docs/${b}`)))));var b;return i.persistence.runTransaction("Apply bundle documents","readwrite",b=>d2(b,h,c).next(D=>(h.apply(b),D)).next(D=>i.Fs.removeMatchingKeysForTargetId(b,_.targetId).next(()=>i.Fs.addMatchingKeys(b,a,_.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(b,D.er,D.nr)).next(()=>D.er)))}),Bx.apply(this,arguments)}function g3(n,e){return Vx.apply(this,arguments)}function Vx(){return Vx=(0,Ne.Z)(function*(n,e,t=pn()){const r=yield p_(n,uo(Cx(e.bundledQuery))),i=lt(n);return i.persistence.runTransaction("Save named query","readwrite",a=>{const c=di(e.readTime);if(r.snapshotVersion.compareTo(c)>=0)return i.Ls.saveNamedQuery(a,e);const h=r.withResumeToken(Fi.EMPTY_BYTE_STRING,c);return i.Hi=i.Hi.insert(h.targetId,h),i.Fs.updateTargetData(a,h).next(()=>i.Fs.removeMatchingKeysForTargetId(a,r.targetId)).next(()=>i.Fs.addMatchingKeys(a,t,r.targetId)).next(()=>i.Ls.saveNamedQuery(a,e))})}),Vx.apply(this,arguments)}function m2(n,e){return`firestore_clients_${n}_${e}`}function g2(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function Ux(n,e){return`firestore_targets_${n}_${e}`}class LD{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static cr(e,t,r){const i=JSON.parse(r);let a,c="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return c&&i.error&&(c="string"==typeof i.error.message&&"string"==typeof i.error.code,c&&(a=new $e(i.error.code,i.error.message))),c?new LD(e,t,i.state,a):(ui("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}ar(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class HE{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static cr(e,t){const r=JSON.parse(t);let i,a="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return a&&r.error&&(a="string"==typeof r.error.message&&"string"==typeof r.error.code,a&&(i=new $e(r.error.code,r.error.message))),a?new HE(e,r.state,i):(ui("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}ar(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class BD{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static cr(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,a=dx();for(let c=0;i&&c<r.activeTargetIds.length;++c)i=p1(r.activeTargetIds[c]),a=a.add(r.activeTargetIds[c]);return i?new BD(e,a):(ui("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class jx{constructor(e,t){this.clientId=e,this.onlineState=t}static cr(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new jx(t.clientId,t.onlineState):(ui("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Hx{constructor(){this.activeTargetIds=dx()}hr(e){this.activeTargetIds=this.activeTargetIds.add(e)}lr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ar(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class zx{constructor(e,t,r,i,a){this.window=e,this.si=t,this.persistenceKey=r,this.dr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.wr.bind(this),this.mr=new mr(sn),this.started=!1,this.gr=[];const c=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.yr=m2(this.persistenceKey,this.dr),this.pr=`firestore_sequence_number_${this.persistenceKey}`,this.mr=this.mr.insert(this.dr,new Hx),this.Ir=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this.Tr=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this.Er=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.Ar=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(h){return`firestore_bundle_loaded_v2_${h}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Ne.Z)(function*(){const t=yield e.syncEngine.Mi();for(const i of t){if(i===e.dr)continue;const a=e.getItem(m2(e.persistenceKey,i));if(a){const c=BD.cr(i,a);c&&(e.mr=e.mr.insert(c.clientId,c))}}e.vr();const r=e.storage.getItem(e.Ar);if(r){const i=e.Pr(r);i&&e.br(i)}for(const i of e.gr)e.wr(i);e.gr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.pr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Vr(this.mr)}isActiveQueryTarget(e){let t=!1;return this.mr.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Sr(e,"pending")}updateMutationState(e,t,r){this.Sr(e,t,r),this.Dr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(Ux(this.persistenceKey,e));if(r){const i=HE.cr(e,r);i&&(t=i.state)}}return this.Cr.hr(e),this.vr(),t}removeLocalQueryTarget(e){this.Cr.lr(e),this.vr()}isLocalQueryTarget(e){return this.Cr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Ux(this.persistenceKey,e))}updateQueryState(e,t,r){this.Nr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Dr(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.kr(e)}notifyBundleLoaded(e){this.Mr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.yr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return We("SharedClientState","READ",e,t),t}setItem(e,t){We("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){We("SharedClientState","REMOVE",e),this.storage.removeItem(e)}wr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(We("SharedClientState","EVENT",r.key,r.newValue),r.key===this.yr)return void ui("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((0,Ne.Z)(function*(){if(t.started){if(null!==r.key)if(t.Ir.test(r.key)){if(null==r.newValue){const i=t.Or(r.key);return t.$r(i,null)}{const i=t.Fr(r.key,r.newValue);if(i)return t.$r(i.clientId,i)}}else if(t.Tr.test(r.key)){if(null!==r.newValue){const i=t.Br(r.key,r.newValue);if(i)return t.Lr(i)}}else if(t.Er.test(r.key)){if(null!==r.newValue){const i=t.qr(r.key,r.newValue);if(i)return t.Ur(i)}}else if(r.key===t.Ar){if(null!==r.newValue){const i=t.Pr(r.newValue);if(i)return t.br(i)}}else if(r.key===t.pr){const i=function(a){let c=ma.ct;if(null!=a)try{const h=JSON.parse(a);Tt("number"==typeof h),c=h}catch(h){ui("SharedClientState","Failed to read sequence number from WebStorage",h)}return c}(r.newValue);i!==ma.ct&&t.sequenceNumberHandler(i)}else if(r.key===t.Rr){const i=t.Kr(r.newValue);yield Promise.all(i.map(a=>t.syncEngine.Gr(a)))}}else t.gr.push(r)}))}}get Cr(){return this.mr.get(this.dr)}vr(){this.setItem(this.yr,this.Cr.ar())}Sr(e,t,r){const i=new LD(this.currentUser,e,t,r),a=g2(this.persistenceKey,this.currentUser,e);this.setItem(a,i.ar())}Dr(e){const t=g2(this.persistenceKey,this.currentUser,e);this.removeItem(t)}kr(e){this.storage.setItem(this.Ar,JSON.stringify({clientId:this.dr,onlineState:e}))}Nr(e,t,r){const i=Ux(this.persistenceKey,e),a=new HE(e,t,r);this.setItem(i,a.ar())}Mr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Ir.exec(e);return t?t[1]:null}Fr(e,t){const r=this.Or(e);return BD.cr(r,t)}Br(e,t){const r=this.Tr.exec(e),i=Number(r[1]);return LD.cr(new Ki(void 0!==r[2]?r[2]:null),i,t)}qr(e,t){const r=this.Er.exec(e),i=Number(r[1]);return HE.cr(i,t)}Pr(e){return jx.cr(e)}Kr(e){return JSON.parse(e)}Lr(e){var t=this;return(0,Ne.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Qr(e.batchId,e.state,e.error);We("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Ur(e){return this.syncEngine.jr(e.targetId,e.state,e.error)}$r(e,t){const r=t?this.mr.insert(e,t):this.mr.remove(e),i=this.Vr(this.mr),a=this.Vr(r),c=[],h=[];return a.forEach(_=>{i.has(_)||c.push(_)}),i.forEach(_=>{a.has(_)||h.push(_)}),this.syncEngine.zr(c,h).then(()=>{this.mr=r})}br(e){this.mr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Vr(e){let t=dx();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class _2{constructor(){this.Wr=new Hx,this.Hr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Wr.hr(e),this.Hr[e]||"not-current"}updateQueryState(e,t,r){this.Hr[e]=t}removeLocalQueryTarget(e){this.Wr.lr(e)}isLocalQueryTarget(e){return this.Wr.activeTargetIds.has(e)}clearQueryState(e){delete this.Hr[e]}getAllActiveQueryTargets(){return this.Wr.activeTargetIds}isActiveQueryTarget(e){return this.Wr.activeTargetIds.has(e)}start(){return this.Wr=new Hx,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class _3{Jr(e){}shutdown(){}}class y2{constructor(){this.Yr=()=>this.Xr(),this.Zr=()=>this.eo(),this.no=[],this.so()}Jr(e){this.no.push(e)}shutdown(){window.removeEventListener("online",this.Yr),window.removeEventListener("offline",this.Zr)}so(){window.addEventListener("online",this.Yr),window.addEventListener("offline",this.Zr)}Xr(){We("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.no)e(0)}eo(){We("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.no)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let VD=null;function $x(){return null===VD?VD=268435456+Math.round(2147483648*Math.random()):VD++,"0x"+VD.toString(16)}const y3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class v3{constructor(e){this.io=e.io,this.ro=e.ro}oo(e){this.uo=e}co(e){this.ao=e}onMessage(e){this.ho=e}close(){this.ro()}send(e){this.io(e)}lo(){this.uo()}fo(e){this.ao(e)}_o(e){this.ho(e)}}const Gs="WebChannelConnection";class E3 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.wo=(e.ssl?"https":"http")+"://"+e.host,this.mo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get yo(){return!1}po(e,t,r,i,a){const c=$x(),h=this.Io(e,t);We("RestConnection",`Sending RPC '${e}' ${c}:`,h,r);const _={};return this.To(_,i,a),this.Eo(e,h,_,r).then(b=>(We("RestConnection",`Received RPC '${e}' ${c}: `,b),b),b=>{throw nl("RestConnection",`RPC '${e}' ${c} failed with error: `,b,"url: ",h,"request:",r),b})}Ao(e,t,r,i,a,c){return this.po(e,t,r,i,a)}To(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Jg,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}Io(e,t){return`${this.wo}/v1/${t}:${y3[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Eo(e,t,r,i){const a=$x();return new Promise((c,h)=>{const _=new gH;_.setWithCredentials(!0),_.listenOnce(fH.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case WM.NO_ERROR:const D=_.getResponseJson();We(Gs,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(D)),c(D);break;case WM.TIMEOUT:We(Gs,`RPC '${e}' ${a} timed out`),h(new $e(Te.DEADLINE_EXCEEDED,"Request time out"));break;case WM.HTTP_ERROR:const x=_.getStatus();if(We(Gs,`RPC '${e}' ${a} failed with status:`,x,"response text:",_.getResponseText()),x>0){let F=_.getResponseJson();Array.isArray(F)&&(F=F[0]);const j=null==F?void 0:F.error;if(j&&j.status&&j.message){const ee=function(de){const Ae=de.toLowerCase().replace(/_/g,"-");return Object.values(Te).indexOf(Ae)>=0?Ae:Te.UNKNOWN}(j.status);h(new $e(ee,j.message))}else h(new $e(Te.UNKNOWN,"Server responded with status "+_.getStatus()))}else h(new $e(Te.UNAVAILABLE,"Connection failed."));break;default:yt()}}finally{We(Gs,`RPC '${e}' ${a} completed.`)}});const b=JSON.stringify(i);We(Gs,`RPC '${e}' ${a} sending request:`,i),_.send(t,"POST",b,r,15)})}Ro(e,t,r){const i=$x(),a=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=dH(),h=hH(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(_.xmlHttpFactory=new mH({})),this.To(_.initMessageHeaders,t,r),_.encodeInitMessageHeaders=!0;const b=a.join("");We(Gs,`Creating RPC '${e}' stream ${i}: ${b}`,_);const D=c.createWebChannel(b,_);let x=!1,F=!1;const j=new v3({io:de=>{F?We(Gs,`Not sending because RPC '${e}' stream ${i} is closed:`,de):(x||(We(Gs,`Opening RPC '${e}' stream ${i} transport.`),D.open(),x=!0),We(Gs,`RPC '${e}' stream ${i} sending:`,de),D.send(de))},ro:()=>D.close()}),ee=(de,Ae,it)=>{de.listen(Ae,ct=>{try{it(ct)}catch(ft){setTimeout(()=>{throw ft},0)}})};return ee(D,sD.EventType.OPEN,()=>{F||We(Gs,`RPC '${e}' stream ${i} transport opened.`)}),ee(D,sD.EventType.CLOSE,()=>{F||(F=!0,We(Gs,`RPC '${e}' stream ${i} transport closed`),j.fo())}),ee(D,sD.EventType.ERROR,de=>{F||(F=!0,nl(Gs,`RPC '${e}' stream ${i} transport errored:`,de),j.fo(new $e(Te.UNAVAILABLE,"The operation could not be completed")))}),ee(D,sD.EventType.MESSAGE,de=>{var Ae;if(!F){const it=de.data[0];Tt(!!it);const ct=it,ft=ct.error||(null===(Ae=ct[0])||void 0===Ae?void 0:Ae.error);if(ft){We(Gs,`RPC '${e}' stream ${i} received error:`,ft);const St=ft.status;let en=function($n){const Qi=Ai[$n];if(void 0!==Qi)return dL(Qi)}(St),ln=ft.message;void 0===en&&(en=Te.INTERNAL,ln="Unknown error status: "+St+" with message "+ft.message),F=!0,j.fo(new $e(en,ln)),D.close()}else We(Gs,`RPC '${e}' stream ${i} received:`,it),j._o(it)}}),ee(h,pH.STAT_EVENT,de=>{de.stat===n1.PROXY?We(Gs,`RPC '${e}' stream ${i} detected buffering proxy`):de.stat===n1.NOPROXY&&We(Gs,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{j.lo()},0),j}}function v2(){return"undefined"!=typeof window?window:null}function UD(){return"undefined"!=typeof document?document:null}function zE(n){return new Mz(n,!0)}class Gx{constructor(e,t,r=1e3,i=1.5,a=6e4){this.si=e,this.timerId=t,this.vo=r,this.Po=i,this.bo=a,this.Vo=0,this.So=null,this.Do=Date.now(),this.reset()}reset(){this.Vo=0}Co(){this.Vo=this.bo}xo(e){this.cancel();const t=Math.floor(this.Vo+this.No()),r=Math.max(0,Date.now()-this.Do),i=Math.max(0,t-r);i>0&&We("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Vo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.So=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Do=Date.now(),e())),this.Vo*=this.Po,this.Vo<this.vo&&(this.Vo=this.vo),this.Vo>this.bo&&(this.Vo=this.bo)}ko(){null!==this.So&&(this.So.skipDelay(),this.So=null)}cancel(){null!==this.So&&(this.So.cancel(),this.So=null)}No(){return(Math.random()-.5)*this.Vo}}class E2{constructor(e,t,r,i,a,c,h,_){this.si=e,this.Mo=r,this.Oo=i,this.connection=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=_,this.state=0,this.$o=0,this.Fo=null,this.Bo=null,this.stream=null,this.Lo=new Gx(e,t)}qo(){return 1===this.state||5===this.state||this.Uo()}Uo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Ko()}stop(){var e=this;return(0,Ne.Z)(function*(){e.qo()&&(yield e.close(0))})()}Go(){this.state=0,this.Lo.reset()}Qo(){this.Uo()&&null===this.Fo&&(this.Fo=this.si.enqueueAfterDelay(this.Mo,6e4,()=>this.jo()))}zo(e){this.Wo(),this.stream.send(e)}jo(){var e=this;return(0,Ne.Z)(function*(){if(e.Uo())return e.close(0)})()}Wo(){this.Fo&&(this.Fo.cancel(),this.Fo=null)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}close(e,t){var r=this;return(0,Ne.Z)(function*(){r.Wo(),r.Ho(),r.Lo.cancel(),r.$o++,4!==e?r.Lo.reset():t&&t.code===Te.RESOURCE_EXHAUSTED?(ui(t.toString()),ui("Using maximum backoff delay to prevent overloading the backend."),r.Lo.Co()):t&&t.code===Te.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Jo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.co(t)})()}Jo(){}auth(){this.state=1;const e=this.Yo(this.$o),t=this.$o;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.$o===t&&this.Xo(r,i)},r=>{e(()=>{const i=new $e(Te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Zo(i)})})}Xo(e,t){const r=this.Yo(this.$o);this.stream=this.tu(e,t),this.stream.oo(()=>{r(()=>(this.state=2,this.Bo=this.si.enqueueAfterDelay(this.Oo,1e4,()=>(this.Uo()&&(this.state=3),Promise.resolve())),this.listener.oo()))}),this.stream.co(i=>{r(()=>this.Zo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Ko(){var e=this;this.state=5,this.Lo.xo((0,Ne.Z)(function*(){e.state=0,e.start()}))}Zo(e){return We("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Yo(e){return t=>{this.si.enqueueAndForget(()=>this.$o===e?t():(We("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class b3 extends E2{constructor(e,t,r,i,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,c),this.serializer=a}tu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.Lo.reset();const t=function Oz(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(_=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:yt(),i=e.targetChange.targetIds||[],a=function(_,b){return _.useProto3Json?(Tt(void 0===b||"string"==typeof b),Fi.fromBase64String(b||"")):(Tt(void 0===b||b instanceof Uint8Array),Fi.fromUint8Array(b||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&function(_){const b=void 0===_.code?Te.UNKNOWN:dL(_.code);return new $e(b,_.message||"")}(c);t=new gL(r,i,a,h||null)}else if("documentChange"in e){const r=e.documentChange,i=Qc(n,r.document.name),a=di(r.document.updateTime),c=r.document.createTime?di(r.document.createTime):xt.min(),h=new Es({mapValue:{fields:r.document.fields}}),_=Dr.newFoundDocument(i,a,c,h);t=new DD(r.targetIds||[],r.removedTargetIds||[],_.key,_)}else if("documentDelete"in e){const r=e.documentDelete,i=Qc(n,r.document),a=r.readTime?di(r.readTime):xt.min(),c=Dr.newNoDocument(i,a);t=new DD([],r.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const r=e.documentRemove,i=Qc(n,r.document);t=new DD([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return yt();{const r=e.filter,{count:i=0,unchangedNames:a}=r,c=new Cz(i,a);t=new mL(r.targetId,c)}}var _;return t}(this.serializer,e),r=function(i){if(!("targetChange"in i))return xt.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?xt.min():a.readTime?di(a.readTime):xt.min()}(e);return this.listener.eu(t,r)}nu(e){const t={};t.database=kE(this.serializer),t.addTarget=function(i,a){let c;const h=a.target;if(c=gD(h)?{documents:TL(i,h)}:{query:wx(i,h)},c.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){c.resumeToken=EL(i,a.resumeToken);const _=yx(i,a.expectedCount);null!==_&&(c.expectedCount=_)}else if(a.snapshotVersion.compareTo(xt.min())>0){c.readTime=u_(i,a.snapshotVersion.toTimestamp());const _=yx(i,a.expectedCount);null!==_&&(c.expectedCount=_)}return c}(this.serializer,e);const r=function Pz(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yt()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.zo(t)}su(e){const t={};t.database=kE(this.serializer),t.removeTarget=e,this.zo(t)}}class w3 extends E2{constructor(e,t,r,i,a,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,c),this.serializer=a,this.iu=!1}get ru(){return this.iu}start(){this.iu=!1,this.lastStreamToken=void 0,super.start()}Jo(){this.iu&&this.ou([])}tu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(Tt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.iu){this.Lo.reset();const t=function kz(n,e){return n&&n.length>0?(Tt(void 0!==e),n.map(t=>function(r,i){let a=di(r.updateTime?r.updateTime:i);return a.isEqual(xt.min())&&(a=di(i)),new vz(a,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=di(e.commitTime);return this.listener.uu(r,t)}return Tt(!e.writeResults||0===e.writeResults.length),this.iu=!0,this.listener.cu()}au(){const e={};e.database=kE(this.serializer),this.zo(e)}ou(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>PE(this.serializer,r))};this.zo(t)}}class C3 extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.hu=!1}lu(){if(this.hu)throw new $e(Te.FAILED_PRECONDITION,"The client has already been terminated.")}po(e,t,r){return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.po(e,t,r,i,a)).catch(i=>{throw"FirebaseError"===i.name?(i.code===Te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new $e(Te.UNKNOWN,i.toString())})}Ao(e,t,r,i){return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.Ao(e,t,r,a,c,i)).catch(a=>{throw"FirebaseError"===a.name?(a.code===Te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new $e(Te.UNKNOWN,a.toString())})}terminate(){this.hu=!0}}class I3{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.du=0,this._u=null,this.wu=!0}mu(){0===this.du&&(this.gu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.yu("Backend didn't respond within 10 seconds."),this.gu("Offline"),Promise.resolve())))}pu(e){"Online"===this.state?this.gu("Unknown"):(this.du++,this.du>=1&&(this.Iu(),this.yu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.gu("Offline")))}set(e){this.Iu(),this.du=0,"Online"===e&&(this.wu=!1),this.gu(e)}gu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}yu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.wu?(ui(t),this.wu=!1):We("OnlineStateTracker",t)}Iu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class T3{constructor(e,t,r,i,a){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Tu=[],this.Eu=new Map,this.Au=new Set,this.Ru=[],this.vu=a,this.vu.Jr(h=>{r.enqueueAndForget((0,Ne.Z)(function*(){var _;jh(c)&&(We("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,Ne.Z)(function*(b){const D=lt(b);D.Au.add(4),yield g_(D),D.Pu.set("Unknown"),D.Au.delete(4),yield $E(D)}),function(b){return _.apply(this,arguments)})(c))}))}),this.Pu=new I3(r,i)}}function $E(n){return Wx.apply(this,arguments)}function Wx(){return Wx=(0,Ne.Z)(function*(n){if(jh(n))for(const e of n.Ru)yield e(!0)}),Wx.apply(this,arguments)}function g_(n){return Kx.apply(this,arguments)}function Kx(){return Kx=(0,Ne.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),Kx.apply(this,arguments)}function jD(n,e){const t=lt(n);t.Eu.has(e.targetId)||(t.Eu.set(e.targetId,e),Qx(t)?Yx(t):y_(t).Uo()&&Zx(t,e))}function GE(n,e){const t=lt(n),r=y_(t);t.Eu.delete(e),r.Uo()&&b2(t,e),0===t.Eu.size&&(r.Uo()?r.Qo():jh(t)&&t.Pu.set("Unknown"))}function Zx(n,e){if(n.bu.Lt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}y_(n).nu(e)}function b2(n,e){n.bu.Lt(e),y_(n).su(e)}function Yx(n){n.bu=new Iz({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),he:e=>n.Eu.get(e)||null,oe:()=>n.datastore.serializer.databaseId}),y_(n).start(),n.Pu.mu()}function Qx(n){return jh(n)&&!y_(n).qo()&&n.Eu.size>0}function jh(n){return 0===lt(n).Au.size}function w2(n){n.bu=void 0}function S3(n){return Xx.apply(this,arguments)}function Xx(){return Xx=(0,Ne.Z)(function*(n){n.Eu.forEach((e,t)=>{Zx(n,e)})}),Xx.apply(this,arguments)}function A3(n,e){return Jx.apply(this,arguments)}function Jx(){return Jx=(0,Ne.Z)(function*(n,e){w2(n),Qx(n)?(n.Pu.pu(e),Yx(n)):n.Pu.set("Unknown")}),Jx.apply(this,arguments)}function M3(n,e,t){return eR.apply(this,arguments)}function eR(){return eR=(0,Ne.Z)(function*(n,e,t){if(n.Pu.set("Online"),e instanceof gL&&2===e.state&&e.cause)try{yield(r=(0,Ne.Z)(function*(i,a){const c=a.cause;for(const h of a.targetIds)i.Eu.has(h)&&(yield i.remoteSyncer.rejectListen(h,c),i.Eu.delete(h),i.bu.removeTarget(h))}),function(i,a){return r.apply(this,arguments)})(n,e)}catch(r){We("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield HD(n,r)}else if(e instanceof DD?n.bu.Wt(e):e instanceof mL?n.bu.ee(e):n.bu.Yt(e),!t.isEqual(xt.min()))try{const r=yield u2(n.localStore);t.compareTo(r)>=0&&(yield function(i,a){const c=i.bu.ue(a);return c.targetChanges.forEach((h,_)=>{if(h.resumeToken.approximateByteSize()>0){const b=i.Eu.get(_);b&&i.Eu.set(_,b.withResumeToken(h.resumeToken,a))}}),c.targetMismatches.forEach((h,_)=>{const b=i.Eu.get(h);if(!b)return;i.Eu.set(h,b.withResumeToken(Fi.EMPTY_BYTE_STRING,b.snapshotVersion)),b2(i,h);const D=new td(b.target,h,_,b.sequenceNumber);Zx(i,D)}),i.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(r){We("RemoteStore","Failed to raise snapshot:",r),yield HD(n,r)}var r}),eR.apply(this,arguments)}function HD(n,e,t){return tR.apply(this,arguments)}function tR(){return tR=(0,Ne.Z)(function*(n,e,t){if(!Mh(e))throw e;n.Au.add(1),yield g_(n),n.Pu.set("Offline"),t||(t=()=>u2(n.localStore)),n.asyncQueue.enqueueRetryable((0,Ne.Z)(function*(){We("RemoteStore","Retrying IndexedDB access"),yield t(),n.Au.delete(1),yield $E(n)}))}),tR.apply(this,arguments)}function C2(n,e){return e().catch(t=>HD(n,t,e))}function __(n){return nR.apply(this,arguments)}function nR(){return nR=(0,Ne.Z)(function*(n){const e=lt(n),t=Hh(e);let r=e.Tu.length>0?e.Tu[e.Tu.length-1].batchId:-1;for(;x3(e);)try{const i=yield p3(e.localStore,r);if(null===i){0===e.Tu.length&&t.Qo();break}r=i.batchId,R3(e,i)}catch(i){yield HD(e,i)}D2(e)&&I2(e)}),nR.apply(this,arguments)}function x3(n){return jh(n)&&n.Tu.length<10}function R3(n,e){n.Tu.push(e);const t=Hh(n);t.Uo()&&t.ru&&t.ou(e.mutations)}function D2(n){return jh(n)&&!Hh(n).qo()&&n.Tu.length>0}function I2(n){Hh(n).start()}function O3(n){return rR.apply(this,arguments)}function rR(){return rR=(0,Ne.Z)(function*(n){Hh(n).au()}),rR.apply(this,arguments)}function k3(n){return iR.apply(this,arguments)}function iR(){return iR=(0,Ne.Z)(function*(n){const e=Hh(n);for(const t of n.Tu)e.ou(t.mutations)}),iR.apply(this,arguments)}function P3(n,e,t){return sR.apply(this,arguments)}function sR(){return sR=(0,Ne.Z)(function*(n,e,t){const r=n.Tu.shift(),i=px.from(r,e,t);yield C2(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield __(n)}),sR.apply(this,arguments)}function N3(n,e){return oR.apply(this,arguments)}function oR(){return oR=(0,Ne.Z)(function*(n,e){var t;e&&Hh(n).ru&&(yield(t=(0,Ne.Z)(function*(r,i){if(uL(a=i.code)&&a!==Te.ABORTED){const c=r.Tu.shift();Hh(r).Go(),yield C2(r,()=>r.remoteSyncer.rejectFailedWrite(c.batchId,i)),yield __(r)}var a}),function(r,i){return t.apply(this,arguments)})(n,e)),D2(n)&&I2(n)}),oR.apply(this,arguments)}function T2(n,e){return aR.apply(this,arguments)}function aR(){return aR=(0,Ne.Z)(function*(n,e){const t=lt(n);t.asyncQueue.verifyOperationInProgress(),We("RemoteStore","RemoteStore received new credentials");const r=jh(t);t.Au.add(3),yield g_(t),r&&t.Pu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Au.delete(3),yield $E(t)}),aR.apply(this,arguments)}function lR(n,e){return cR.apply(this,arguments)}function cR(){return cR=(0,Ne.Z)(function*(n,e){const t=lt(n);e?(t.Au.delete(2),yield $E(t)):e||(t.Au.add(2),yield g_(t),t.Pu.set("Unknown"))}),cR.apply(this,arguments)}function y_(n){return n.Vu||(n.Vu=function(e,t,r){const i=lt(e);return i.lu(),new b3(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{oo:S3.bind(null,n),co:A3.bind(null,n),eu:M3.bind(null,n)}),n.Ru.push(function(){var e=(0,Ne.Z)(function*(t){t?(n.Vu.Go(),Qx(n)?Yx(n):n.Pu.set("Unknown")):(yield n.Vu.stop(),w2(n))});return function(t){return e.apply(this,arguments)}}())),n.Vu}function Hh(n){return n.Su||(n.Su=function(e,t,r){const i=lt(e);return i.lu(),new w3(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{oo:O3.bind(null,n),co:N3.bind(null,n),cu:k3.bind(null,n),uu:P3.bind(null,n)}),n.Ru.push(function(){var e=(0,Ne.Z)(function*(t){t?(n.Su.Go(),yield __(n)):(yield n.Su.stop(),n.Tu.length>0&&(We("RemoteStore",`Stopping write stream with ${n.Tu.length} pending writes`),n.Tu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Su}class uR{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Ni,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,t,r,i,a){const c=Date.now()+r,h=new uR(e,t,c,i,a);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new $e(Te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function v_(n,e){if(ui("AsyncQueue",`${e}: ${n}`),Mh(n))return new $e(Te.UNAVAILABLE,`${e}: ${n}`);throw n}class E_{constructor(e){this.comparator=e?(t,r)=>e(t,r)||at.comparator(t.key,r.key):(t,r)=>at.comparator(t.key,r.key),this.keyedMap=IE(),this.sortedSet=new mr(this.comparator)}static emptySet(e){return new E_(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof E_)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new E_;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class S2{constructor(){this.Du=new mr(at.comparator)}track(e){const t=e.doc.key,r=this.Du.get(t);r?0!==e.type&&3===r.type?this.Du=this.Du.insert(t,e):3===e.type&&1!==r.type?this.Du=this.Du.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Du=this.Du.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Du=this.Du.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Du=this.Du.remove(t):1===e.type&&2===r.type?this.Du=this.Du.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Du=this.Du.insert(t,{type:2,doc:e.doc}):yt():this.Du=this.Du.insert(t,e)}Cu(){const e=[];return this.Du.inorderTraversal((t,r)=>{e.push(r)}),e}}class b_{constructor(e,t,r,i,a,c,h,_,b){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=_,this.hasCachedResults=b}static fromInitialDocuments(e,t,r,i,a){const c=[];return t.forEach(h=>{c.push({type:0,doc:h})}),new b_(e,t,E_.emptySet(t),c,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&CE(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class F3{constructor(){this.xu=void 0,this.listeners=[]}}class L3{constructor(){this.queries=new Ju(e=>G1(e),CE),this.onlineState="Unknown",this.Nu=new Set}}function dR(n,e){return hR.apply(this,arguments)}function hR(){return hR=(0,Ne.Z)(function*(n,e){const t=lt(n),r=e.query;let i=!1,a=t.queries.get(r);if(a||(i=!0,a=new F3),i)try{a.xu=yield t.onListen(r)}catch(c){const h=v_(c,`Initialization of query '${ux(e.query)}' failed`);return void e.onError(h)}t.queries.set(r,a),a.listeners.push(e),e.ku(t.onlineState),a.xu&&e.Mu(a.xu)&&mR(t)}),hR.apply(this,arguments)}function fR(n,e){return pR.apply(this,arguments)}function pR(){return pR=(0,Ne.Z)(function*(n,e){const t=lt(n),r=e.query;let i=!1;const a=t.queries.get(r);if(a){const c=a.listeners.indexOf(e);c>=0&&(a.listeners.splice(c,1),i=0===a.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),pR.apply(this,arguments)}function B3(n,e){const t=lt(n);let r=!1;for(const i of e){const c=t.queries.get(i.query);if(c){for(const h of c.listeners)h.Mu(i)&&(r=!0);c.xu=i}}r&&mR(t)}function V3(n,e,t){const r=lt(n),i=r.queries.get(e);if(i)for(const a of i.listeners)a.onError(t);r.queries.delete(e)}function mR(n){n.Nu.forEach(e=>{e.next()})}class gR{constructor(e,t,r){this.query=e,this.Ou=t,this.$u=!1,this.Fu=null,this.onlineState="Unknown",this.options=r||{}}Mu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new b_(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.$u?this.Bu(e)&&(this.Ou.next(e),t=!0):this.Lu(e,this.onlineState)&&(this.qu(e),t=!0),this.Fu=e,t}onError(e){this.Ou.error(e)}ku(e){this.onlineState=e;let t=!1;return this.Fu&&!this.$u&&this.Lu(this.Fu,e)&&(this.qu(this.Fu),t=!0),t}Lu(e,t){return!e.fromCache||(!this.options.Uu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Bu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Fu&&this.Fu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}qu(e){e=b_.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.$u=!0,this.Ou.next(e)}}class U3{constructor(e,t){this.Ku=e,this.byteLength=t}Gu(){return"metadata"in this.Ku}}class A2{constructor(e){this.serializer=e}ir(e){return Qc(this.serializer,e)}rr(e){return e.metadata.exists?IL(this.serializer,e.document,!1):Dr.newNoDocument(this.ir(e.metadata.name),this.ur(e.metadata.readTime))}ur(e){return di(e)}}class j3{constructor(e,t,r){this.Qu=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=M2(e)}ju(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Ku.namedQuery)this.queries.push(e.Ku.namedQuery);else if(e.Ku.documentMetadata){this.documents.push({metadata:e.Ku.documentMetadata}),e.Ku.documentMetadata.exists||++t;const r=xn.fromString(e.Ku.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Ku.document&&(this.documents[this.documents.length-1].document=e.Ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}zu(e){const t=new Map,r=new A2(this.serializer);for(const i of e)if(i.metadata.queries){const a=r.ir(i.metadata.name);for(const c of i.metadata.queries){const h=(t.get(c)||pn()).add(a);t.set(c,h)}}return t}complete(){var e=this;return(0,Ne.Z)(function*(){const t=yield function m3(n,e,t,r){return Bx.apply(this,arguments)}(e.localStore,new A2(e.serializer),e.documents,e.Qu.id),r=e.zu(e.documents);for(const i of e.queries)yield g3(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Wu:e.collectionGroups,Hu:t}})()}}function M2(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class x2{constructor(e){this.key=e}}class R2{constructor(e){this.key=e}}class O2{constructor(e,t){this.query=e,this.Ju=t,this.Yu=null,this.hasCachedResults=!1,this.current=!1,this.Xu=pn(),this.mutatedKeys=pn(),this.Zu=W1(e),this.tc=new E_(this.Zu)}get ec(){return this.Ju}nc(e,t){const r=t?t.sc:new S2,i=t?t.tc:this.tc;let a=t?t.mutatedKeys:this.mutatedKeys,c=i,h=!1;const _="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,b="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((D,x)=>{const F=i.get(D),j=DE(this.query,x)?x:null,ee=!!F&&this.mutatedKeys.has(F.key),de=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let Ae=!1;F&&j?F.data.isEqual(j.data)?ee!==de&&(r.track({type:3,doc:j}),Ae=!0):this.ic(F,j)||(r.track({type:2,doc:j}),Ae=!0,(_&&this.Zu(j,_)>0||b&&this.Zu(j,b)<0)&&(h=!0)):!F&&j?(r.track({type:0,doc:j}),Ae=!0):F&&!j&&(r.track({type:1,doc:F}),Ae=!0,(_||b)&&(h=!0)),Ae&&(j?(c=c.add(j),a=de?a.add(D):a.delete(D)):(c=c.delete(D),a=a.delete(D)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const D="F"===this.query.limitType?c.last():c.first();c=c.delete(D.key),a=a.delete(D.key),r.track({type:1,doc:D})}return{tc:c,sc:r,ji:h,mutatedKeys:a}}ic(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.tc;this.tc=e.tc,this.mutatedKeys=e.mutatedKeys;const a=e.sc.Cu();a.sort((b,D)=>function(x,F){const j=ee=>{switch(ee){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt()}};return j(x)-j(F)}(b.type,D.type)||this.Zu(b.doc,D.doc)),this.rc(r);const c=t?this.oc():[],h=0===this.Xu.size&&this.current?1:0,_=h!==this.Yu;return this.Yu=h,0!==a.length||_?{snapshot:new b_(this.query,e.tc,i,a,e.mutatedKeys,0===h,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),uc:c}:{uc:c}}ku(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tc:this.tc,sc:new S2,mutatedKeys:this.mutatedKeys,ji:!1},!1)):{uc:[]}}cc(e){return!this.Ju.has(e)&&!!this.tc.has(e)&&!this.tc.get(e).hasLocalMutations}rc(e){e&&(e.addedDocuments.forEach(t=>this.Ju=this.Ju.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ju=this.Ju.delete(t)),this.current=e.current)}oc(){if(!this.current)return[];const e=this.Xu;this.Xu=pn(),this.tc.forEach(r=>{this.cc(r.key)&&(this.Xu=this.Xu.add(r.key))});const t=[];return e.forEach(r=>{this.Xu.has(r)||t.push(new R2(r))}),this.Xu.forEach(r=>{e.has(r)||t.push(new x2(r))}),t}ac(e){this.Ju=e.sr,this.Xu=pn();const t=this.nc(e.documents);return this.applyChanges(t,!0)}hc(){return b_.fromInitialDocuments(this.query,this.tc,this.mutatedKeys,0===this.Yu,this.hasCachedResults)}}class H3{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class z3{constructor(e){this.key=e,this.lc=!1}}class $3{constructor(e,t,r,i,a,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.fc={},this.dc=new Ju(h=>G1(h),CE),this._c=new Map,this.wc=new Set,this.mc=new mr(at.comparator),this.gc=new Map,this.yc=new xx,this.Ic={},this.Tc=new Map,this.Ec=Gp.kn(),this.onlineState="Unknown",this.Ac=void 0}get isPrimaryClient(){return!0===this.Ac}}function G3(n,e){return _R.apply(this,arguments)}function _R(){return _R=(0,Ne.Z)(function*(n,e){const t=UR(n);let r,i;const a=t.dc.get(e);if(a)r=a.targetId,t.sharedClientState.addLocalQueryTarget(r),i=a.view.hc();else{const c=yield p_(t.localStore,uo(e)),h=t.sharedClientState.addLocalQueryTarget(c.targetId);r=c.targetId,i=yield yR(t,e,r,"current"===h,c.resumeToken),t.isPrimaryClient&&jD(t.remoteStore,c)}return i}),_R.apply(this,arguments)}function yR(n,e,t,r,i){return vR.apply(this,arguments)}function vR(){return vR=(0,Ne.Z)(function*(n,e,t,r,i){n.Rc=(x,F,j)=>{return(ee=(0,Ne.Z)(function*(de,Ae,it,ct){let ft=Ae.view.nc(it);ft.ji&&(ft=yield FD(de.localStore,Ae.query,!1).then(({documents:ln})=>Ae.view.nc(ln,ft)));const St=ct&&ct.targetChanges.get(Ae.targetId),en=Ae.view.applyChanges(ft,de.isPrimaryClient,St);return MR(de,Ae.targetId,en.uc),en.snapshot}),function(de,Ae,it,ct){return ee.apply(this,arguments)})(n,x,F,j);var ee};const a=yield FD(n.localStore,e,!0),c=new O2(e,a.sr),h=c.nc(a.documents),_=RE.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),b=c.applyChanges(h,n.isPrimaryClient,_);MR(n,t,b.uc);const D=new H3(e,t,c);return n.dc.set(e,D),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),b.snapshot}),vR.apply(this,arguments)}function q3(n,e){return ER.apply(this,arguments)}function ER(){return ER=(0,Ne.Z)(function*(n,e){const t=lt(n),r=t.dc.get(e),i=t._c.get(r.targetId);if(i.length>1)return t._c.set(r.targetId,i.filter(a=>!CE(a,e))),void t.dc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield m_(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),GE(t.remoteStore,r.targetId),w_(t,r.targetId)}).catch(Ah))):(w_(t,r.targetId),yield m_(t.localStore,r.targetId,!0))}),ER.apply(this,arguments)}function bR(){return bR=(0,Ne.Z)(function*(n,e,t){const r=jR(n);try{const i=yield function(a,c){const h=lt(a),_=Pr.now(),b=c.reduce((F,j)=>F.add(j.key),pn());let D,x;return h.persistence.runTransaction("Locally write mutations","readwrite",F=>{let j=jo(),ee=pn();return h.Xi.getEntries(F,b).next(de=>{j=de,j.forEach((Ae,it)=>{it.isValidDocument()||(ee=ee.add(Ae))})}).next(()=>h.localDocuments.getOverlayedDocuments(F,j)).next(de=>{D=de;const Ae=[];for(const it of c){const ct=bz(it,D.get(it.key).overlayedDocument);null!=ct&&Ae.push(new ed(it.key,ct,R1(ct.value.mapValue),Nr.exists(!0)))}return h.mutationQueue.addMutationBatch(F,_,Ae,c)}).next(de=>{x=de;const Ae=de.applyToLocalDocumentSet(D,ee);return h.documentOverlayCache.saveOverlays(F,de.batchId,Ae)})}).then(()=>({batchId:x.batchId,changes:Z1(D)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,c,h){let _=a.Ic[a.currentUser.toKey()];_||(_=new mr(sn)),_=_.insert(c,h),a.Ic[a.currentUser.toKey()]=_}(r,i.batchId,t),yield nd(r,i.changes),yield __(r.remoteStore)}catch(i){const a=v_(i,"Failed to persist write");t.reject(a)}}),bR.apply(this,arguments)}function k2(n,e){return wR.apply(this,arguments)}function wR(){return wR=(0,Ne.Z)(function*(n,e){const t=lt(n);try{const r=yield f3(t.localStore,e);e.targetChanges.forEach((i,a)=>{const c=t.gc.get(a);c&&(Tt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?c.lc=!0:i.modifiedDocuments.size>0?Tt(c.lc):i.removedDocuments.size>0&&(Tt(c.lc),c.lc=!1))}),yield nd(t,r,e)}catch(r){yield Ah(r)}}),wR.apply(this,arguments)}function P2(n,e,t){const r=lt(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.dc.forEach((a,c)=>{const h=c.view.ku(e);h.snapshot&&i.push(h.snapshot)}),function(a,c){const h=lt(a);h.onlineState=c;let _=!1;h.queries.forEach((b,D)=>{for(const x of D.listeners)x.ku(c)&&(_=!0)}),_&&mR(h)}(r.eventManager,e),i.length&&r.fc.eu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function K3(n,e,t){return CR.apply(this,arguments)}function CR(){return CR=(0,Ne.Z)(function*(n,e,t){const r=lt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.gc.get(e),a=i&&i.key;if(a){let c=new mr(at.comparator);c=c.insert(a,Dr.newNoDocument(a,xt.min()));const h=pn().add(a),_=new xE(xt.min(),new Map,new mr(sn),c,h);yield k2(r,_),r.mc=r.mc.remove(a),r.gc.delete(e),xR(r)}else yield m_(r.localStore,e,!1).then(()=>w_(r,e,t)).catch(Ah)}),CR.apply(this,arguments)}function Z3(n,e){return DR.apply(this,arguments)}function DR(){return DR=(0,Ne.Z)(function*(n,e){const t=lt(n),r=e.batch.batchId;try{const i=yield h3(t.localStore,e);AR(t,r,null),SR(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield nd(t,i)}catch(i){yield Ah(i)}}),DR.apply(this,arguments)}function Y3(n,e,t){return IR.apply(this,arguments)}function IR(){return IR=(0,Ne.Z)(function*(n,e,t){const r=lt(n);try{const i=yield function(a,c){const h=lt(a);return h.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let b;return h.mutationQueue.lookupMutationBatch(_,c).next(D=>(Tt(null!==D),b=D.keys(),h.mutationQueue.removeMutationBatch(_,D))).next(()=>h.mutationQueue.performConsistencyCheck(_)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(_,b,c)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,b)).next(()=>h.localDocuments.getDocuments(_,b))})}(r.localStore,e);AR(r,e,t),SR(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield nd(r,i)}catch(i){yield Ah(i)}}),IR.apply(this,arguments)}function TR(){return TR=(0,Ne.Z)(function*(n,e){const t=lt(n);jh(t.remoteStore)||We("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(a){const c=lt(a);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",h=>c.mutationQueue.getHighestUnacknowledgedBatchId(h))}(t.localStore);if(-1===r)return void e.resolve();const i=t.Tc.get(r)||[];i.push(e),t.Tc.set(r,i)}catch(r){const i=v_(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),TR.apply(this,arguments)}function SR(n,e){(n.Tc.get(e)||[]).forEach(t=>{t.resolve()}),n.Tc.delete(e)}function AR(n,e,t){const r=lt(n);let i=r.Ic[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.Ic[r.currentUser.toKey()]=i}}function w_(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.dc.delete(r),t&&n.fc.vc(r,t);n._c.delete(e),n.isPrimaryClient&&n.yc.ps(e).forEach(r=>{n.yc.containsKey(r)||N2(n,r)})}function N2(n,e){n.wc.delete(e.path.canonicalString());const t=n.mc.get(e);null!==t&&(GE(n.remoteStore,t),n.mc=n.mc.remove(e),n.gc.delete(t),xR(n))}function MR(n,e,t){for(const r of t)r instanceof x2?(n.yc.addReference(r.key,e),X3(n,r)):r instanceof R2?(We("SyncEngine","Document no longer in limbo: "+r.key),n.yc.removeReference(r.key,e),n.yc.containsKey(r.key)||N2(n,r.key)):yt()}function X3(n,e){const t=e.key,r=t.path.canonicalString();n.mc.get(t)||n.wc.has(r)||(We("SyncEngine","New document in limbo: "+t),n.wc.add(r),xR(n))}function xR(n){for(;n.wc.size>0&&n.mc.size<n.maxConcurrentLimboResolutions;){const e=n.wc.values().next().value;n.wc.delete(e);const t=new at(xn.fromString(e)),r=n.Ec.next();n.gc.set(r,new z3(t)),n.mc=n.mc.insert(t,r),jD(n.remoteStore,new td(uo(s_(t.path)),r,"TargetPurposeLimboResolution",ma.ct))}}function nd(n,e,t){return RR.apply(this,arguments)}function RR(){return RR=(0,Ne.Z)(function*(n,e,t){const r=lt(n),i=[],a=[],c=[];var h;r.dc.isEmpty()||(r.dc.forEach((h,_)=>{c.push(r.Rc(_,e,t).then(b=>{if((b||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(_.targetId,(null==b?void 0:b.fromCache)?"not-current":"current"),b){i.push(b);const D=Nx.Bi(_.targetId,b);a.push(D)}}))}),yield Promise.all(c),r.fc.eu(i),yield(h=(0,Ne.Z)(function*(_,b){const D=lt(_);try{yield D.persistence.runTransaction("notifyLocalViewChanges","readwrite",x=>ge.forEach(b,F=>ge.forEach(F.$i,j=>D.persistence.referenceDelegate.addReference(x,F.targetId,j)).next(()=>ge.forEach(F.Fi,j=>D.persistence.referenceDelegate.removeReference(x,F.targetId,j)))))}catch(x){if(!Mh(x))throw x;We("LocalStore","Failed to update sequence numbers: "+x)}for(const x of b){const F=x.targetId;if(!x.fromCache){const j=D.Hi.get(F),de=j.withLastLimboFreeSnapshotVersion(j.snapshotVersion);D.Hi=D.Hi.insert(F,de)}}}),function(_,b){return h.apply(this,arguments)})(r.localStore,a))}),RR.apply(this,arguments)}function J3(n,e){return OR.apply(this,arguments)}function OR(){return OR=(0,Ne.Z)(function*(n,e){const t=lt(n);if(!t.currentUser.isEqual(e)){We("SyncEngine","User change. New user:",e.toKey());const r=yield c2(t.localStore,e);t.currentUser=e,(i=t).Tc.forEach(c=>{c.forEach(h=>{h.reject(new $e(Te.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Tc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield nd(t,r.tr)}var i}),OR.apply(this,arguments)}function e$(n,e){const t=lt(n),r=t.gc.get(e);if(r&&r.lc)return pn().add(r.key);{let i=pn();const a=t._c.get(e);if(!a)return i;for(const c of a){const h=t.dc.get(c);i=i.unionWith(h.view.ec)}return i}}function t$(n,e){return kR.apply(this,arguments)}function kR(){return kR=(0,Ne.Z)(function*(n,e){const t=lt(n),r=yield FD(t.localStore,e.query,!0),i=e.view.ac(r);return t.isPrimaryClient&&MR(t,e.targetId,i.uc),i}),kR.apply(this,arguments)}function n$(n,e){return PR.apply(this,arguments)}function PR(){return PR=(0,Ne.Z)(function*(n,e){const t=lt(n);return f2(t.localStore,e).then(r=>nd(t,r))}),PR.apply(this,arguments)}function r$(n,e,t,r){return NR.apply(this,arguments)}function NR(){return NR=(0,Ne.Z)(function*(n,e,t,r){const i=lt(n),a=yield function(c,h){const _=lt(c),b=lt(_.mutationQueue);return _.persistence.runTransaction("Lookup mutation documents","readonly",D=>b.Vn(D,h).next(x=>x?_.localDocuments.getDocuments(D,x):ge.resolve(null)))}(i.localStore,e);var h;null!==a?("pending"===t?yield __(i.remoteStore):"acknowledged"===t||"rejected"===t?(AR(i,e,r||null),SR(i,e),h=e,lt(lt(i.localStore).mutationQueue).Dn(h)):yt(),yield nd(i,a)):We("SyncEngine","Cannot apply mutation batch with id: "+e)}),NR.apply(this,arguments)}function FR(){return FR=(0,Ne.Z)(function*(n,e){const t=lt(n);if(UR(t),jR(t),!0===e&&!0!==t.Ac){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield F2(t,r.toArray());t.Ac=!0,yield lR(t.remoteStore,!0);for(const a of i)jD(t.remoteStore,a)}else if(!1===e&&!1!==t.Ac){const r=[];let i=Promise.resolve();t._c.forEach((a,c)=>{t.sharedClientState.isLocalQueryTarget(c)?r.push(c):i=i.then(()=>(w_(t,c),m_(t.localStore,c,!0))),GE(t.remoteStore,c)}),yield i,yield F2(t,r),function(a){const c=lt(a);c.gc.forEach((h,_)=>{GE(c.remoteStore,_)}),c.yc.Is(),c.gc=new Map,c.mc=new mr(at.comparator)}(t),t.Ac=!1,yield lR(t.remoteStore,!1)}}),FR.apply(this,arguments)}function F2(n,e,t){return LR.apply(this,arguments)}function LR(){return LR=(0,Ne.Z)(function*(n,e,t){const r=lt(n),i=[],a=[];for(const c of e){let h;const _=r._c.get(c);if(_&&0!==_.length){h=yield p_(r.localStore,uo(_[0]));for(const b of _){const D=r.dc.get(b),x=yield t$(r,D);x.snapshot&&a.push(x.snapshot)}}else{const b=yield h2(r.localStore,c);h=yield p_(r.localStore,b),yield yR(r,L2(b),c,!1,h.resumeToken)}i.push(h)}return r.fc.eu(a),i}),LR.apply(this,arguments)}function L2(n){return z1(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function s$(n){const e=lt(n);return lt(lt(e.localStore).persistence).Mi()}function o$(n,e,t,r){return BR.apply(this,arguments)}function BR(){return BR=(0,Ne.Z)(function*(n,e,t,r){const i=lt(n);if(i.Ac)return void We("SyncEngine","Ignoring unexpected query state notification.");const a=i._c.get(e);if(a&&a.length>0)switch(t){case"current":case"not-current":{const c=yield f2(i.localStore,q1(a[0])),h=xE.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Fi.EMPTY_BYTE_STRING);yield nd(i,c,h);break}case"rejected":yield m_(i.localStore,e,!0),w_(i,e,r);break;default:yt()}}),BR.apply(this,arguments)}function a$(n,e,t){return VR.apply(this,arguments)}function VR(){return VR=(0,Ne.Z)(function*(n,e,t){const r=UR(n);if(r.Ac){for(const i of e){if(r._c.has(i)){We("SyncEngine","Adding an already active target "+i);continue}const a=yield h2(r.localStore,i),c=yield p_(r.localStore,a);yield yR(r,L2(a),c.targetId,!1,c.resumeToken),jD(r.remoteStore,c)}for(const i of t)r._c.has(i)&&(yield m_(r.localStore,i,!1).then(()=>{GE(r.remoteStore,i),w_(r,i)}).catch(Ah))}}),VR.apply(this,arguments)}function UR(n){const e=lt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=k2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=e$.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=K3.bind(null,e),e.fc.eu=B3.bind(null,e.eventManager),e.fc.vc=V3.bind(null,e.eventManager),e}function jR(n){const e=lt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Z3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Y3.bind(null,e),e}class qE{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Ne.Z)(function*(){t.serializer=zE(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return l2(this.persistence,new a2,e.initialUser,this.serializer)}createPersistence(e){return new Rx(kD.js,this.serializer)}createSharedClientState(e){return new _2}terminate(){var e=this;return(0,Ne.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class HR extends qE{constructor(e,t,r){super(),this.bc=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,Ne.Z)(function*(){yield t().call(r,e),yield r.bc.initialize(r,e),yield jR(r.bc.syncEngine),yield __(r.bc.remoteStore),yield r.persistence.pi(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return l2(this.persistence,new a2,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new QL(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const r=new kH(t,this.persistence);return new OH(e.asyncQueue,r)}createPersistence(e){const t=Px(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?$s.withCacheSize(this.cacheSizeBytes):$s.DEFAULT;return new kx(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,v2(),UD(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new _2}}class B2 extends HR{constructor(e,t){super(e,t,!1),this.bc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,Ne.Z)(function*(){yield t().call(r,e);const i=r.bc.syncEngine;r.sharedClientState instanceof zx&&(r.sharedClientState.syncEngine={Qr:r$.bind(null,i),jr:o$.bind(null,i),zr:a$.bind(null,i),Mi:s$.bind(null,i),Gr:n$.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.pi(function(){var a=(0,Ne.Z)(function*(c){yield function i$(n,e){return FR.apply(this,arguments)}(r.bc.syncEngine,c),r.gcScheduler&&(c&&!r.gcScheduler.started?r.gcScheduler.start():c||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(c&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():c||r.indexBackfillerScheduler.stop())});return function(c){return a.apply(this,arguments)}}())})()}createSharedClientState(e){const t=v2();if(!zx.D(t))throw new $e(Te.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=Px(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new zx(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class C_{initialize(e,t){var r=this;return(0,Ne.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>P2(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=J3.bind(null,r.syncEngine),yield lR(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new L3}createDatastore(e){const t=zE(e.databaseInfo.databaseId),r=new E3(e.databaseInfo);return new C3(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,a=h=>P2(this.syncEngine,h,0),c=y2.D()?new y2:new _3,new T3(t,r,i,a,c);var t,r,i,a,c}createSyncEngine(e,t){return function(r,i,a,c,h,_,b){const D=new $3(r,i,a,c,h,_);return b&&(D.Ac=!0),D}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Ne.Z)(function*(t){const r=lt(t);We("RemoteStore","RemoteStore shutting down."),r.Au.add(5),yield g_(r),r.vu.shutdown(),r.Pu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function V2(n,e=10240){let t=0;return{read:()=>(0,Ne.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,Ne.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class zD{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Vc(this.observer.next,e)}error(e){this.observer.error?this.Vc(this.observer.error,e):ui("Uncaught Error in snapshot listener:",e.toString())}Sc(){this.muted=!0}Vc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class u${constructor(e,t){this.Dc=e,this.serializer=t,this.metadata=new Ni,this.buffer=new Uint8Array,this.Cc=new TextDecoder("utf-8"),this.xc().then(r=>{r&&r.Gu()?this.metadata.resolve(r.Ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.Ku)}`))},r=>this.metadata.reject(r))}close(){return this.Dc.cancel()}getMetadata(){var e=this;return(0,Ne.Z)(function*(){return e.metadata.promise})()}Pc(){var e=this;return(0,Ne.Z)(function*(){return yield e.getMetadata(),e.xc()})()}xc(){var e=this;return(0,Ne.Z)(function*(){const t=yield e.Nc();if(null===t)return null;const r=e.Cc.decode(t),i=Number(r);isNaN(i)&&e.kc(`length string (${r}) is not valid number`);const a=yield e.Mc(i);return new U3(JSON.parse(a),t.length+i)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Nc(){var e=this;return(0,Ne.Z)(function*(){for(;e.Oc()<0&&!(yield e.$c()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.kc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Mc(e){var t=this;return(0,Ne.Z)(function*(){for(;t.buffer.length<e;)(yield t.$c())&&t.kc("Reached the end of bundle when more is expected.");const r=t.Cc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}kc(e){throw this.Dc.cancel(),new Error(`Invalid bundle format: ${e}`)}$c(){var e=this;return(0,Ne.Z)(function*(){const t=yield e.Dc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class d${constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Ne.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new $e(Te.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,Ne.Z)(function*(a,c){const h=lt(a),_=kE(h.serializer)+"/documents",b={documents:c.map(j=>OE(h.serializer,j))},D=yield h.Ao("BatchGetDocuments",_,b,c.length),x=new Map;D.forEach(j=>{const ee=function Rz(n,e){return"found"in e?function(t,r){Tt(!!r.found);const i=Qc(t,r.found.name),a=di(r.found.updateTime),c=r.found.createTime?di(r.found.createTime):xt.min(),h=new Es({mapValue:{fields:r.found.fields}});return Dr.newFoundDocument(i,a,c,h)}(n,e):"missing"in e?function(t,r){Tt(!!r.missing),Tt(!!r.readTime);const i=Qc(t,r.missing),a=di(r.readTime);return Dr.newNoDocument(i,a)}(n,e):yt()}(h.serializer,j);x.set(ee.key.toString(),ee)});const F=[];return c.forEach(j=>{const ee=x.get(j.toString());Tt(!!ee),F.push(ee)}),F}),function(a,c){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new c_(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Ne.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const a=at.fromPath(i);e.mutations.push(new hx(a,e.precondition(a)))}),yield(r=(0,Ne.Z)(function*(i,a){const c=lt(i),h=kE(c.serializer)+"/documents",_={writes:a.map(b=>PE(c.serializer,b))};yield c.po("Commit",h,_)}),function(i,a){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw yt();t=xt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new $e(Te.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(xt.min())?Nr.exists(!1):Nr.updateTime(t):Nr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(xt.min()))throw new $e(Te.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Nr.updateTime(t)}return Nr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class h${constructor(e,t,r,i,a){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=a,this.Fc=r.maxAttempts,this.Lo=new Gx(this.asyncQueue,"transaction_retry")}run(){this.Fc-=1,this.Bc()}Bc(){var e=this;this.Lo.xo((0,Ne.Z)(function*(){const t=new d$(e.datastore),r=e.Lc(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(a=>{e.qc(a)}))}).catch(i=>{e.qc(i)})}))}Lc(e){try{const t=this.updateFunction(e);return!gE(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}qc(e){this.Fc>0&&this.Uc(e)?(this.Fc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Bc(),Promise.resolve()))):this.deferred.reject(e)}Uc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!uL(t)}return!1}}class f${constructor(e,t,r,i){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Ki.UNAUTHENTICATED,this.clientId=a1.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var c=(0,Ne.Z)(function*(h){We("FirestoreClient","Received user=",h.uid),yield a.authCredentialListener(h),a.user=h});return function(h){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(r,c=>(We("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,Ne.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new $e(Te.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Ni;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ne.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=v_(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function $D(n,e){return zR.apply(this,arguments)}function zR(){return zR=(0,Ne.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),We("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,Ne.Z)(function*(a){r.isEqual(a)||(yield c2(e.localStore,a),r=a)});return function(a){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),zR.apply(this,arguments)}function $R(n,e){return GR.apply(this,arguments)}function GR(){return GR=(0,Ne.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield qR(n);We("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>T2(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>T2(e.remoteStore,a)),n._onlineComponents=e}),GR.apply(this,arguments)}function U2(n){return"FirebaseError"===n.name?n.code===Te.FAILED_PRECONDITION||n.code===Te.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function qR(n){return WR.apply(this,arguments)}function WR(){return WR=(0,Ne.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){We("FirestoreClient","Using user provided OfflineComponentProvider");try{yield $D(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!U2(t))throw t;nl("Error using user provided cache. Falling back to memory cache: "+t),yield $D(n,new qE)}}else We("FirestoreClient","Using default OfflineComponentProvider"),yield $D(n,new qE);return n._offlineComponents}),WR.apply(this,arguments)}function GD(n){return KR.apply(this,arguments)}function KR(){return KR=(0,Ne.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(We("FirestoreClient","Using user provided OnlineComponentProvider"),yield $R(n,n._uninitializedComponentsProvider._online)):(We("FirestoreClient","Using default OnlineComponentProvider"),yield $R(n,new C_))),n._onlineComponents}),KR.apply(this,arguments)}function j2(n){return qR(n).then(e=>e.persistence)}function qD(n){return qR(n).then(e=>e.localStore)}function H2(n){return GD(n).then(e=>e.remoteStore)}function ZR(n){return GD(n).then(e=>e.syncEngine)}function D_(n){return YR.apply(this,arguments)}function YR(){return YR=(0,Ne.Z)(function*(n){const e=yield GD(n),t=e.eventManager;return t.onListen=G3.bind(null,e.syncEngine),t.onUnlisten=q3.bind(null,e.syncEngine),t}),YR.apply(this,arguments)}function $2(n,e,t={}){const r=new Ni;return n.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return function(i,a,c,h,_){const b=new zD({next:x=>{a.enqueueAndForget(()=>fR(i,D));const F=x.docs.has(c);!F&&x.fromCache?_.reject(new $e(Te.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&x.fromCache&&h&&"server"===h.source?_.reject(new $e(Te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(x)},error:x=>_.reject(x)}),D=new gR(s_(c.path),b,{includeMetadataChanges:!0,Uu:!0});return dR(i,D)}(yield D_(n),n.asyncQueue,e,t,r)})),r.promise}function G2(n,e,t={}){const r=new Ni;return n.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return function(i,a,c,h,_){const b=new zD({next:x=>{a.enqueueAndForget(()=>fR(i,D)),x.fromCache&&"server"===h.source?_.reject(new $e(Te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(x)},error:x=>_.reject(x)}),D=new gR(c,b,{includeMetadataChanges:!0,Uu:!0});return dR(i,D)}(yield D_(n),n.asyncQueue,e,t,r)})),r.promise}const q2=new Map;function QR(n,e,t){if(!t)throw new $e(Te.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function W2(n,e,t,r){if(!0===e&&!0===r)throw new $e(Te.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function K2(n){if(!at.isDocumentKey(n))throw new $e(Te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Z2(n){if(at.isDocumentKey(n))throw new $e(Te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function WD(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":yt()}function Tn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new $e(Te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=WD(n);throw new $e(Te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Y2(n,e){if(e<=0)throw new $e(Te.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class Q2{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new $e(Te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new $e(Te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}W2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!this.experimentalForceLongPolling&&void 0!==e.experimentalAutoDetectLongPolling&&!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class WE{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Q2({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new $e(Te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new $e(Te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Q2(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new EH;switch(t.type){case"firstParty":return new DH(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new $e(Te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=q2.get(e);t&&(We("ComponentProvider","Removing Datastore"),q2.delete(e),t.terminate())}(this),Promise.resolve()}}class Ir{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ir(this.firestore,e,this._key)}}class bs{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new bs(this.firestore,e,this._query)}}class Xc extends bs{constructor(e,t,r){super(e,t,s_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ir(this.firestore,null,new at(e))}withConverter(e){return new Xc(this.firestore,e,this._path)}}function J2(n,e,...t){if(n=(0,Fn.m9)(n),QR("collection","path",e),n instanceof WE){const r=xn.fromString(e,...t);return Z2(r),new Xc(n,null,r)}{if(!(n instanceof Ir||n instanceof Xc))throw new $e(Te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(xn.fromString(e,...t));return Z2(r),new Xc(n.firestore,null,r)}}function KD(n,e,...t){if(n=(0,Fn.m9)(n),1===arguments.length&&(e=a1.A()),QR("doc","path",e),n instanceof WE){const r=xn.fromString(e,...t);return K2(r),new Ir(n,null,new at(r))}{if(!(n instanceof Ir||n instanceof Xc))throw new $e(Te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(xn.fromString(e,...t));return K2(r),new Ir(n.firestore,n instanceof Xc?n.converter:null,new at(r))}}function eB(n,e){return n=(0,Fn.m9)(n),e=(0,Fn.m9)(e),(n instanceof Ir||n instanceof Xc)&&(e instanceof Ir||e instanceof Xc)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function XR(n,e){return n=(0,Fn.m9)(n),e=(0,Fn.m9)(e),n instanceof bs&&e instanceof bs&&n.firestore===e.firestore&&CE(n._query,e._query)&&n.converter===e.converter}class C${constructor(){this.Kc=Promise.resolve(),this.Gc=[],this.Qc=!1,this.jc=[],this.zc=null,this.Wc=!1,this.Hc=!1,this.Jc=[],this.Lo=new Gx(this,"async_queue_retry"),this.Yc=()=>{const t=UD();t&&We("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Lo.ko()};const e=UD();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Yc)}get isShuttingDown(){return this.Qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Xc(),this.Zc(e)}enterRestrictedMode(e){if(!this.Qc){this.Qc=!0,this.Hc=e||!1;const t=UD();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Yc)}}enqueue(e){if(this.Xc(),this.Qc)return new Promise(()=>{});const t=new Ni;return this.Zc(()=>this.Qc&&this.Hc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Gc.push(e),this.ta()))}ta(){var e=this;return(0,Ne.Z)(function*(){if(0!==e.Gc.length){try{yield e.Gc[0](),e.Gc.shift(),e.Lo.reset()}catch(t){if(!Mh(t))throw t;We("AsyncQueue","Operation failed with retryable error: "+t)}e.Gc.length>0&&e.Lo.xo(()=>e.ta())}})()}Zc(e){const t=this.Kc.then(()=>(this.Wc=!0,e().catch(r=>{throw this.zc=r,this.Wc=!1,ui("INTERNAL UNHANDLED ERROR: ",function(a){let c=a.message||"";return a.stack&&(c=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),c}(r)),r}).then(r=>(this.Wc=!1,r))));return this.Kc=t,t}enqueueAfterDelay(e,t,r){this.Xc(),this.Jc.indexOf(e)>-1&&(t=0);const i=uR.createAndSchedule(this,e,t,r,a=>this.ea(a));return this.jc.push(i),i}Xc(){this.zc&&yt()}verifyOperationInProgress(){}na(){var e=this;return(0,Ne.Z)(function*(){let t;do{t=e.Kc,yield t}while(t!==e.Kc)})()}sa(e){for(const t of this.jc)if(t.timerId===e)return!0;return!1}ia(e){return this.na().then(()=>{this.jc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.jc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.na()})}ra(e){this.Jc.push(e)}ea(e){const t=this.jc.indexOf(e);this.jc.splice(t,1)}}function JR(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class D${constructor(){this._progressObserver={},this._taskCompletionResolver=new Ni,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Tr extends WE{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new C$,this._persistenceKey=(null==i?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||tB(this),this._firestoreClient.terminate()}}function hi(n){return n._firestoreClient||tB(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function tB(n){var e,t,r;const i=n._freezeSettings(),a=(h=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new ez(n._databaseId,h,n._persistenceKey,(b=i).host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,b.useFetchStreams));var h,b;n._firestoreClient=new f$(n._authCredentials,n._appCheckCredentials,n._queue,a),(null===(t=i.cache)||void 0===t?void 0:t._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}function nB(n,e,t){const r=new Ni;return n.asyncQueue.enqueue((0,Ne.Z)(function*(){try{yield $D(n,t),yield $R(n,e),r.resolve()}catch(i){const a=i;if(!U2(a))throw a;nl("Error enabling indexeddb cache. Falling back to memory cache: "+a),r.reject(a)}})).then(()=>r.promise)}function rB(n){if(n._initialized||n._terminated)throw new $e(Te.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Jc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Jc(Fi.fromBase64String(e))}catch(t){throw new $e(Te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Jc(Fi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class rd{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new $e(Te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Wp{constructor(e){this._methodName=e}}class ZD{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new $e(Te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new $e(Te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return sn(this._lat,e._lat)||sn(this._long,e._long)}}const N$=/^__.*__$/;class F${constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new ed(e,this.data,this.fieldMask,t,this.fieldTransforms):new l_(e,this.data,t,this.fieldTransforms)}}class iB{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new ed(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function sB(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt()}}class YD{constructor(e,t,r,i,a,c){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this.oa(),this.fieldTransforms=a||[],this.fieldMask=c||[]}get path(){return this.settings.path}get ua(){return this.settings.ua}ca(e){return new YD(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}aa(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ca({path:r,ha:!1});return i.la(e),i}fa(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ca({path:r,ha:!1});return i.oa(),i}da(e){return this.ca({path:void 0,ha:!0})}_a(e){return JD(e,this.settings.methodName,this.settings.wa||!1,this.path,this.settings.ma)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}oa(){if(this.path)for(let e=0;e<this.path.length;e++)this.la(this.path.get(e))}la(e){if(0===e.length)throw this._a("Document fields must not be empty");if(sB(this.ua)&&N$.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class L${constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||zE(e)}ga(e,t,r,i=!1){return new YD({ua:e,methodName:t,ma:r,path:Jr.emptyPath(),ha:!1,wa:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Kp(n){const e=n._freezeSettings(),t=zE(n._databaseId);return new L$(n._databaseId,!!e.ignoreUndefinedProperties,t)}function QD(n,e,t,r,i,a={}){const c=n.ga(a.merge||a.mergeFields?2:0,e,t,i);rO("Data must be an object, but it was:",c,r);const h=lB(r,c);let _,b;if(a.merge)_=new Uo(c.fieldMask),b=c.fieldTransforms;else if(a.mergeFields){const D=[];for(const x of a.mergeFields){const F=YE(e,x,t);if(!c.contains(F))throw new $e(Te.INVALID_ARGUMENT,`Field '${F}' is specified in your field mask but missing from your input data.`);uB(D,F)||D.push(F)}_=new Uo(D),b=c.fieldTransforms.filter(x=>_.covers(x.field))}else _=null,b=c.fieldTransforms;return new F$(new Es(h),_,b)}class ZE extends Wp{_toFieldTransform(e){if(2!==e.ua)throw e._a(1===e.ua?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ZE}}function oB(n,e,t){return new YD({ua:3,ma:e.settings.ma,methodName:n._methodName,ha:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class eO extends Wp{_toFieldTransform(e){return new SE(e.path,new o_)}isEqual(e){return e instanceof eO}}class B$ extends Wp{constructor(e,t){super(e),this.ya=t}_toFieldTransform(e){const t=oB(this,e,!0),r=this.ya.map(a=>Zp(a,t)),i=new Bp(r);return new SE(e.path,i)}isEqual(e){return this===e}}class V$ extends Wp{constructor(e,t){super(e),this.ya=t}_toFieldTransform(e){const t=oB(this,e,!0),r=this.ya.map(a=>Zp(a,t)),i=new Vp(r);return new SE(e.path,i)}isEqual(e){return this===e}}class U$ extends Wp{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=new a_(e.serializer,J1(e.serializer,this.pa));return new SE(e.path,t)}isEqual(e){return this===e}}function tO(n,e,t,r){const i=n.ga(1,e,t);rO("Data must be an object, but it was:",i,r);const a=[],c=Es.empty();xh(r,(_,b)=>{const D=XD(e,_,t);b=(0,Fn.m9)(b);const x=i.fa(D);if(b instanceof ZE)a.push(D);else{const F=Zp(b,x);null!=F&&(a.push(D),c.set(D,F))}});const h=new Uo(a);return new iB(c,h,i.fieldTransforms)}function nO(n,e,t,r,i,a){const c=n.ga(1,e,t),h=[YE(e,r,t)],_=[i];if(a.length%2!=0)throw new $e(Te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let F=0;F<a.length;F+=2)h.push(YE(e,a[F])),_.push(a[F+1]);const b=[],D=Es.empty();for(let F=h.length-1;F>=0;--F)if(!uB(b,h[F])){const j=h[F];let ee=_[F];ee=(0,Fn.m9)(ee);const de=c.fa(j);if(ee instanceof ZE)b.push(j);else{const Ae=Zp(ee,de);null!=Ae&&(b.push(j),D.set(j,Ae))}}const x=new Uo(b);return new iB(D,x,c.fieldTransforms)}function aB(n,e,t,r=!1){return Zp(t,n.ga(r?4:3,e))}function Zp(n,e){if(cB(n=(0,Fn.m9)(n)))return rO("Unsupported field value:",e,n),lB(n,e);if(n instanceof Wp)return function(t,r){if(!sB(r.ua))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ha&&4!==e.ua)throw e._a("Nested arrays are not supported");return function(t,r){const i=[];let a=0;for(const c of t){let h=Zp(c,r.da(a));null==h&&(h={nullValue:"NULL_VALUE"}),i.push(h),a++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,Fn.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return J1(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=Pr.fromDate(t);return{timestampValue:u_(r.serializer,i)}}if(t instanceof Pr){const i=new Pr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:u_(r.serializer,i)}}if(t instanceof ZD)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Jc)return{bytesValue:EL(r.serializer,t._byteString)};if(t instanceof Ir){const i=r.databaseId,a=t.firestore._databaseId;if(!a.isEqual(i))throw r._a(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:vx(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${WD(t)}`)}(n,e)}function lB(n,e){const t={};return w1(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):xh(n,(r,i)=>{const a=Zp(i,e.aa(r));null!=a&&(t[r]=a)}),{mapValue:{fields:t}}}function cB(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Pr||n instanceof ZD||n instanceof Jc||n instanceof Ir||n instanceof Wp)}function rO(n,e,t){if(!cB(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=WD(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function YE(n,e,t){if((e=(0,Fn.m9)(e))instanceof rd)return e._internalPath;if("string"==typeof e)return XD(n,e);throw JD("Field path arguments must be of type string or ",n,!1,void 0,t)}const j$=new RegExp("[~\\*/\\[\\]]");function XD(n,e,t){if(e.search(j$)>=0)throw JD(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new rd(...e.split("."))._internalPath}catch(r){throw JD(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function JD(n,e,t,r,i){const a=r&&!r.isEmpty(),c=void 0!==i;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let _="";return(a||c)&&(_+=" (found",a&&(_+=` in field ${r}`),c&&(_+=` in document ${i}`),_+=")"),new $e(Te.INVALID_ARGUMENT,h+n+_)}function uB(n,e){return n.some(t=>t.isEqual(e))}class QE{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Ir(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new H$(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(eI("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class H$ extends QE{data(){return super.data()}}function eI(n,e){return"string"==typeof e?XD(n,e):e instanceof rd?e._internalPath:e._delegate._internalPath}function dB(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new $e(Te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class iO{}class XE extends iO{}function zh(n,e,...t){let r=[];e instanceof iO&&r.push(e),r=r.concat(t),function(i){const a=i.filter(h=>h instanceof I_).length,c=i.filter(h=>h instanceof JE).length;if(a>1||a>0&&c>0)throw new $e(Te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class JE extends XE{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new JE(e,t,r)}_apply(e){const t=this._parse(e);return mB(e._query,t),new bs(e.firestore,e.converter,cx(e._query,t))}_parse(e){const t=Kp(e.firestore);return function(i,a,c,h,_,b,D){let x;if(_.isKeyField()){if("array-contains"===b||"array-contains-any"===b)throw new $e(Te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if("in"===b||"not-in"===b){pB(D,b);const F=[];for(const j of D)F.push(fB(h,i,j));x={arrayValue:{values:F}}}else x=fB(h,i,D)}else"in"!==b&&"not-in"!==b&&"array-contains-any"!==b||pB(D,b),x=aB(c,"where",D,"in"===b||"not-in"===b);return In.create(_,b,x)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class I_ extends iO{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new I_(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:tr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,i){let a=r;const c=i.getFlattenedFilters();for(const h of c)mB(a,h),a=cx(a,h)}(e._query,t),new bs(e.firestore,e.converter,cx(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class sO extends XE{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new sO(e,t)}_apply(e){const t=function(r,i,a){if(null!==r.startAt)throw new $e(Te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new $e(Te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new r_(i,a);return function(h,_){if(null===ax(h)){const b=yD(h);null!==b&&gB(0,b,_.field)}}(r,c),c}(e._query,this._field,this._direction);return new bs(e.firestore,e.converter,function(r,i){const a=r.explicitOrderBy.concat([i]);return new Xu(r.path,r.collectionGroup,a,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class tI extends XE{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new tI(e,t,r)}_apply(e){return new bs(e.firestore,e.converter,vD(e._query,this._limit,this._limitType))}}class nI extends XE{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new nI(e,t,r)}_apply(e){const t=hB(e,this.type,this._docOrFields,this._inclusive);return new bs(e.firestore,e.converter,(i=t,new Xu((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class rI extends XE{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new rI(e,t,r)}_apply(e){const t=hB(e,this.type,this._docOrFields,this._inclusive);return new bs(e.firestore,e.converter,(i=t,new Xu((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function hB(n,e,t,r){if(t[0]=(0,Fn.m9)(t[0]),t[0]instanceof QE)return function(i,a,c,h,_){if(!h)throw new $e(Te.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const b=[];for(const D of Lp(i))if(D.field.isKeyField())b.push(Np(a,h.key));else{const x=h.data.field(D.field);if(dD(x))throw new $e(Te.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+D.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===x){const F=D.field.canonicalString();throw new $e(Te.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${F}' (used as the orderBy) does not exist.`)}b.push(x)}return new Fh(b,_)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=Kp(n.firestore);return function(a,c,h,_,b,D){const x=a.explicitOrderBy;if(b.length>x.length)throw new $e(Te.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const F=[];for(let j=0;j<b.length;j++){const ee=b[j];if(x[j].field.isKeyField()){if("string"!=typeof ee)throw new $e(Te.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof ee}`);if(!lx(a)&&-1!==ee.indexOf("/"))throw new $e(Te.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${ee}' contains a slash.`);const de=a.path.child(xn.fromString(ee));if(!at.isDocumentKey(de))throw new $e(Te.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${de}' is not because it contains an odd number of segments.`);const Ae=new at(de);F.push(Np(c,Ae))}else{const de=aB(h,_,ee);F.push(de)}}return new Fh(F,D)}(n._query,n.firestore._databaseId,i,e,t,r)}}function fB(n,e,t){if("string"==typeof(t=(0,Fn.m9)(t))){if(""===t)throw new $e(Te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!lx(e)&&-1!==t.indexOf("/"))throw new $e(Te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(xn.fromString(t));if(!at.isDocumentKey(r))throw new $e(Te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Np(n,new at(r))}if(t instanceof Ir)return Np(n,t._key);throw new $e(Te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${WD(t)}.`)}function pB(n,e){if(!Array.isArray(n)||0===n.length)throw new $e(Te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function mB(n,e){if(e.isInequality()){const r=yD(n),i=e.field;if(null!==r&&!r.isEqual(i))throw new $e(Te.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const a=ax(n);null!==a&&gB(0,i,a)}const t=function(r,i){for(const a of r)for(const c of a.getFlattenedFilters())if(i.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new $e(Te.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function gB(n,e,t){if(!t.isEqual(e))throw new $e(Te.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class oO{convertValue(e,t="none"){switch(Ph(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ei(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Qu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw yt()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return xh(e,(i,a)=>{r[i]=this.convertValue(a,t)}),r}convertGeoPoint(e){return new ZD(ei(e.latitude),ei(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=hD(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(yE(e));default:return null}}convertTimestamp(e){const t=Rh(e);return new Pr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=xn.fromString(e);Tt(xL(r));const i=new Oh(r.get(1),r.get(3)),a=new at(r.popFirst(5));return i.isEqual(t)||ui(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function iI(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class Q$ extends oO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Jc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ir(this.firestore,null,t)}}class Yp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class id extends QE{constructor(e,t,r,i,a,c){super(e,t,r,i,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new eb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(eI("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class eb extends id{data(e={}){return super.data(e)}}class $h{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Yp(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new eb(this._firestore,this._userDataWriter,r.key,r,new Yp(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new $e(Te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(c=>({type:"added",doc:new eb(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Yp(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:a++}))}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>i||3!==c.type).map(c=>{const h=new eb(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Yp(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);let _=-1,b=-1;return 0!==c.type&&(_=a.indexOf(c.doc.key),a=a.delete(c.doc.key)),1!==c.type&&(a=a.add(c.doc),b=a.indexOf(c.doc.key)),{type:J$(c.type),doc:h,oldIndex:_,newIndex:b}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function J$(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt()}}function yB(n,e){return n instanceof id&&e instanceof id?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof $h&&e instanceof $h&&n._firestore===e._firestore&&XR(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Gh extends oO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Jc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ir(this.firestore,null,t)}}function vB(n,e,t){n=Tn(n,Ir);const r=Tn(n.firestore,Tr),i=iI(n.converter,e,t);return T_(r,[QD(Kp(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,Nr.none())])}function EB(n,e,t,...r){n=Tn(n,Ir);const i=Tn(n.firestore,Tr),a=Kp(i);let c;return c="string"==typeof(e=(0,Fn.m9)(e))||e instanceof rd?nO(a,"updateDoc",n._key,e,t,r):tO(a,"updateDoc",n._key,e),T_(i,[c.toMutation(n._key,Nr.exists(!0))])}function bB(n,...e){var t,r,i;n=(0,Fn.m9)(n);let a={includeMetadataChanges:!1},c=0;"object"!=typeof e[c]||JR(e[c])||(a=e[c],c++);const h={includeMetadataChanges:a.includeMetadataChanges};if(JR(e[c])){const x=e[c];e[c]=null===(t=x.next)||void 0===t?void 0:t.bind(x),e[c+1]=null===(r=x.error)||void 0===r?void 0:r.bind(x),e[c+2]=null===(i=x.complete)||void 0===i?void 0:i.bind(x)}let _,b,D;if(n instanceof Ir)b=Tn(n.firestore,Tr),D=s_(n._key.path),_={next:x=>{e[c]&&e[c](aO(b,n,x))},error:e[c+1],complete:e[c+2]};else{const x=Tn(n,bs);b=Tn(x.firestore,Tr),D=x._query;const F=new Gh(b);_={next:j=>{e[c]&&e[c](new $h(b,F,x,j))},error:e[c+1],complete:e[c+2]},dB(n._query)}return function(x,F,j,ee){const de=new zD(ee),Ae=new gR(F,de,j);return x.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return dR(yield D_(x),Ae)})),()=>{de.Sc(),x.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return fR(yield D_(x),Ae)}))}}(hi(b),D,h,_)}function T_(n,e){return function(t,r){const i=new Ni;return t.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return function W3(n,e,t){return bR.apply(this,arguments)}(yield ZR(t),r,i)})),i.promise}(hi(n),e)}function aO(n,e,t){const r=t.docs.get(e._key),i=new Gh(n);return new id(n,i,e._key,r,new Yp(t.hasPendingWrites,t.fromCache),e.converter)}const _G={maxAttempts:5};class wB{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Kp(e)}set(e,t,r){this._verifyNotCommitted();const i=qh(e,this._firestore),a=iI(i.converter,t,r),c=QD(this._dataReader,"WriteBatch.set",i._key,a,null!==i.converter,r);return this._mutations.push(c.toMutation(i._key,Nr.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const a=qh(e,this._firestore);let c;return c="string"==typeof(t=(0,Fn.m9)(t))||t instanceof rd?nO(this._dataReader,"WriteBatch.update",a._key,t,r,i):tO(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(c.toMutation(a._key,Nr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=qh(e,this._firestore);return this._mutations=this._mutations.concat(new c_(t._key,Nr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new $e(Te.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function qh(n,e){if((n=(0,Fn.m9)(n)).firestore!==e)throw new $e(Te.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class yG extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Kp(e)}get(e){const t=qh(e,this._firestore),r=new Q$(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return yt();const a=i[0];if(a.isFoundDocument())return new QE(this._firestore,r,a.key,a,t.converter);if(a.isNoDocument())return new QE(this._firestore,r,t._key,null,t.converter);throw yt()})}set(e,t,r){const i=qh(e,this._firestore),a=iI(i.converter,t,r),c=QD(this._dataReader,"Transaction.set",i._key,a,null!==i.converter,r);return this._transaction.set(i._key,c),this}update(e,t,r,...i){const a=qh(e,this._firestore);let c;return c="string"==typeof(t=(0,Fn.m9)(t))||t instanceof rd?nO(this._dataReader,"Transaction.update",a._key,t,r,i):tO(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,c),this}delete(e){const t=qh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=qh(e,this._firestore),r=new Gh(this._firestore);return super.get(e).then(i=>new id(this._firestore,r,t._key,i._document,new Yp(!1,!1),t.converter))}}function lO(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new $e("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function DB(){if("undefined"==typeof Uint8Array)throw new $e("unimplemented","Uint8Arrays are not available in this environment.")}function IB(){if(!function XH(){return"undefined"!=typeof atob}())throw new $e("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Jg=Ap.SDK_VERSION,(0,Ap._registerComponent)(new MC.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const a=t.getProvider("app").getImmediate(),c=new Tr(new wH(t.getProvider("auth-internal")),new IH(t.getProvider("app-check-internal")),function(h,_){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new $e(Te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Oh(h.options.projectId,_)}(a,r),a);return i=Object.assign({useFetchStreams:e},i),c._setSettings(i),c},"PUBLIC").setMultipleInstances(!0)),(0,Ap.registerVersion)(r1,"3.11.0",n),(0,Ap.registerVersion)(r1,"3.11.0","esm2017")}();class tb{constructor(e){this._delegate=e}static fromBase64String(e){return IB(),new tb(Jc.fromBase64String(e))}static fromUint8Array(e){return DB(),new tb(Jc.fromUint8Array(e))}toBase64(){return IB(),this._delegate.toBase64()}toUint8Array(){return DB(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function cO(n){return function SG(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class AG{enableIndexedDbPersistence(e,t){return function T$(n,e){rB(n=Tn(n,Tr));const t=hi(n);if(t._uninitializedComponentsProvider)throw new $e(Te.FAILED_PRECONDITION,"SDK cache is already specified.");nl("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=n._freezeSettings(),i=new C_;return nB(t,i,new HR(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function S$(n){rB(n=Tn(n,Tr));const e=hi(n);if(e._uninitializedComponentsProvider)throw new $e(Te.FAILED_PRECONDITION,"SDK cache is already specified.");nl("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),r=new C_;return nB(e,r,new B2(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function A$(n){if(n._initialized&&!n._terminated)throw new $e(Te.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Ni;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Ne.Z)(function*(){try{yield(t=(0,Ne.Z)(function*(r){if(!Vl.D())return Promise.resolve();const i=r+"main";yield Vl.delete(i)}),function(r){return t.apply(this,arguments)})(Px(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class TB{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Oh||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&nl("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function X2(n,e,t,r={}){var i;const a=(n=Tn(n,WE))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==e&&nl("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},a),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let c,h;if("string"==typeof r.mockUserToken)c=r.mockUserToken,h=Ki.MOCK_USER;else{c=(0,Fn.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new $e(Te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Ki(_)}n._authCredentials=new bH(new s1(c,h))}}(this._delegate,e,t,r)}enableNetwork(){return function x$(n){return function p$(n){return n.asyncQueue.enqueue((0,Ne.Z)(function*(){const e=yield j2(n),t=yield H2(n);return e.setNetworkEnabled(!0),function(r){const i=lt(r);return i.Au.delete(0),$E(i)}(t)}))}(hi(n=Tn(n,Tr)))}(this._delegate)}disableNetwork(){return function R$(n){return function m$(n){return n.asyncQueue.enqueue((0,Ne.Z)(function*(){const e=yield j2(n),t=yield H2(n);return e.setNetworkEnabled(!1),(r=(0,Ne.Z)(function*(i){const a=lt(i);a.Au.add(0),yield g_(a),a.Pu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(hi(n=Tn(n,Tr)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,W2("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function M$(n){return function(e){const t=new Ni;return e.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return function Q3(n,e){return TR.apply(this,arguments)}(yield ZR(e),t)})),t.promise}(hi(n=Tn(n,Tr)))}(this._delegate)}onSnapshotsInSync(e){return function lG(n,e){return function y$(n,e){const t=new zD(e);return n.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return r=yield D_(n),i=t,lt(r).Nu.add(i),void i.next();var r,i})),()=>{t.Sc(),n.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return r=yield D_(n),i=t,void lt(r).Nu.delete(i);var r,i}))}}(hi(n=Tn(n,Tr)),JR(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new $e("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new S_(this,J2(this._delegate,e))}catch(t){throw ho(t,"collection()","Firestore.collection()")}}doc(e){try{return new rl(this,KD(this._delegate,e))}catch(t){throw ho(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new fo(this,function w$(n,e){if(n=Tn(n,WE),QR("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new $e(Te.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new bs(n,null,(t=e,new Xu(xn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw ho(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function vG(n,e,t){n=Tn(n,Tr);const r=Object.assign(Object.assign({},_G),t);return function(i){if(i.maxAttempts<1)throw new $e(Te.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,a,c){const h=new Ni;return i.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){const _=yield function z2(n){return GD(n).then(e=>e.datastore)}(i);new h$(i.asyncQueue,_,c,a,h).run()})),h.promise}(hi(n),i=>e(new yG(n,i)),r)}(this._delegate,t=>e(new SB(this,t)))}batch(){return hi(this._delegate),new AB(new wB(this._delegate,e=>T_(this._delegate,e)))}loadBundle(e){return function O$(n,e){const t=hi(n=Tn(n,Tr)),r=new D$;return function v$(n,e,t,r){const i=function(a,c){let h;return h="string"==typeof a?hL().encode(a):a,_=function(_,b){if(_ instanceof Uint8Array)return V2(_,b);if(_ instanceof ArrayBuffer)return V2(new Uint8Array(_),b);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(h),new u$(_,c);var _}(t,zE(e));n.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){!function l$(n,e,t){const r=lt(n);var i;(i=(0,Ne.Z)(function*(a,c,h){try{const _=yield c.getMetadata();if(yield function(F,j){const ee=lt(F),de=di(j.createTime);return ee.persistence.runTransaction("hasNewerBundle","readonly",Ae=>ee.Ls.getBundleMetadata(Ae,j.id)).then(Ae=>!!Ae&&Ae.createTime.compareTo(de)>=0)}(a.localStore,_))return yield c.close(),h._completeWith({taskState:"Success",documentsLoaded:(F=_).totalDocuments,bytesLoaded:F.totalBytes,totalDocuments:F.totalDocuments,totalBytes:F.totalBytes}),Promise.resolve(new Set);h._updateProgress(M2(_));const b=new j3(_,a.localStore,c.serializer);let D=yield c.Pc();for(;D;){const F=yield b.ju(D);F&&h._updateProgress(F),D=yield c.Pc()}const x=yield b.complete();return yield nd(a,x.Hu,void 0),yield function(F,j){const ee=lt(F);return ee.persistence.runTransaction("Save bundle","readwrite",de=>ee.Ls.saveBundleMetadata(de,j))}(a.localStore,_),h._completeWith(x.progress),Promise.resolve(x.Wu)}catch(_){return nl("SyncEngine",`Loading bundle failed with ${_}`),h._failWith(_),Promise.resolve(new Set)}var F}),function(a,c,h){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield ZR(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function k$(n,e){return function E$(n,e){return n.asyncQueue.enqueue((0,Ne.Z)(function*(){return function(t,r){const i=lt(t);return i.persistence.runTransaction("Get named query","readonly",a=>i.Ls.getNamedQuery(a,r))}(yield qD(n),e)}))}(hi(n=Tn(n,Tr)),e).then(t=>t?new bs(n,null,t.query):null)}(this._delegate,e).then(t=>t?new fo(this,t):null)}}class sI extends oO{constructor(e){super(),this.firestore=e}convertBytes(e){return new tb(new Jc(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return rl.forKey(t,this.firestore,null)}}class SB{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new sI(e)}get(e){const t=Xp(e);return this._delegate.get(t).then(r=>new nb(this._firestore,new id(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=Xp(e);return r?(lO("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=Xp(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=Xp(e);return this._delegate.delete(t),this}}class AB{constructor(e){this._delegate=e}set(e,t,r){const i=Xp(e);return r?(lO("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=Xp(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=Xp(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Qp{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new eb(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new rb(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Qp.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let a=i.get(t);return a||(a=new Qp(e,new sI(e),t),i.set(t,a)),a}}Qp.INSTANCES=new WeakMap;class rl{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new sI(e)}static forPath(e,t,r){if(e.length%2!=0)throw new $e("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new rl(t,new Ir(t._delegate,r,new at(e)))}static forKey(e,t,r){return new rl(t,new Ir(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new S_(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new S_(this.firestore,J2(this._delegate,e))}catch(t){throw ho(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Fn.m9)(e))instanceof Ir&&eB(this._delegate,e)}set(e,t){t=lO("DocumentReference.set",t);try{return t?vB(this._delegate,e,t):vB(this._delegate,e)}catch(r){throw ho(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?EB(this._delegate,e):EB(this._delegate,e,t,...r)}catch(i){throw ho(i,"updateDoc()","DocumentReference.update()")}}delete(){return function oG(n){return T_(Tn(n.firestore,Tr),[new c_(n._key,Nr.none())])}(this._delegate)}onSnapshot(...e){const t=MB(e),r=xB(e,i=>new nb(this.firestore,new id(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return bB(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function tG(n){n=Tn(n,Ir);const e=Tn(n.firestore,Tr),t=hi(e),r=new Gh(e);return function g$(n,e){const t=new Ni;return n.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return(r=(0,Ne.Z)(function*(i,a,c){try{const h=yield function(_,b){const D=lt(_);return D.persistence.runTransaction("read document","readonly",x=>D.localDocuments.getDocument(x,b))}(i,a);h.isFoundDocument()?c.resolve(h):h.isNoDocument()?c.resolve(null):c.reject(new $e(Te.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const _=v_(h,`Failed to get document '${a} from cache`);c.reject(_)}}),function(i,a,c){return r.apply(this,arguments)})(yield qD(n),e,t);var r})),t.promise}(t,n._key).then(i=>new id(e,r,n._key,i,new Yp(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function nG(n){n=Tn(n,Ir);const e=Tn(n.firestore,Tr);return $2(hi(e),n._key,{source:"server"}).then(t=>aO(e,n,t))}(this._delegate):function eG(n){n=Tn(n,Ir);const e=Tn(n.firestore,Tr);return $2(hi(e),n._key).then(t=>aO(e,n,t))}(this._delegate),t.then(r=>new nb(this.firestore,new id(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new rl(this.firestore,this._delegate.withConverter(e?Qp.getInstance(this.firestore,e):null))}}function ho(n,e,t){return n.message=n.message.replace(e,t),n}function MB(n){for(const e of n)if("object"==typeof e&&!cO(e))return e;return{}}function xB(n,e){var t,r;let i;return i=cO(n[0])?n[0]:cO(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{i.next&&i.next(e(a))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class nb{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new rl(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return yB(this._delegate,e._delegate)}}class rb extends nb{data(e){const t=this._delegate.data(e);return function vH(n,e){n||yt()}(void 0!==t),t}}class fo{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new sI(e)}where(e,t,r){try{return new fo(this.firestore,zh(this._delegate,function z$(n,e,t){const r=e,i=eI("where",n);return JE._create(i,r,t)}(e,t,r)))}catch(i){throw ho(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new fo(this.firestore,zh(this._delegate,function $$(n,e="asc"){const t=e,r=eI("orderBy",n);return sO._create(r,t)}(e,t)))}catch(r){throw ho(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new fo(this.firestore,zh(this._delegate,function G$(n){return Y2("limit",n),tI._create("limit",n,"F")}(e)))}catch(t){throw ho(t,"limit()","Query.limit()")}}limitToLast(e){try{return new fo(this.firestore,zh(this._delegate,function q$(n){return Y2("limitToLast",n),tI._create("limitToLast",n,"L")}(e)))}catch(t){throw ho(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new fo(this.firestore,zh(this._delegate,function W$(...n){return nI._create("startAt",n,!0)}(...e)))}catch(t){throw ho(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new fo(this.firestore,zh(this._delegate,function K$(...n){return nI._create("startAfter",n,!1)}(...e)))}catch(t){throw ho(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new fo(this.firestore,zh(this._delegate,function Z$(...n){return rI._create("endBefore",n,!1)}(...e)))}catch(t){throw ho(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new fo(this.firestore,zh(this._delegate,function Y$(...n){return rI._create("endAt",n,!0)}(...e)))}catch(t){throw ho(t,"endAt()","Query.endAt()")}}isEqual(e){return XR(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function iG(n){n=Tn(n,bs);const e=Tn(n.firestore,Tr),t=hi(e),r=new Gh(e);return function _$(n,e){const t=new Ni;return n.asyncQueue.enqueueAndForget((0,Ne.Z)(function*(){return(r=(0,Ne.Z)(function*(i,a,c){try{const h=yield FD(i,a,!0),_=new O2(a,h.sr),b=_.nc(h.documents),D=_.applyChanges(b,!1);c.resolve(D.snapshot)}catch(h){const _=v_(h,`Failed to execute query '${a} against cache`);c.reject(_)}}),function(i,a,c){return r.apply(this,arguments)})(yield qD(n),e,t);var r})),t.promise}(t,n._query).then(i=>new $h(e,r,n,i))}(this._delegate):"server"===(null==e?void 0:e.source)?function sG(n){n=Tn(n,bs);const e=Tn(n.firestore,Tr),t=hi(e),r=new Gh(e);return G2(t,n._query,{source:"server"}).then(i=>new $h(e,r,n,i))}(this._delegate):function rG(n){n=Tn(n,bs);const e=Tn(n.firestore,Tr),t=hi(e),r=new Gh(e);return dB(n._query),G2(t,n._query).then(i=>new $h(e,r,n,i))}(this._delegate),t.then(r=>new uO(this.firestore,new $h(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=MB(e),r=xB(e,i=>new uO(this.firestore,new $h(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return bB(this._delegate,t,r)}withConverter(e){return new fo(this.firestore,this._delegate.withConverter(e?Qp.getInstance(this.firestore,e):null))}}class xG{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new rb(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class uO{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new fo(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new rb(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new xG(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new rb(this._firestore,r))})}isEqual(e){return yB(this._delegate,e._delegate)}}class S_ extends fo{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new rl(this.firestore,e):null}doc(e){try{return new rl(this.firestore,void 0===e?KD(this._delegate):KD(this._delegate,e))}catch(t){throw ho(t,"doc()","CollectionReference.doc()")}}add(e){return function aG(n,e){const t=Tn(n.firestore,Tr),r=KD(n),i=iI(n.converter,e);return T_(t,[QD(Kp(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Nr.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new rl(this.firestore,t))}isEqual(e){return eB(this._delegate,e._delegate)}withConverter(e){return new S_(this.firestore,this._delegate.withConverter(e?Qp.getInstance(this.firestore,e):null))}}function Xp(n){return Tn(n,Ir)}class dO{constructor(...e){this._delegate=new rd(...e)}static documentId(){return new dO(Jr.keyField().canonicalString())}isEqual(e){return(e=(0,Fn.m9)(e))instanceof rd&&this._delegate._internalPath.isEqual(e._internalPath)}}class Jp{constructor(e){this._delegate=e}static serverTimestamp(){const e=function bG(){return new eO("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Jp(e)}static delete(){const e=function EG(){return new ZE("deleteField")}();return e._methodName="FieldValue.delete",new Jp(e)}static arrayUnion(...e){const t=function wG(...n){return new B$("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Jp(t)}static arrayRemove(...e){const t=function CG(...n){return new V$("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Jp(t)}static increment(e){const t=function DG(n){return new U$("increment",n)}(e);return t._methodName="FieldValue.increment",new Jp(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const RG={Firestore:TB,GeoPoint:ZD,Timestamp:Pr,Blob:tb,Transaction:SB,WriteBatch:AB,DocumentReference:rl,DocumentSnapshot:nb,Query:fo,QueryDocumentSnapshot:rb,QuerySnapshot:uO,CollectionReference:S_,FieldPath:dO,FieldValue:Jp,setLogLevel:function MG(n){!function yH(n){Sh.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function kG(n){(function OG(n,e){n.INTERNAL.registerComponent(new MC.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},RG)))})(n,(e,t)=>new TB(e,t,new AG)),n.registerVersion("@firebase/firestore-compat","0.3.8")}(fj.Z);var oI=M(5363),PG=M(4707);function RB(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=null!=n?n:1/0,(0,hw.B)({connector:()=>new PG.t(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function OB(n,e){return(0,Ur.m)(e)?(0,_n.w)(()=>n,e):(0,_n.w)(()=>n)}var hO=M(9468);M(259);const pO=new Map,PB={activated:!1,tokenObservers:[]},VG={initialized:!1,enabled:!1};function ti(n){return pO.get(n)||Object.assign({},PB)}function lI(){return VG}class GG{constructor(e,t,r,i,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=i,i>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Ne.Z)(function*(){t.stop();try{t.pending=new Fn.BH,yield function qG(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Fn.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const ws=new Fn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function gO(n){if(!ti(n).activated)throw ws.create("use-before-activation",{appName:n.name})}function dI(n,e){return yO.apply(this,arguments)}function yO(){return yO=(0,Ne.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const x=yield i.getHeartbeatsHeader();x&&(r["X-Firebase-Client"]=x)}const a={method:"POST",body:JSON.stringify(e),headers:r};let c,h;try{c=yield fetch(n,a)}catch(x){throw ws.create("fetch-network-error",{originalErrorMessage:null==x?void 0:x.message})}if(200!==c.status)throw ws.create("fetch-status-error",{httpStatus:c.status});try{h=yield c.json()}catch(x){throw ws.create("fetch-parse-error",{originalErrorMessage:null==x?void 0:x.message})}const _=h.ttl.match(/^([\d.]+)(s)$/);if(!_||!_[2]||isNaN(Number(_[1])))throw ws.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${h.ttl}`});const b=1e3*Number(_[1]),D=Date.now();return{token:h.token,expireTimeMillis:D+b,issuedAtTimeMillis:D}}),yO.apply(this,arguments)}function FB(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const ib="firebase-app-check-store";let hI=null;function BB(){return hI||(hI=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(ws.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(ib,{keyPath:"compositeKey"})}}catch(t){e(ws.create("storage-open",{originalErrorMessage:null==t?void 0:t.message}))}}),hI)}function vO(){return vO=(0,Ne.Z)(function*(n,e){const r=(yield BB()).transaction(ib,"readwrite"),a=r.objectStore(ib).put({compositeKey:n,value:e});return new Promise((c,h)=>{a.onsuccess=_=>{c()},r.onerror=_=>{var b;h(ws.create("storage-set",{originalErrorMessage:null===(b=_.target.error)||void 0===b?void 0:b.message}))}})}),vO.apply(this,arguments)}const sb=new Dh.Yd("@firebase/app-check");function wO(n,e){return(0,Fn.hl)()?function JG(n,e){return function VB(n,e){return vO.apply(this,arguments)}(function jB(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{sb.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function DO(){return lI().enabled}function IO(){return TO.apply(this,arguments)}function TO(){return TO=(0,Ne.Z)(function*(){const n=lI();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),TO.apply(this,arguments)}const s6={error:"UNKNOWN_ERROR"};function o6(n){return Fn.US.encodeString(JSON.stringify(n),!1)}function fI(n){return SO.apply(this,arguments)}function SO(){return SO=(0,Ne.Z)(function*(n,e=!1){const t=n.app;gO(t);const r=ti(t);let a,i=r.token;if(i&&!A_(i)&&(r.token=void 0,i=void 0),!i){const _=yield r.cachedTokenPromise;_&&(A_(_)?i=_:yield wO(t,void 0))}if(!e&&i&&A_(i))return{token:i.token};let h,c=!1;if(DO()){r.exchangeTokenPromise||(r.exchangeTokenPromise=dI(FB(t,yield IO()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),c=!0);const _=yield r.exchangeTokenPromise;return yield wO(t,_),r.token=_,{token:_.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),c=!0),i=yield ti(t).exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?sb.warn(_.message):sb.error(_),a=_}return i?a?h=A_(i)?{token:i.token,internalError:a}:$B(a):(h={token:i.token},r.token=i,yield wO(t,i)):h=$B(a),c&&zB(t,h),h}),SO.apply(this,arguments)}function xO(n,e){const t=ti(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function HB(n){const{app:e}=n,t=ti(e);let r=t.tokenRefresher;r||(r=function l6(n){const{app:e}=n;return new GG((0,Ne.Z)(function*(){let r;if(r=ti(e).token?yield fI(n,!0):yield fI(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=ti(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function zB(n,e){const t=ti(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(i){}}function A_(n){return n.expireTimeMillis-Date.now()>0}function $B(n){return{token:o6(s6),error:n}}class c6{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=ti(this.app);for(const t of e)xO(this.app,t.next);return Promise.resolve()}}const XB="app-check-internal";!function C6(){(0,Ap._registerComponent)(new MC.wA("app-check",n=>function u6(n,e){return new c6(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(XB).initialize()})),(0,Ap._registerComponent)(new MC.wA(XB,n=>function d6(n){return{getToken:e=>fI(n,e),addTokenListener:e=>function MO(n,e,t,r){const{app:i}=n,a=ti(i);if(a.tokenObservers=[...a.tokenObservers,{next:t,error:r,type:e}],a.token&&A_(a.token)){const h=a.token;Promise.resolve().then(()=>{t({token:h.token}),HB(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>HB(n))}(n,"INTERNAL",e),removeTokenListener:e=>xO(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ap.registerVersion)("@firebase/app-check","0.7.0")}();class PO{constructor(){return(0,Us.vb)("app-check")}}"undefined"!=typeof window&&window,M(9260);const eV=new u.OlP("angularfire2.auth.use-emulator"),tV=new u.OlP("angularfire2.auth.settings"),nV=new u.OlP("angularfire2.auth.tenant-id"),rV=new u.OlP("angularfire2.auth.langugage-code"),iV=new u.OlP("angularfire2.auth.use-device-language"),sV=new u.OlP("angularfire.auth.persistence"),oV=(n,e,t,r,i,a,c,h)=>(0,Fl.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=e.runOutsideAngular(()=>n.auth());if(t&&_.useEmulator(...t),r&&(_.tenantId=r),_.languageCode=i,a&&_.useDeviceLanguage(),c)for(const[b,D]of Object.entries(c))_.settings[b]=D;return h&&_.setPersistence(h),_},[t,r,i,a,c,h]);let aV=(()=>{class n{constructor(t,r,i,a,c,h,_,b,D,x,F,j){const ee=new tn.x,de=(0,mt.of)(void 0).pipe((0,oI.Q)(c.outsideAngular),(0,_n.w)(()=>a.runOutsideAngular(()=>Promise.resolve().then(M.bind(M,3042)))),(0,vt.U)(()=>(0,Fl.on)(t,a,r)),(0,vt.U)(Ae=>oV(Ae,a,h,b,D,x,_,F)),RB({bufferSize:1,refCount:!1}));if(ql(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,mt.of)(null);else{de.pipe(To()).subscribe();const it=de.pipe((0,_n.w)(St=>St.getRedirectResult().then(en=>en,()=>null)),Us.iC,RB({bufferSize:1,refCount:!1})),ct=de.pipe((0,_n.w)(St=>new xr.y(en=>({unsubscribe:a.runOutsideAngular(()=>St.onAuthStateChanged(ln=>en.next(ln),ln=>en.error(ln),()=>en.complete()))})))),ft=de.pipe((0,_n.w)(St=>new xr.y(en=>({unsubscribe:a.runOutsideAngular(()=>St.onIdTokenChanged(ln=>en.next(ln),ln=>en.error(ln),()=>en.complete()))}))));this.authState=it.pipe(OB(ct),(0,hO.R)(c.outsideAngular),(0,oI.Q)(c.insideAngular)),this.user=it.pipe(OB(ft),(0,hO.R)(c.outsideAngular),(0,oI.Q)(c.insideAngular)),this.idToken=this.user.pipe((0,_n.w)(St=>St?(0,lr.D)(St.getIdToken()):(0,mt.of)(null))),this.idTokenResult=this.user.pipe((0,_n.w)(St=>St?(0,lr.D)(St.getIdTokenResult()):(0,mt.of)(null))),this.credential=(0,Wv.T)(it,ee,this.authState.pipe((0,Hn.h)(St=>!St))).pipe((0,vt.U)(St=>(null==St?void 0:St.user)?St:null),(0,hO.R)(c.outsideAngular),(0,oI.Q)(c.insideAngular))}return(0,Fl.pX)(this,de,a,{spy:{apply:(Ae,it,ct)=>{(Ae.startsWith("signIn")||Ae.startsWith("createUser"))&&ct.then(ft=>ee.next(ft))}}})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Fl.Dh),u.LFG(Fl.xv,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(Us.HU),u.LFG(eV,8),u.LFG(tV,8),u.LFG(nV,8),u.LFG(rV,8),u.LFG(iV,8),u.LFG(sV,8),u.LFG(PO,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function lV(n,e){return function M6(n,e=DC.z){return new xr.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function FO(n,e){return lV(n,e).pipe((0,vt.U)(t=>({payload:t,type:"query"})))}function mI(n,e){return FO(n,e).pipe(Mn(void 0),rM(),(0,vt.U)(([t,r])=>{const i=r.payload.docChanges(),a=i.map(c=>({type:c.type,payload:c}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((c,h)=>{const _=i.find(D=>D.doc.ref.isEqual(c.ref)),b=null==t?void 0:t.payload.docs.find(D=>D.ref.isEqual(c.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(c.metadata)||!_&&b&&JSON.stringify(b.metadata)===JSON.stringify(c.metadata)||a.push({type:"modified",payload:{oldIndex:h,newIndex:h,type:"modified",doc:c}})}),a}))}function cV(n,e,t){return mI(n,t).pipe((0,Ri.R)((r,i)=>function R6(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function O6(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return LO(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return LO(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return LO(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(a=>a.payload),e),[]),(0,Lb.x)(),(0,vt.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function LO(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function uV(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class dV{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=mI(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,vt.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(Mn(void 0),rM(),(0,Hn.h)(([r,i])=>i.length>0||!r),(0,vt.U)(([r,i])=>i),Us.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Ri.R)((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=uV(e);return cV(this.query,t,this.afs.schedulers.outsideAngular).pipe(Us.iC)}valueChanges(e={}){return FO(this.query,this.afs.schedulers.outsideAngular).pipe((0,vt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Us.iC)}get(e){return(0,lr.D)(this.query.get(e)).pipe(Us.iC)}add(e){return this.ref.add(e)}doc(e){return new hV(this.ref.doc(e),this.afs)}}class hV{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:a}=fV(r,t);return new dV(i,a,this.afs)}snapshotChanges(){return function x6(n,e){return lV(n,e).pipe(Mn(void 0),rM(),(0,vt.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Us.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,vt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,lr.D)(this.ref.get(e)).pipe(Us.iC)}}class k6{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?mI(this.query,this.afs.schedulers.outsideAngular).pipe((0,vt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),(0,Hn.h)(t=>t.length>0),Us.iC):mI(this.query,this.afs.schedulers.outsideAngular).pipe(Us.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Ri.R)((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=uV(e);return cV(this.query,t,this.afs.schedulers.outsideAngular).pipe(Us.iC)}valueChanges(e={}){return FO(this.query,this.afs.schedulers.outsideAngular).pipe((0,vt.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),Us.iC)}get(e){return(0,lr.D)(this.query.get(e)).pipe(Us.iC)}}const P6=new u.OlP("angularfire2.enableFirestorePersistence"),N6=new u.OlP("angularfire2.firestore.persistenceSettings"),F6=new u.OlP("angularfire2.firestore.settings"),L6=new u.OlP("angularfire2.firestore.use-emulator");function fV(n,e=(t=>t)){return{query:e(n),ref:n}}let B6=(()=>{class n{constructor(t,r,i,a,c,h,_,b,D,x,F,j,ee,de,Ae,it,ct){this.schedulers=_;const ft=(0,Fl.on)(t,h,r),St=D;x&&oV(ft,h,F,ee,de,Ae,j,it),[this.firestore,this.persistenceEnabled$]=(0,Fl.cc)(`${ft.name}.firestore`,"AngularFirestore",ft.name,()=>{const en=h.runOutsideAngular(()=>ft.firestore());if(a&&en.settings(a),St&&en.useEmulator(...St),i&&!ql(c)){const ln=()=>{try{return(0,lr.D)(en.enablePersistence(b||void 0).then(()=>!0,()=>!1))}catch($n){return"undefined"!=typeof console&&console.warn($n),(0,mt.of)(!1)}};return[en,h.runOutsideAngular(ln)]}return[en,(0,mt.of)(!1)]},[a,St,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:a,query:c}=fV(i,r),h=this.schedulers.ngZone.run(()=>a);return new dV(h,c,this)}collectionGroup(t,r){const i=r||(c=>c),a=this.firestore.collectionGroup(t);return new k6(i(a),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new hV(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Fl.Dh),u.LFG(Fl.xv,8),u.LFG(P6,8),u.LFG(F6,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(Us.HU),u.LFG(N6,8),u.LFG(L6,8),u.LFG(aV,8),u.LFG(eV,8),u.LFG(tV,8),u.LFG(nV,8),u.LFG(rV,8),u.LFG(iV,8),u.LFG(sV,8),u.LFG(PO,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),BO=(()=>{class n{constructor(t){this.afs=t,this.documentToItem=r=>{const i=r.payload.doc.data();return Object.assign({id:r.payload.doc.id},i)}}getAllCustomers(){return this.afs.collection("Customers").snapshotChanges().pipe((0,hr.q)(1),(0,vt.U)(t=>t.map(r=>this.documentToItem(r))))}AddNewCustomer(t){return(0,mt.of)(this.afs.collection("Customers").add(Object.assign({},t)))}UpdateCustomerData(t,r){return(0,mt.of)(this.afs.collection("Customers").doc(t).set(r))}DeleteCustomer(t){return(0,mt.of)(this.afs.collection("Customers").doc(t).delete())}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(B6))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var pV=M(8372);let mV=(()=>{class n{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),V6=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,r)=>this._cleanupObserver(r))}observe(t){const r=ko(t);return new xr.y(i=>{const c=this._observeElement(r).subscribe(i);return()=>{c.unsubscribe(),this._unobserveElement(r)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const r=new tn.x,i=this._mutationObserverFactory.create(a=>r.next(a));i&&i.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:i,stream:r,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:r,stream:i}=this._observedElements.get(t);r&&r.disconnect(),i.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(mV))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),U6=(()=>{class n{constructor(t,r,i){this._contentObserver=t,this._elementRef=r,this._ngZone=i,this.event=new u.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=so(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=function Bb(n,e=0){return function Vb(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}(t),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe((0,pV.b)(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){var t;null===(t=this._currentSubscription)||void 0===t||t.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(V6),u.Y36(u.SBq),u.Y36(u.R0b))},n.\u0275dir=u.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),j6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[mV]}),n})();const H6=["connectionContainer"],z6=["inputContainer"],$6=["label"];function G6(n,e){1&n&&(u.ynx(0),u.TgZ(1,"div",14),u._UZ(2,"div",15)(3,"div",16)(4,"div",17),u.qZA(),u.TgZ(5,"div",18),u._UZ(6,"div",15)(7,"div",16)(8,"div",17),u.qZA(),u.BQk())}function q6(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",19),u.NdJ("cdkObserveContent",function(){return u.CHM(t),u.oxw().updateOutlineGap()}),u.Hsn(1,1),u.qZA()}if(2&n){const t=u.oxw();u.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)}}function W6(n,e){if(1&n&&(u.ynx(0),u.Hsn(1,2),u.TgZ(2,"span"),u._uU(3),u.qZA(),u.BQk()),2&n){const t=u.oxw(2);u.xp6(3),u.Oqu(t._control.placeholder)}}function K6(n,e){1&n&&u.Hsn(0,3,["*ngSwitchCase","true"])}function Z6(n,e){1&n&&(u.TgZ(0,"span",23),u._uU(1," *"),u.qZA())}function Y6(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"label",20,21),u.NdJ("cdkObserveContent",function(){return u.CHM(t),u.oxw().updateOutlineGap()}),u.YNc(2,W6,4,1,"ng-container",12),u.YNc(3,K6,1,0,"ng-content",12),u.YNc(4,Z6,2,0,"span",22),u.qZA()}if(2&n){const t=u.oxw();u.ekj("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),u.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),u.uIk("for",t._control.id)("aria-owns",t._control.id),u.xp6(2),u.Q6J("ngSwitchCase",!1),u.xp6(1),u.Q6J("ngSwitchCase",!0),u.xp6(1),u.Q6J("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function Q6(n,e){1&n&&(u.TgZ(0,"div",24),u.Hsn(1,4),u.qZA())}function X6(n,e){if(1&n&&(u.TgZ(0,"div",25),u._UZ(1,"span",26),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.ekj("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function J6(n,e){if(1&n&&(u.TgZ(0,"div"),u.Hsn(1,5),u.qZA()),2&n){const t=u.oxw();u.Q6J("@transitionMessages",t._subscriptAnimationState)}}function e4(n,e){if(1&n&&(u.TgZ(0,"div",30),u._uU(1),u.qZA()),2&n){const t=u.oxw(2);u.Q6J("id",t._hintLabelId),u.xp6(1),u.Oqu(t.hintLabel)}}function t4(n,e){if(1&n&&(u.TgZ(0,"div",27),u.YNc(1,e4,2,2,"div",28),u.Hsn(2,6),u._UZ(3,"div",29),u.Hsn(4,7),u.qZA()),2&n){const t=u.oxw();u.Q6J("@transitionMessages",t._subscriptAnimationState),u.xp6(1),u.Q6J("ngIf",t.hintLabel)}}const n4=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],r4=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],i4=new u.OlP("MatError"),s4={transitionMessages:my("transitionMessages",[Lc("enter",ca({opacity:1,transform:"translateY(0%)"})),Yf("void => enter",[ca({opacity:0,transform:"translateY(-5px)"}),Kf("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let VO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n}),n})();const o4=new u.OlP("MatHint");let UO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["mat-label"]]}),n})(),a4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const l4=new u.OlP("MatPrefix"),c4=new u.OlP("MatSuffix");let gV=0;const d4=Uu(class{constructor(n){this._elementRef=n}},"primary"),h4=new u.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),yV=new u.OlP("MatFormField");let f4=(()=>{class n extends d4{constructor(t,r,i,a,c,h,_){super(t),this._changeDetectorRef=r,this._dir=i,this._defaults=a,this._platform=c,this._ngZone=h,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new tn.x,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+gV++,this._labelId="mat-form-field-label-"+gV++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==_,this.appearance=a&&a.appearance?a.appearance:"legacy",this._hideRequiredMarker=!(!a||null==a.hideRequiredMarker)&&a.hideRequiredMarker}get appearance(){return this._appearance}set appearance(t){const r=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&r!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=so(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(Mn(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe((0,io.R)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,io.R)(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,Wv.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Mn(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Mn(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe((0,io.R)(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const r=this._control?this._control.ngControl:null;return r&&r[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,zg(this._label.nativeElement,"transitionend").pipe((0,hr.q)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const r=this._hintChildren?this._hintChildren.find(a=>"start"===a.align):null,i=this._hintChildren?this._hintChildren.find(a=>"end"===a.align):null;r?t.push(r.id):this._hintLabel&&t.push(this._hintLabelId),i&&t.push(i.id)}else this._errorChildren&&t.push(...this._errorChildren.map(r=>r.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null,r=this._connectionContainerRef.nativeElement,i=".mat-form-field-outline-start",a=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!t||!t.children.length||!t.textContent.trim()){const D=r.querySelectorAll(`${i}, ${a}`);for(let x=0;x<D.length;x++)D[x].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let c=0,h=0;const _=r.querySelectorAll(i),b=r.querySelectorAll(a);if(this._label&&this._label.nativeElement.children.length){const D=r.getBoundingClientRect();if(0===D.width&&0===D.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const x=this._getStartEnd(D),F=t.children,j=this._getStartEnd(F[0].getBoundingClientRect());let ee=0;for(let de=0;de<F.length;de++)ee+=F[de].offsetWidth;c=Math.abs(j-x)-5,h=ee>0?.75*ee+10:0}for(let D=0;D<_.length;D++)_[D].style.width=`${c}px`;for(let D=0;D<b.length;D++)b[D].style.width=`${h}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const r=t.getRootNode();return r&&r!==t}return document.documentElement.contains(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.sBO),u.Y36(Ru,8),u.Y36(h4,8),u.Y36(ki),u.Y36(u.R0b),u.Y36(Jn,8))},n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(t,r,i){if(1&t&&(u.Suo(i,VO,5),u.Suo(i,VO,7),u.Suo(i,UO,5),u.Suo(i,UO,7),u.Suo(i,a4,5),u.Suo(i,i4,5),u.Suo(i,o4,5),u.Suo(i,l4,5),u.Suo(i,c4,5)),2&t){let a;u.iGM(a=u.CRH())&&(r._controlNonStatic=a.first),u.iGM(a=u.CRH())&&(r._controlStatic=a.first),u.iGM(a=u.CRH())&&(r._labelChildNonStatic=a.first),u.iGM(a=u.CRH())&&(r._labelChildStatic=a.first),u.iGM(a=u.CRH())&&(r._placeholderChild=a.first),u.iGM(a=u.CRH())&&(r._errorChildren=a),u.iGM(a=u.CRH())&&(r._hintChildren=a),u.iGM(a=u.CRH())&&(r._prefixChildren=a),u.iGM(a=u.CRH())&&(r._suffixChildren=a)}},viewQuery:function(t,r){if(1&t&&(u.Gf(H6,7),u.Gf(z6,5),u.Gf($6,5)),2&t){let i;u.iGM(i=u.CRH())&&(r._connectionContainerRef=i.first),u.iGM(i=u.CRH())&&(r._inputContainerRef=i.first),u.iGM(i=u.CRH())&&(r._label=i.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(t,r){2&t&&u.ekj("mat-form-field-appearance-standard","standard"==r.appearance)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-appearance-legacy","legacy"==r.appearance)("mat-form-field-invalid",r._control.errorState)("mat-form-field-can-float",r._canLabelFloat())("mat-form-field-should-float",r._shouldLabelFloat())("mat-form-field-has-label",r._hasFloatingLabel())("mat-form-field-hide-placeholder",r._hideControlPlaceholder())("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-focused",r._control.focused)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))("_mat-animation-noopable",!r._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[u._Bn([{provide:yV,useExisting:n}]),u.qOj],ngContentSelectors:r4,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,r){1&t&&(u.F$t(n4),u.TgZ(0,"div",0)(1,"div",1,2),u.NdJ("click",function(a){return r._control.onContainerClick&&r._control.onContainerClick(a)}),u.YNc(3,G6,9,0,"ng-container",3),u.YNc(4,q6,2,1,"div",4),u.TgZ(5,"div",5,6),u.Hsn(7),u.TgZ(8,"span",7),u.YNc(9,Y6,5,16,"label",8),u.qZA()(),u.YNc(10,Q6,2,0,"div",9),u.qZA(),u.YNc(11,X6,2,4,"div",10),u.TgZ(12,"div",11),u.YNc(13,J6,2,1,"div",12),u.YNc(14,t4,5,2,"div",13),u.qZA()()),2&t&&(u.xp6(3),u.Q6J("ngIf","outline"==r.appearance),u.xp6(1),u.Q6J("ngIf",r._prefixChildren.length),u.xp6(5),u.Q6J("ngIf",r._hasFloatingLabel()),u.xp6(1),u.Q6J("ngIf",r._suffixChildren.length),u.xp6(1),u.Q6J("ngIf","outline"!=r.appearance),u.xp6(1),u.Q6J("ngSwitch",r._getDisplayedMessages()),u.xp6(1),u.Q6J("ngSwitchCase","error"),u.xp6(1),u.Q6J("ngSwitchCase","hint"))},directives:[we,U6,Ye,jt],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[s4.transitionMessages]},changeDetection:0}),n})(),jO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[Gl,Si,j6],Si]}),n})();const vV=Om({passive:!0});let p4=(()=>{class n{constructor(t,r){this._platform=t,this._ngZone=r,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return gn.E;const r=ko(t),i=this._monitoredElements.get(r);if(i)return i.subject;const a=new tn.x,c="cdk-text-field-autofilled",h=_=>{"cdk-text-field-autofill-start"!==_.animationName||r.classList.contains(c)?"cdk-text-field-autofill-end"===_.animationName&&r.classList.contains(c)&&(r.classList.remove(c),this._ngZone.run(()=>a.next({target:_.target,isAutofilled:!1}))):(r.classList.add(c),this._ngZone.run(()=>a.next({target:_.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{r.addEventListener("animationstart",h,vV),r.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(r,{subject:a,unlisten:()=>{r.removeEventListener("animationstart",h,vV)}}),a}stopMonitoring(t){const r=ko(t),i=this._monitoredElements.get(r);i&&(i.unlisten(),i.subject.complete(),r.classList.remove("cdk-text-field-autofill-monitored"),r.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(r))}ngOnDestroy(){this._monitoredElements.forEach((t,r)=>this.stopMonitoring(r))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ki),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),EV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const m4=new u.OlP("MAT_INPUT_VALUE_ACCESSOR"),g4=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let _4=0;const y4=IS(class{constructor(n,e,t,r){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=r}});let v4=(()=>{class n extends y4{constructor(t,r,i,a,c,h,_,b,D,x){super(h,a,c,i),this._elementRef=t,this._platform=r,this._autofillMonitor=b,this._formField=x,this._uid="mat-input-"+_4++,this.focused=!1,this.stateChanges=new tn.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(ee=>fb().has(ee)),this._iOSKeyupListener=ee=>{const de=ee.target;!de.value&&0===de.selectionStart&&0===de.selectionEnd&&(de.setSelectionRange(1,1),de.setSelectionRange(0,0))};const F=this._elementRef.nativeElement,j=F.nodeName.toLowerCase();this._inputValueAccessor=_||F,this._previousNativeValue=this.value,this.id=this.id,r.IOS&&D.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===j,this._isTextarea="textarea"===j,this._isInFormField=!!x,this._isNativeSelect&&(this.controlType=F.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=so(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){var t,r,i,a;return null!==(a=null!==(t=this._required)&&void 0!==t?t:null===(i=null===(r=this.ngControl)||void 0===r?void 0:r.control)||void 0===i?void 0:i.hasValidator(el.required))&&void 0!==a&&a}set required(t){this._required=so(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&fb().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=so(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var t,r;const i=(null===(r=null===(t=this._formField)||void 0===t?void 0:t._hideControlPlaceholder)||void 0===r?void 0:r.call(t))?null:this.placeholder;if(i!==this._previousPlaceholder){const a=this._elementRef.nativeElement;this._previousPlaceholder=i,i?a.setAttribute("placeholder",i):a.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){g4.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,r=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&r&&r.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(ki),u.Y36(Nl,10),u.Y36(Av,8),u.Y36(Bg,8),u.Y36(Zy),u.Y36(m4,10),u.Y36(p4),u.Y36(u.R0b),u.Y36(yV,8))},n.\u0275dir=u.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(t,r){1&t&&u.NdJ("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&t&&(u.Ikx("disabled",r.disabled)("required",r.required),u.uIk("id",r.id)("data-placeholder",r.placeholder)("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required),u.ekj("mat-input-server",r._isServer)("mat-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[u._Bn([{provide:VO,useExisting:n}]),u.qOj,u.TTD]}),n})(),E4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[Zy],imports:[[EV,jO,Si],EV,jO]}),n})();const b4=["mat-button",""],w4=["*"],D4=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],I4=Uu(DS(hp(class{constructor(n){this._elementRef=n}})));let bV=(()=>{class n extends I4{constructor(t,r,i){super(t),this._focusMonitor=r,this._animationMode=i,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const a of D4)this._hasHostAttributes(a)&&this._getHostElement().classList.add(a);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,r){t?this._focusMonitor.focusVia(this._getHostElement(),t,r):this._getHostElement().focus(r)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(r=>this._getHostElement().hasAttribute(r))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(hy),u.Y36(Jn,8))},n.\u0275cmp=u.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,r){if(1&t&&u.Gf(aw,5),2&t){let i;u.iGM(i=u.CRH())&&(r.ripple=i.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,r){2&t&&(u.uIk("disabled",r.disabled||null),u.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-button-disabled",r.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[u.qOj],attrs:b4,ngContentSelectors:w4,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,r){1&t&&(u.F$t(),u.TgZ(0,"span",0),u.Hsn(1),u.qZA(),u._UZ(2,"span",1)(3,"span",2)),2&t&&(u.xp6(2),u.ekj("mat-button-ripple-round",r.isRoundButton||r.isIconButton),u.Q6J("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",r.isIconButton)("matRippleTrigger",r._getHostElement()))},directives:[aw],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),wV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[lw,Si],Si]}),n})();function T4(n,e){1&n&&(u.TgZ(0,"p"),u._uU(1," Add New Customer "),u.qZA())}function S4(n,e){1&n&&(u.TgZ(0,"p"),u._uU(1," Edit Customer Date "),u.qZA())}function A4(n,e){1&n&&(u.TgZ(0,"p"),u._uU(1," Preview Customer Date "),u.qZA())}function M4(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"button",15),u.NdJ("click",function(){return u.CHM(t),u.oxw().onAddNewCustomer()}),u._uU(1,"Add New Customer"),u.qZA()}if(2&n){const t=u.oxw();u.Q6J("disabled",t.form.invalid)}}function x4(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"button",15),u.NdJ("click",function(){return u.CHM(t),u.oxw().onEditCustomerDate()}),u._uU(1,"Edit Customer Data"),u.qZA()}if(2&n){const t=u.oxw();u.Q6J("disabled",t.form.invalid)}}let HO=(()=>{class n{constructor(t,r,i,a,c){this.fb=t,this.dialogRef=r,this.customerService=a,this.store=c,this.modalMode=Vo.AddMode,this.ModalMode=Vo,this.modalData=i,this.form=this.fb.group({firstName:["",[el.required]],lastName:["",[el.required]],email:["",[el.required,el.pattern(LN_email)]],address:["",[el.required]],phoneNumber:["",[el.required,el.pattern(LN_numbers)]]})}ngOnInit(){this.checkModalMode()}onAddNewCustomer(){this.store.dispatch(lv({customer:Object.assign({},this.form.value)})),this.onCancle()}onEditCustomerDate(){this.store.dispatch(cv({customerId:this.modalData.data.id,updatedCustomerdata:Object.assign(Object.assign({},this.form.value),{id:this.modalData.data.id})})),this.onCancle()}onCancle(){this.dialogRef.close()}checkModalMode(){var t;switch(null===(t=this.modalData)||void 0===t?void 0:t.Mode){case Vo.AddMode:this.modalMode=Vo.AddMode;break;case Vo.EditMode:this.modalMode=Vo.EditMode,this.setData();break;case Vo.PreviewMode:this.modalMode=Vo.PreviewMode,this.setData()}}setData(){this.modalData&&(this.form.controls.firstName.setValue(this.modalData.data.firstName),this.form.controls.lastName.setValue(this.modalData.data.lastName),this.form.controls.email.setValue(this.modalData.data.email),this.form.controls.address.setValue(this.modalData.data.address),this.form.controls.phoneNumber.setValue(this.modalData.data.phoneNumber))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(uN),u.Y36(ON),u.Y36(PN),u.Y36(BO),u.Y36(dn.yh))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-add-edit-customer"]],decls:32,vars:12,consts:[[1,"add-edit-form"],[1,"form-header"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"formGroup"],["appearance","standard"],["formControlName","firstName","matInput","",3,"readonly"],["formControlName","lastName","matInput","",3,"readonly"],["formControlName","email","matInput","",3,"readonly"],["formControlName","address","matInput","",3,"readonly"],["formControlName","phoneNumber","matInput","",3,"readonly"],[1,"actions"],["mat-raised-button","",3,"disabled","click",4,"ngIf"],["mat-raised-button","",1,"cancle",3,"click"],["mat-raised-button","",3,"disabled","click"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"div",1)(2,"span",2),u.YNc(3,T4,2,0,"p",3),u.YNc(4,S4,2,0,"p",3),u.YNc(5,A4,2,0,"p",4),u.qZA()(),u.TgZ(6,"form",5)(7,"mat-form-field",6)(8,"mat-label"),u._uU(9,"First Name "),u.qZA(),u._UZ(10,"input",7),u.qZA(),u.TgZ(11,"mat-form-field",6)(12,"mat-label"),u._uU(13,"Last Name "),u.qZA(),u._UZ(14,"input",8),u.qZA(),u.TgZ(15,"mat-form-field",6)(16,"mat-label"),u._uU(17,"Email "),u.qZA(),u._UZ(18,"input",9),u.qZA(),u.TgZ(19,"mat-form-field",6)(20,"mat-label"),u._uU(21,"Address"),u.qZA(),u._UZ(22,"input",10),u.qZA(),u.TgZ(23,"mat-form-field",6)(24,"mat-label"),u._uU(25,"Phone Number "),u.qZA(),u._UZ(26,"input",11),u.qZA(),u.TgZ(27,"div",12),u.YNc(28,M4,2,1,"button",13),u.YNc(29,x4,2,1,"button",13),u.TgZ(30,"button",14),u.NdJ("click",function(){return r.onCancle()}),u._uU(31,"Cancle"),u.qZA()()()()),2&t&&(u.xp6(2),u.Q6J("ngSwitch",r.modalMode),u.xp6(1),u.Q6J("ngSwitchCase",r.ModalMode.AddMode),u.xp6(1),u.Q6J("ngSwitchCase",r.ModalMode.EditMode),u.xp6(1),u.Q6J("ngSwitchDefault",r.ModalMode.PreviewMode),u.xp6(1),u.Q6J("formGroup",r.form),u.xp6(4),u.Q6J("readonly",r.modalMode==r.ModalMode.PreviewMode),u.xp6(4),u.Q6J("readonly",r.modalMode==r.ModalMode.PreviewMode),u.xp6(4),u.Q6J("readonly",r.modalMode==r.ModalMode.PreviewMode),u.xp6(4),u.Q6J("readonly",r.modalMode==r.ModalMode.PreviewMode),u.xp6(4),u.Q6J("readonly",r.modalMode==r.ModalMode.PreviewMode),u.xp6(2),u.Q6J("ngIf",r.modalMode==r.ModalMode.AddMode),u.xp6(1),u.Q6J("ngIf",r.modalMode==r.ModalMode.EditMode))},directives:[Ye,jt,or,Lg,Lw,Bg,f4,UO,$u,v4,_g,eC,we,bV],styles:[".add-edit-form[_ngcontent-%COMP%]{width:100%}.add-edit-form[_ngcontent-%COMP%]   .form-header[_ngcontent-%COMP%]{background-color:#1c4e80;padding:20px;color:#fff}.add-edit-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:20px;width:90%;margin:10px auto}.add-edit-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}.add-edit-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;flex-wrap:wrap;gap:20px}.add-edit-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#1c4e80;color:#fff}.add-edit-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   button.cancle[_ngcontent-%COMP%]{background-color:#d32d41}.add-edit-form[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   button[disabled=true][_ngcontent-%COMP%]{opacity:.5}"]}),n})();function zO(n){return n&&"function"==typeof n.connect}class CV{applyChanges(e,t,r,i,a){e.forEachOperation((c,h,_)=>{let b,D;if(null==c.previousIndex){const x=r(c,h,_);b=t.createEmbeddedView(x.templateRef,x.context,x.index),D=1}else null==_?(t.remove(h),D=3):(b=t.get(h),t.move(b,_),D=2);a&&a({context:null==b?void 0:b.context,operation:D,record:c})})}detach(){}}const ob=new u.OlP("_ViewRepeater"),O4=[[["caption"]],[["colgroup"],["col"]]],k4=["caption","colgroup, col"];function $O(n){return class extends n{constructor(...e){super(...e),this._sticky=!1,this._hasStickyChanged=!1}get sticky(){return this._sticky}set sticky(e){const t=this._sticky;this._sticky=so(e),this._hasStickyChanged=t!==this._sticky}hasStickyChanged(){const e=this._hasStickyChanged;return this._hasStickyChanged=!1,e}resetStickyChanged(){this._hasStickyChanged=!1}}}const M_=new u.OlP("CDK_TABLE");let x_=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["","cdkCellDef",""]]}),n})(),R_=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["","cdkHeaderCellDef",""]]}),n})(),gI=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["","cdkFooterCellDef",""]]}),n})();class L4{}const B4=$O(L4);let sd=(()=>{class n extends B4{constructor(t){super(),this._table=t,this._stickyEnd=!1}get name(){return this._name}set name(t){this._setNameInput(t)}get stickyEnd(){return this._stickyEnd}set stickyEnd(t){const r=this._stickyEnd;this._stickyEnd=so(t),this._hasStickyChanged=r!==this._stickyEnd}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(t){t&&(this._name=t,this.cssClassFriendlyName=t.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(M_,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","cdkColumnDef",""]],contentQueries:function(t,r,i){if(1&t&&(u.Suo(i,x_,5),u.Suo(i,R_,5),u.Suo(i,gI,5)),2&t){let a;u.iGM(a=u.CRH())&&(r.cell=a.first),u.iGM(a=u.CRH())&&(r.headerCell=a.first),u.iGM(a=u.CRH())&&(r.footerCell=a.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[u._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),u.qOj]}),n})();class GO{constructor(e,t){t.nativeElement.classList.add(...e._columnCssClassName)}}let qO=(()=>{class n extends GO{constructor(t,r){super(t,r)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(sd),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[u.qOj]}),n})(),WO=(()=>{class n extends GO{constructor(t,r){var i;if(super(t,r),1===(null===(i=t._table)||void 0===i?void 0:i._elementRef.nativeElement.nodeType)){const a=t._table._elementRef.nativeElement.getAttribute("role");r.nativeElement.setAttribute("role","grid"===a||"treegrid"===a?"gridcell":"cell")}}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(sd),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[u.qOj]}),n})();class TV{constructor(){this.tasks=[],this.endTasks=[]}}const KO=new u.OlP("_COALESCED_STYLE_SCHEDULER");let SV=(()=>{class n{constructor(t){this._ngZone=t,this._currentSchedule=null,this._destroyed=new tn.x}schedule(t){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(t)}scheduleEnd(t){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(t)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new TV,this._getScheduleObservable().pipe((0,io.R)(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const t=this._currentSchedule;this._currentSchedule=new TV;for(const r of t.tasks)r();for(const r of t.endTasks)r()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,lr.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe((0,hr.q)(1))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),ZO=(()=>{class n{constructor(t,r){this.template=t,this._differs=r}ngOnChanges(t){if(!this._columnsDiffer){const r=t.columns&&t.columns.currentValue||[];this._columnsDiffer=this._differs.find(r).create(),this._columnsDiffer.diff(r)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(t){return this instanceof ab?t.headerCell.template:this instanceof lb?t.footerCell.template:t.cell.template}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Rgc),u.Y36(u.ZZ4))},n.\u0275dir=u.lG2({type:n,features:[u.TTD]}),n})();class V4 extends ZO{}const U4=$O(V4);let ab=(()=>{class n extends U4{constructor(t,r,i){super(t,r),this._table=i}ngOnChanges(t){super.ngOnChanges(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Rgc),u.Y36(u.ZZ4),u.Y36(M_,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[u.qOj,u.TTD]}),n})();class j4 extends ZO{}const H4=$O(j4);let lb=(()=>{class n extends H4{constructor(t,r,i){super(t,r),this._table=i}ngOnChanges(t){super.ngOnChanges(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Rgc),u.Y36(u.ZZ4),u.Y36(M_,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[u.qOj,u.TTD]}),n})(),_I=(()=>{class n extends ZO{constructor(t,r,i){super(t,r),this._table=i}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Rgc),u.Y36(u.ZZ4),u.Y36(M_,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[u.qOj]}),n})(),od=(()=>{class n{constructor(t){this._viewContainer=t,n.mostRecentCellOutlet=this}ngOnDestroy(){n.mostRecentCellOutlet===this&&(n.mostRecentCellOutlet=null)}}return n.mostRecentCellOutlet=null,n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b))},n.\u0275dir=u.lG2({type:n,selectors:[["","cdkCellOutlet",""]]}),n})(),YO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,r){1&t&&u.GkF(0,0)},directives:[od],encapsulation:2}),n})(),XO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,r){1&t&&u.GkF(0,0)},directives:[od],encapsulation:2}),n})(),yI=(()=>{class n{constructor(t){this.templateRef=t,this._contentClassName="cdk-no-data-row"}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["ng-template","cdkNoDataRow",""]]}),n})();const AV=["top","bottom","left","right"];class z4{constructor(e,t,r,i,a=!0,c=!0,h){this._isNativeHtmlTable=e,this._stickCellCss=t,this.direction=r,this._coalescedStyleScheduler=i,this._isBrowser=a,this._needsPositionStickyOnElement=c,this._positionListener=h,this._cachedCellWidths=[],this._borderCellCss={top:`${t}-border-elem-top`,bottom:`${t}-border-elem-bottom`,left:`${t}-border-elem-left`,right:`${t}-border-elem-right`}}clearStickyPositioning(e,t){const r=[];for(const i of e)if(i.nodeType===i.ELEMENT_NODE){r.push(i);for(let a=0;a<i.children.length;a++)r.push(i.children[a])}this._coalescedStyleScheduler.schedule(()=>{for(const i of r)this._removeStickyStyle(i,t)})}updateStickyColumns(e,t,r,i=!0){if(!e.length||!this._isBrowser||!t.some(F=>F)&&!r.some(F=>F))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const a=e[0],c=a.children.length,h=this._getCellWidths(a,i),_=this._getStickyStartColumnPositions(h,t),b=this._getStickyEndColumnPositions(h,r),D=t.lastIndexOf(!0),x=r.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const F="rtl"===this.direction,j=F?"right":"left",ee=F?"left":"right";for(const de of e)for(let Ae=0;Ae<c;Ae++){const it=de.children[Ae];t[Ae]&&this._addStickyStyle(it,j,_[Ae],Ae===D),r[Ae]&&this._addStickyStyle(it,ee,b[Ae],Ae===x)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===D?[]:h.slice(0,D+1).map((de,Ae)=>t[Ae]?de:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===x?[]:h.slice(x).map((de,Ae)=>r[Ae+x]?de:null).reverse()}))})}stickRows(e,t,r){if(!this._isBrowser)return;const i="bottom"===r?e.slice().reverse():e,a="bottom"===r?t.slice().reverse():t,c=[],h=[],_=[];for(let D=0,x=0;D<i.length;D++){if(!a[D])continue;c[D]=x;const F=i[D];_[D]=this._isNativeHtmlTable?Array.from(F.children):[F];const j=F.getBoundingClientRect().height;x+=j,h[D]=j}const b=a.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{var D,x;for(let F=0;F<i.length;F++){if(!a[F])continue;const j=c[F],ee=F===b;for(const de of _[F])this._addStickyStyle(de,r,j,ee)}"top"===r?null===(D=this._positionListener)||void 0===D||D.stickyHeaderRowsUpdated({sizes:h,offsets:c,elements:_}):null===(x=this._positionListener)||void 0===x||x.stickyFooterRowsUpdated({sizes:h,offsets:c,elements:_})})}updateStickyFooterContainer(e,t){if(!this._isNativeHtmlTable)return;const r=e.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{t.some(i=>!i)?this._removeStickyStyle(r,["bottom"]):this._addStickyStyle(r,"bottom",0,!1)})}_removeStickyStyle(e,t){for(const i of t)e.style[i]="",e.classList.remove(this._borderCellCss[i]);AV.some(i=>-1===t.indexOf(i)&&e.style[i])?e.style.zIndex=this._getCalculatedZIndex(e):(e.style.zIndex="",this._needsPositionStickyOnElement&&(e.style.position=""),e.classList.remove(this._stickCellCss))}_addStickyStyle(e,t,r,i){e.classList.add(this._stickCellCss),i&&e.classList.add(this._borderCellCss[t]),e.style[t]=`${r}px`,e.style.zIndex=this._getCalculatedZIndex(e),this._needsPositionStickyOnElement&&(e.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(e){const t={top:100,bottom:10,left:1,right:1};let r=0;for(const i of AV)e.style[i]&&(r+=t[i]);return r?`${r}`:""}_getCellWidths(e,t=!0){if(!t&&this._cachedCellWidths.length)return this._cachedCellWidths;const r=[],i=e.children;for(let a=0;a<i.length;a++)r.push(i[a].getBoundingClientRect().width);return this._cachedCellWidths=r,r}_getStickyStartColumnPositions(e,t){const r=[];let i=0;for(let a=0;a<e.length;a++)t[a]&&(r[a]=i,i+=e[a]);return r}_getStickyEndColumnPositions(e,t){const r=[];let i=0;for(let a=e.length;a>0;a--)t[a]&&(r[a]=i,i+=e[a]);return r}}const JO=new u.OlP("CDK_SPL");let vI=(()=>{class n{constructor(t,r){this.viewContainer=t,this.elementRef=r}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n,selectors:[["","rowOutlet",""]]}),n})(),EI=(()=>{class n{constructor(t,r){this.viewContainer=t,this.elementRef=r}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n,selectors:[["","headerRowOutlet",""]]}),n})(),bI=(()=>{class n{constructor(t,r){this.viewContainer=t,this.elementRef=r}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n,selectors:[["","footerRowOutlet",""]]}),n})(),wI=(()=>{class n{constructor(t,r){this.viewContainer=t,this.elementRef=r}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n,selectors:[["","noDataRowOutlet",""]]}),n})(),CI=(()=>{class n{constructor(t,r,i,a,c,h,_,b,D,x,F,j){this._differs=t,this._changeDetectorRef=r,this._elementRef=i,this._dir=c,this._platform=_,this._viewRepeater=b,this._coalescedStyleScheduler=D,this._viewportRuler=x,this._stickyPositioningListener=F,this._ngZone=j,this._onDestroy=new tn.x,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new u.vpe,this.viewChange=new oi.X({start:0,end:Number.MAX_VALUE}),a||this._elementRef.nativeElement.setAttribute("role","table"),this._document=h,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}get trackBy(){return this._trackByFn}set trackBy(t){this._trackByFn=t}get dataSource(){return this._dataSource}set dataSource(t){this._dataSource!==t&&this._switchDataSource(t)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(t){this._multiTemplateDataRows=so(t),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(t){this._fixedLayout=so(t),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((t,r)=>this.trackBy?this.trackBy(r.dataIndex,r.data):r),this._viewportRuler.change().pipe((0,io.R)(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const r=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||r,this._forceRecalculateCellWidths=r,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(t=>{t.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),zO(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const t=this._dataDiffer.diff(this._renderRows);if(!t)return this._updateNoDataRow(),void this.contentChanged.next();const r=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(t,r,(i,a,c)=>this._getEmbeddedViewArgs(i.item,c),i=>i.item.data,i=>{1===i.operation&&i.context&&this._renderCellTemplateForItem(i.record.item.rowDef,i.context)}),this._updateRowIndexContext(),t.forEachIdentityChange(i=>{r.get(i.currentIndex).context.$implicit=i.item.data}),this._updateNoDataRow(),this._ngZone&&u.R0b.isInAngularZone()?this._ngZone.onStable.pipe((0,hr.q)(1),(0,io.R)(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(t){this._customColumnDefs.add(t)}removeColumnDef(t){this._customColumnDefs.delete(t)}addRowDef(t){this._customRowDefs.add(t)}removeRowDef(t){this._customRowDefs.delete(t)}addHeaderRowDef(t){this._customHeaderRowDefs.add(t),this._headerRowDefChanged=!0}removeHeaderRowDef(t){this._customHeaderRowDefs.delete(t),this._headerRowDefChanged=!0}addFooterRowDef(t){this._customFooterRowDefs.add(t),this._footerRowDefChanged=!0}removeFooterRowDef(t){this._customFooterRowDefs.delete(t),this._footerRowDefChanged=!0}setNoDataRow(t){this._customNoDataRow=t}updateStickyHeaderRowStyles(){const t=this._getRenderedRows(this._headerRowOutlet),i=this._elementRef.nativeElement.querySelector("thead");i&&(i.style.display=t.length?"":"none");const a=this._headerRowDefs.map(c=>c.sticky);this._stickyStyler.clearStickyPositioning(t,["top"]),this._stickyStyler.stickRows(t,a,"top"),this._headerRowDefs.forEach(c=>c.resetStickyChanged())}updateStickyFooterRowStyles(){const t=this._getRenderedRows(this._footerRowOutlet),i=this._elementRef.nativeElement.querySelector("tfoot");i&&(i.style.display=t.length?"":"none");const a=this._footerRowDefs.map(c=>c.sticky);this._stickyStyler.clearStickyPositioning(t,["bottom"]),this._stickyStyler.stickRows(t,a,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,a),this._footerRowDefs.forEach(c=>c.resetStickyChanged())}updateStickyColumnStyles(){const t=this._getRenderedRows(this._headerRowOutlet),r=this._getRenderedRows(this._rowOutlet),i=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...t,...r,...i],["left","right"]),this._stickyColumnStylesNeedReset=!1),t.forEach((a,c)=>{this._addStickyColumnStyles([a],this._headerRowDefs[c])}),this._rowDefs.forEach(a=>{const c=[];for(let h=0;h<r.length;h++)this._renderRows[h].rowDef===a&&c.push(r[h]);this._addStickyColumnStyles(c,a)}),i.forEach((a,c)=>{this._addStickyColumnStyles([a],this._footerRowDefs[c])}),Array.from(this._columnDefsByName.values()).forEach(a=>a.resetStickyChanged())}_getAllRenderRows(){const t=[],r=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let i=0;i<this._data.length;i++){let a=this._data[i];const c=this._getRenderRowsForData(a,i,r.get(a));this._cachedRenderRowsMap.has(a)||this._cachedRenderRowsMap.set(a,new WeakMap);for(let h=0;h<c.length;h++){let _=c[h];const b=this._cachedRenderRowsMap.get(_.data);b.has(_.rowDef)?b.get(_.rowDef).push(_):b.set(_.rowDef,[_]),t.push(_)}}return t}_getRenderRowsForData(t,r,i){return this._getRowDefs(t,r).map(c=>{const h=i&&i.has(c)?i.get(c):[];if(h.length){const _=h.shift();return _.dataIndex=r,_}return{data:t,rowDef:c,dataIndex:r}})}_cacheColumnDefs(){this._columnDefsByName.clear(),DI(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(r=>{this._columnDefsByName.has(r.name),this._columnDefsByName.set(r.name,r)})}_cacheRowDefs(){this._headerRowDefs=DI(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=DI(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=DI(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const t=this._rowDefs.filter(r=>!r.when);this._defaultRowDef=t[0]}_renderUpdatedColumns(){const t=(c,h)=>c||!!h.getColumnsDiff(),r=this._rowDefs.reduce(t,!1);r&&this._forceRenderDataRows();const i=this._headerRowDefs.reduce(t,!1);i&&this._forceRenderHeaderRows();const a=this._footerRowDefs.reduce(t,!1);return a&&this._forceRenderFooterRows(),r||i||a}_switchDataSource(t){this._data=[],zO(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),t||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=t}_observeRenderChanges(){if(!this.dataSource)return;let t;zO(this.dataSource)?t=this.dataSource.connect(this):function R4(n){return!!n&&(n instanceof xr.y||(0,Ur.m)(n.lift)&&(0,Ur.m)(n.subscribe))}(this.dataSource)?t=this.dataSource:Array.isArray(this.dataSource)&&(t=(0,mt.of)(this.dataSource)),this._renderChangeSubscription=t.pipe((0,io.R)(this._onDestroy)).subscribe(r=>{this._data=r||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((t,r)=>this._renderRow(this._headerRowOutlet,t,r)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((t,r)=>this._renderRow(this._footerRowOutlet,t,r)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(t,r){const i=Array.from(r.columns||[]).map(h=>this._columnDefsByName.get(h)),a=i.map(h=>h.sticky),c=i.map(h=>h.stickyEnd);this._stickyStyler.updateStickyColumns(t,a,c,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(t){const r=[];for(let i=0;i<t.viewContainer.length;i++){const a=t.viewContainer.get(i);r.push(a.rootNodes[0])}return r}_getRowDefs(t,r){if(1==this._rowDefs.length)return[this._rowDefs[0]];let i=[];if(this.multiTemplateDataRows)i=this._rowDefs.filter(a=>!a.when||a.when(r,t));else{let a=this._rowDefs.find(c=>c.when&&c.when(r,t))||this._defaultRowDef;a&&i.push(a)}return i}_getEmbeddedViewArgs(t,r){return{templateRef:t.rowDef.template,context:{$implicit:t.data},index:r}}_renderRow(t,r,i,a={}){const c=t.viewContainer.createEmbeddedView(r.template,a,i);return this._renderCellTemplateForItem(r,a),c}_renderCellTemplateForItem(t,r){for(let i of this._getCellTemplates(t))od.mostRecentCellOutlet&&od.mostRecentCellOutlet._viewContainer.createEmbeddedView(i,r);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const t=this._rowOutlet.viewContainer;for(let r=0,i=t.length;r<i;r++){const c=t.get(r).context;c.count=i,c.first=0===r,c.last=r===i-1,c.even=r%2==0,c.odd=!c.even,this.multiTemplateDataRows?(c.dataIndex=this._renderRows[r].dataIndex,c.renderIndex=r):c.index=this._renderRows[r].dataIndex}}_getCellTemplates(t){return t&&t.columns?Array.from(t.columns,r=>{const i=this._columnDefsByName.get(r);return t.extractCellTemplate(i)}):[]}_applyNativeTableSections(){const t=this._document.createDocumentFragment(),r=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const i of r){const a=this._document.createElement(i.tag);a.setAttribute("role","rowgroup");for(const c of i.outlets)a.appendChild(c.elementRef.nativeElement);t.appendChild(a)}this._elementRef.nativeElement.appendChild(t)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const t=(r,i)=>r||i.hasStickyChanged();this._headerRowDefs.reduce(t,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(t,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(t,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new z4(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:(0,mt.of)()).pipe((0,io.R)(this._onDestroy)).subscribe(r=>{this._stickyStyler.direction=r,this.updateStickyColumnStyles()})}_getOwnDefs(t){return t.filter(r=>!r._table||r._table===this)}_updateNoDataRow(){const t=this._customNoDataRow||this._noDataRow;if(!t)return;const r=0===this._rowOutlet.viewContainer.length;if(r===this._isShowingNoDataRow)return;const i=this._noDataRowOutlet.viewContainer;if(r){const a=i.createEmbeddedView(t.templateRef),c=a.rootNodes[0];1===a.rootNodes.length&&(null==c?void 0:c.nodeType)===this._document.ELEMENT_NODE&&(c.setAttribute("role","row"),c.classList.add(t._contentClassName))}else i.clear();this._isShowingNoDataRow=r}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.ZZ4),u.Y36(u.sBO),u.Y36(u.SBq),u.$8M("role"),u.Y36(Ru,8),u.Y36(W),u.Y36(ki),u.Y36(ob),u.Y36(KO),u.Y36(J),u.Y36(JO,12),u.Y36(u.R0b,8))},n.\u0275cmp=u.Xpm({type:n,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(t,r,i){if(1&t&&(u.Suo(i,yI,5),u.Suo(i,sd,5),u.Suo(i,_I,5),u.Suo(i,ab,5),u.Suo(i,lb,5)),2&t){let a;u.iGM(a=u.CRH())&&(r._noDataRow=a.first),u.iGM(a=u.CRH())&&(r._contentColumnDefs=a),u.iGM(a=u.CRH())&&(r._contentRowDefs=a),u.iGM(a=u.CRH())&&(r._contentHeaderRowDefs=a),u.iGM(a=u.CRH())&&(r._contentFooterRowDefs=a)}},viewQuery:function(t,r){if(1&t&&(u.Gf(vI,7),u.Gf(EI,7),u.Gf(bI,7),u.Gf(wI,7)),2&t){let i;u.iGM(i=u.CRH())&&(r._rowOutlet=i.first),u.iGM(i=u.CRH())&&(r._headerRowOutlet=i.first),u.iGM(i=u.CRH())&&(r._footerRowOutlet=i.first),u.iGM(i=u.CRH())&&(r._noDataRowOutlet=i.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(t,r){2&t&&u.ekj("cdk-table-fixed-layout",r.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[u._Bn([{provide:M_,useExisting:n},{provide:ob,useClass:CV},{provide:KO,useClass:SV},{provide:JO,useValue:null}])],ngContentSelectors:k4,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(t,r){1&t&&(u.F$t(O4),u.Hsn(0),u.Hsn(1,1),u.GkF(2,0)(3,1)(4,2)(5,3))},directives:[EI,vI,wI,bI],styles:[".cdk-table-fixed-layout{table-layout:fixed}\n"],encapsulation:2}),n})();function DI(n,e){return n.concat(Array.from(e))}let G4=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[Mt]]}),n})();const q4=[[["caption"]],[["colgroup"],["col"]]],W4=["caption","colgroup, col"];let xV=(()=>{class n extends CI{constructor(){super(...arguments),this.stickyCssClass="mat-table-sticky",this.needsPositionStickyOnElement=!1}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-table"],hostVars:2,hostBindings:function(t,r){2&t&&u.ekj("mat-table-fixed-layout",r.fixedLayout)},exportAs:["matTable"],features:[u._Bn([{provide:ob,useClass:CV},{provide:CI,useExisting:n},{provide:M_,useExisting:n},{provide:KO,useClass:SV},{provide:JO,useValue:null}]),u.qOj],ngContentSelectors:W4,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(t,r){1&t&&(u.F$t(q4),u.Hsn(0),u.Hsn(1,1),u.GkF(2,0)(3,1)(4,2)(5,3))},directives:[EI,vI,wI,bI],styles:["mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-row,tr.mat-footer-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}th.mat-header-cell,td.mat-cell,td.mat-footer-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}th.mat-header-cell:first-of-type,td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] th.mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}th.mat-header-cell:last-of-type,td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] th.mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}.mat-table-sticky{position:sticky !important}.mat-table-fixed-layout{table-layout:fixed}\n"],encapsulation:2}),n})(),ek=(()=>{class n extends x_{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["","matCellDef",""]],features:[u._Bn([{provide:x_,useExisting:n}]),u.qOj]}),n})(),tk=(()=>{class n extends R_{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["","matHeaderCellDef",""]],features:[u._Bn([{provide:R_,useExisting:n}]),u.qOj]}),n})(),nk=(()=>{class n extends sd{get name(){return this._name}set name(t){this._setNameInput(t)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[u._Bn([{provide:sd,useExisting:n},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),u.qOj]}),n})(),rk=(()=>{class n extends qO{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-header-cell"],features:[u.qOj]}),n})(),ik=(()=>{class n extends WO{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:["role","gridcell",1,"mat-cell"],features:[u.qOj]}),n})(),RV=(()=>{class n extends ab{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[u._Bn([{provide:ab,useExisting:n}]),u.qOj]}),n})(),OV=(()=>{class n extends _I{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[u._Bn([{provide:_I,useExisting:n}]),u.qOj]}),n})(),kV=(()=>{class n extends YO{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-header-row"],exportAs:["matHeaderRow"],features:[u._Bn([{provide:YO,useExisting:n}]),u.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,r){1&t&&u.GkF(0,0)},directives:[od],encapsulation:2}),n})(),PV=(()=>{class n extends XO{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-row"],exportAs:["matRow"],features:[u._Bn([{provide:XO,useExisting:n}]),u.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,r){1&t&&u.GkF(0,0)},directives:[od],encapsulation:2}),n})(),rq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[G4,Si],Si]}),n})();function sq(n,e){if(1&n&&(u.TgZ(0,"th",11),u._uU(1),u.qZA()),2&n){const t=u.oxw().$implicit;u.xp6(1),u.hij(" ",t.header," ")}}function oq(n,e){if(1&n&&(u.TgZ(0,"td",13),u._uU(1),u.qZA()),2&n){const t=e.$implicit,r=u.oxw(2).$implicit;u.xp6(1),u.hij(" ",r.cell(t)," ")}}function aq(n,e){1&n&&(u.TgZ(0,"ng-component"),u.YNc(1,oq,2,1,"td",12),u.qZA())}function lq(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"td",15)(1,"mat-icon",3),u.NdJ("click",function(){const a=u.CHM(t).$implicit;return u.oxw(3).onPreview(a.id)}),u._uU(2,"visibility"),u.qZA(),u.TgZ(3,"mat-icon",3),u.NdJ("click",function(){const a=u.CHM(t).$implicit;return u.oxw(3).onEdit(a)}),u._uU(4,"edit"),u.qZA(),u.TgZ(5,"mat-icon",3),u.NdJ("click",function(){const a=u.CHM(t).$implicit;return u.oxw(3).onDelete(a.id)}),u._uU(6,"delete"),u.qZA()()}}function cq(n,e){1&n&&(u.ynx(0),u.YNc(1,lq,7,0,"td",14),u.BQk())}function uq(n,e){if(1&n&&(u.ynx(0,8),u.YNc(1,sq,2,1,"th",9),u.YNc(2,aq,2,0,"ng-component",10),u.YNc(3,cq,2,0,"ng-container",10),u.BQk()),2&n){const t=e.$implicit;u.Q6J("matColumnDef",t.columnDef),u.xp6(2),u.Q6J("ngIf","Actions"!=t.header),u.xp6(1),u.Q6J("ngIf","Actions"==t.header)}}function dq(n,e){1&n&&u._UZ(0,"tr",16)}function hq(n,e){1&n&&u._UZ(0,"tr",17)}let fq=(()=>{class n{constructor(t,r,i){this.store=t,this.dialog=r,this.customerService=i,this.dataSource=[],this.dialogConfig={},this.columns=[{columnDef:"firstName",header:"First Name",cell:a=>`${a.firstName}`},{columnDef:"lastname",header:"last Name",cell:a=>`${a.lastName}`},{columnDef:"address",header:"Address",cell:a=>`${a.address}`},{columnDef:"email",header:"Email",cell:a=>`${a.email}`},{columnDef:"phoneNumber",header:"Phone Number",cell:a=>`${a.phoneNumber}`},{columnDef:"actions",header:"Actions",cell:a=>"''"}],this.displayedColumns=this.columns.map(a=>a.columnDef),this.ELEMENT_DATA=this.store.pipe((0,dn.Ys)("customers")),this.ELEMENT_DATA.subscribe(a=>{this.dataSource=a})}ngOnInit(){this.store.dispatch({type:Xn.loadCustomer}),this.dialogConfig.disableClose=!0,this.dialogConfig.autoFocus=!0,this.dialogConfig.width="50%"}onAddNewCustomer(){this.dialogConfig.data={Mode:Vo.AddMode,data:null},this.dialog.open(HO,this.dialogConfig)}onEdit(t){this.dialogConfig.data={Mode:Vo.EditMode,data:t},this.dialog.open(HO,this.dialogConfig)}onDelete(t){this.store.dispatch(Iw({customerId:t}))}onPreview(t){this.store.select((n=>(0,dn.P1)(_p,e=>e.find(t=>t.id==n)))(t)).pipe((0,hr.q)(1)).subscribe(r=>{this.dialogConfig.data={Mode:Vo.PreviewMode,data:r},this.dialog.open(HO,this.dialogConfig)})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(dn.yh),u.Y36(FN),u.Y36(BO))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-customer-list"]],decls:11,vars:4,consts:[[1,"customer-list"],[1,"table-header"],[1,"add-icon"],[3,"click"],["mat-table","",1,"mat-elevation-z8","demo-table",3,"dataSource"],["class","custom-column",3,"matColumnDef",4,"ngFor","ngForOf"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"custom-column",3,"matColumnDef"],["mat-header-cell","",4,"matHeaderCellDef"],[4,"ngIf"],["mat-header-cell",""],["mat-cell","",4,"matCellDef"],["mat-cell",""],["class","action-column","mat-cell","",4,"matCellDef"],["mat-cell","",1,"action-column"],["mat-header-row",""],["mat-row",""]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"div",1)(2,"h3"),u._uU(3,"Customer Management "),u.qZA(),u.TgZ(4,"div",2)(5,"mat-icon",3),u.NdJ("click",function(){return r.onAddNewCustomer()}),u._uU(6,"add"),u.qZA()()(),u.TgZ(7,"table",4),u.YNc(8,uq,4,3,"ng-container",5),u.YNc(9,dq,1,0,"tr",6),u.YNc(10,hq,1,0,"tr",7),u.qZA()()),2&t&&(u.xp6(7),u.Q6J("dataSource",r.dataSource),u.xp6(1),u.Q6J("ngForOf",r.columns),u.xp6(1),u.Q6J("matHeaderRowDef",r.displayedColumns),u.xp6(1),u.Q6J("matRowDefColumns",r.displayedColumns))},directives:[bw,xV,Br,nk,tk,rk,we,Cf,ek,ik,RV,kV,OV,PV],styles:[".customer-list[_ngcontent-%COMP%]{width:90%;margin:30px auto;border:1px solid #f1f1f1;box-shadow:10px 10px 10px #f1f1f1}.customer-list[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]{background-color:#1c4e80;display:flex;justify-content:space-between;align-items:center;padding:20px}.customer-list[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#fff;margin:0;font-size:18px;font-weight:500}.customer-list[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#fff;font-size:30px;margin:auto 10px;cursor:pointer}.customer-list[_ngcontent-%COMP%]   .demo-table[_ngcontent-%COMP%]{width:100%}.customer-list[_ngcontent-%COMP%]   .custom-column[_ngcontent-%COMP%]{width:20%!important}.customer-list[_ngcontent-%COMP%]   .action-column[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-right:20px;cursor:pointer}.customer-list[_ngcontent-%COMP%]   .action-column[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]:first-of-type{color:#488a99}.customer-list[_ngcontent-%COMP%]   .action-column[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]:nth-of-type(2){color:#dbae58}.customer-list[_ngcontent-%COMP%]   .action-column[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]:nth-of-type(3){color:#d32d41}"]}),n})(),pq=(()=>{class n{constructor(){this.title="Demo-NGRX"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-root"]],decls:2,vars:0,template:function(t,r){1&t&&u._UZ(0,"app-header")(1,"app-customer-list")},directives:[uA,fq],styles:[""]}),n})();const gq=(0,dn.Lq)([],(0,dn.on)(Cw,(n,{customers:e})=>e&&e.length?[...n,...e]:[...n]),(0,dn.on)(Dw,(n,{customer:e})=>[...n,e]),(0,dn.on)(hA,(n,{customerId:e})=>[...n.filter(t=>t.id!=e)]),(0,dn.on)(cv,(n,{customerId:e,updatedCustomerdata:t})=>{const r=n.findIndex(a=>a.id==e),i=[...n];return i[r]=t,i}));function _q(n,e){return gq(n,e)}const NV=new Set;let O_,yq=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Eq}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function vq(n){if(!NV.has(n))try{O_||(O_=document.createElement("style"),O_.setAttribute("type","text/css"),document.head.appendChild(O_)),O_.sheet&&(O_.sheet.insertRule(`@media ${n} {body{ }}`,0),NV.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ki))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Eq(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let FV=(()=>{class n{constructor(t,r){this._mediaMatcher=t,this._zone=r,this._queries=new Map,this._destroySubject=new tn.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return LV(Gf(t)).some(i=>this._registerQuery(i).mql.matches)}observe(t){let a=hl(LV(Gf(t)).map(c=>this._registerQuery(c).observable));return a=Oa(a.pipe((0,hr.q)(1)),a.pipe((0,aT.T)(1),(0,pV.b)(0))),a.pipe((0,vt.U)(c=>{const h={matches:!1,breakpoints:{}};return c.forEach(({matches:_,query:b})=>{h.matches=h.matches||_,h.breakpoints[b]=_}),h}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const r=this._mediaMatcher.matchMedia(t),a={observable:new xr.y(c=>{const h=_=>this._zone.run(()=>c.next(_));return r.addListener(h),()=>{r.removeListener(h)}}).pipe(Mn(r),(0,vt.U)(({matches:c})=>({query:t,matches:c})),(0,io.R)(this._destroySubject)),mql:r};return this._queries.set(t,a),a}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(yq),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function LV(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}function wq(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",2)(1,"button",3),u.NdJ("click",function(){return u.CHM(t),u.oxw().action()}),u._uU(2),u.qZA()()}if(2&n){const t=u.oxw();u.xp6(2),u.Oqu(t.data.action)}}function Cq(n,e){}const BV=new u.OlP("MatSnackBarData");class II{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const Dq=Math.pow(2,31)-1;class sk{constructor(e,t){this._overlayRef=t,this._afterDismissed=new tn.x,this._afterOpened=new tn.x,this._onAction=new tn.x,this._dismissedByAction=!1,this.containerInstance=e,e._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(e){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(e,Dq))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let Iq=(()=>{class n{constructor(t,r){this.snackBarRef=t,this.data=r}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(sk),u.Y36(BV))},n.\u0275cmp=u.Xpm({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[[1,"mat-simple-snack-bar-content"],["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(t,r){1&t&&(u.TgZ(0,"span",0),u._uU(1),u.qZA(),u.YNc(2,wq,3,1,"div",1)),2&t&&(u.xp6(1),u.Oqu(r.data.message),u.xp6(1),u.Q6J("ngIf",r.hasAction))},directives:[bV,we],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}.mat-simple-snack-bar-content{overflow:hidden;text-overflow:ellipsis}\n"],encapsulation:2,changeDetection:0}),n})();const Tq={snackBarState:my("state",[Lc("void, hidden",ca({transform:"scale(0.8)",opacity:0})),Lc("visible",ca({transform:"scale(1)",opacity:1})),Yf("* => visible",Kf("150ms cubic-bezier(0, 0, 0.2, 1)")),Yf("* => void, * => hidden",Kf("75ms cubic-bezier(0.4, 0.0, 1, 1)",ca({opacity:0})))])};let Sq=(()=>{class n extends Ch{constructor(t,r,i,a,c){super(),this._ngZone=t,this._elementRef=r,this._changeDetectorRef=i,this._platform=a,this.snackBarConfig=c,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new tn.x,this._onExit=new tn.x,this._onEnter=new tn.x,this._animationState="void",this.attachDomPortal=h=>(this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachDomPortal(h)),this._live="assertive"!==c.politeness||c.announcementMessage?"off"===c.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(t){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(t)}onAnimationEnd(t){const{fromState:r,toState:i}=t;if(("void"===i&&"void"!==r||"hidden"===i)&&this._completeExit(),"visible"===i){const a=this._onEnter;this._ngZone.run(()=>{a.next(),a.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe((0,hr.q)(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_applySnackBarClasses(){const t=this._elementRef.nativeElement,r=this.snackBarConfig.panelClass;r&&(Array.isArray(r)?r.forEach(i=>t.classList.add(i)):t.classList.add(r)),"center"===this.snackBarConfig.horizontalPosition&&t.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&t.classList.add("mat-snack-bar-top")}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const t=this._elementRef.nativeElement.querySelector("[aria-hidden]"),r=this._elementRef.nativeElement.querySelector("[aria-live]");if(t&&r){let i=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&t.contains(document.activeElement)&&(i=document.activeElement),t.removeAttribute("aria-hidden"),r.appendChild(t),null==i||i.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.R0b),u.Y36(u.SBq),u.Y36(u.sBO),u.Y36(ki),u.Y36(II))},n.\u0275cmp=u.Xpm({type:n,selectors:[["snack-bar-container"]],viewQuery:function(t,r){if(1&t&&u.Gf(AC,7),2&t){let i;u.iGM(i=u.CRH())&&(r._portalOutlet=i.first)}},hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(t,r){1&t&&u.WFA("@state.done",function(a){return r.onAnimationEnd(a)}),2&t&&u.d8E("@state",r._animationState)},features:[u.qOj],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(t,r){1&t&&(u.TgZ(0,"div",0),u.YNc(1,Cq,0,0,"ng-template",1),u.qZA(),u._UZ(2,"div")),2&t&&(u.xp6(2),u.uIk("aria-live",r._live)("role",r._role))},directives:[AC],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}\n"],encapsulation:2,data:{animation:[Tq.snackBarState]}}),n})(),VV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[RN,XA,Gl,wV,Si],Si]}),n})();const UV=new u.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function Aq(){return new II}});let Mq=(()=>{class n{constructor(t,r,i,a,c,h){this._overlay=t,this._live=r,this._injector=i,this._breakpointObserver=a,this._parentSnackBar=c,this._defaultConfig=h,this._snackBarRefAtThisLevel=null}get _openedSnackBarRef(){const t=this._parentSnackBar;return t?t._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(t){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=t:this._snackBarRefAtThisLevel=t}openFromComponent(t,r){return this._attach(t,r)}openFromTemplate(t,r){return this._attach(t,r)}open(t,r="",i){const a=Object.assign(Object.assign({},this._defaultConfig),i);return a.data={message:t,action:r},a.announcementMessage===t&&(a.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,a)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(t,r){const a=u.zs3.create({parent:r&&r.viewContainerRef&&r.viewContainerRef.injector||this._injector,providers:[{provide:II,useValue:r}]}),c=new Wu(this.snackBarContainerComponent,r.viewContainerRef,a),h=t.attach(c);return h.instance.snackBarConfig=r,h.instance}_attach(t,r){const i=Object.assign(Object.assign(Object.assign({},new II),this._defaultConfig),r),a=this._createOverlay(i),c=this._attachSnackBarContainer(a,i),h=new sk(c,a);if(t instanceof u.Rgc){const _=new Tp(t,null,{$implicit:i.data,snackBarRef:h});h.instance=c.attachTemplatePortal(_)}else{const _=this._createInjector(i,h),b=new Wu(t,void 0,_),D=c.attachComponentPortal(b);h.instance=D.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe((0,io.R)(a.detachments())).subscribe(_=>{a.overlayElement.classList.toggle(this.handsetCssClass,_.matches)}),i.announcementMessage&&c._onAnnounce.subscribe(()=>{this._live.announce(i.announcementMessage,i.politeness)}),this._animateSnackBar(h,i),this._openedSnackBarRef=h,this._openedSnackBarRef}_animateSnackBar(t,r){t.afterDismissed().subscribe(()=>{this._openedSnackBarRef==t&&(this._openedSnackBarRef=null),r.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{t.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):t.containerInstance.enter(),r.duration&&r.duration>0&&t.afterOpened().subscribe(()=>t._dismissAfter(r.duration))}_createOverlay(t){const r=new eM;r.direction=t.direction;let i=this._overlay.position().global();const a="rtl"===t.direction,c="left"===t.horizontalPosition||"start"===t.horizontalPosition&&!a||"end"===t.horizontalPosition&&a,h=!c&&"center"!==t.horizontalPosition;return c?i.left("0"):h?i.right("0"):i.centerHorizontally(),"top"===t.verticalPosition?i.top("0"):i.bottom("0"),r.positionStrategy=i,this._overlay.create(r)}_createInjector(t,r){return u.zs3.create({parent:t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,providers:[{provide:sk,useValue:r},{provide:BV,useValue:t.data}]})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Gg),u.LFG(wT),u.LFG(u.zs3),u.LFG(FV),u.LFG(n,12),u.LFG(UV))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),xq=(()=>{class n extends Mq{constructor(t,r,i,a,c,h){super(t,r,i,a,c,h),this.simpleSnackBarComponent=Iq,this.snackBarContainerComponent=Sq,this.handsetCssClass="mat-snack-bar-handset"}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Gg),u.LFG(wT),u.LFG(u.zs3),u.LFG(FV),u.LFG(n,12),u.LFG(UV))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:VV}),n})();const ok_firebaseConfig={apiKey:"AIzaSyANZPL0mUGD9ZTczUN5PewwM9Y99CV3ecs",authDomain:"demoes-fd92a.firebaseapp.com",projectId:"demoes-fd92a",storageBucket:"demoes-fd92a.appspot.com",messagingSenderId:"774893426336",appId:"1:774893426336:web:bc280926aa49655953dbc5",measurementId:"G-78G6DP0WW6"};var Rq=M(9565),Oq=M(5032);class ad{constructor(e,t,r){this.kind=e,this.value=t,this.error=r,this.hasValue="N"===e}observe(e){return jV(this,e)}do(e,t,r){const{kind:i,value:a,error:c}=this;return"N"===i?null==e?void 0:e(a):"E"===i?null==t?void 0:t(c):null==r?void 0:r()}accept(e,t,r){var i;return(0,Ur.m)(null===(i=e)||void 0===i?void 0:i.next)?this.observe(e):this.do(e,t,r)}toObservable(){const{kind:e,value:t,error:r}=this,i="N"===e?(0,mt.of)(t):"E"===e?fl(()=>r):"C"===e?gn.E:0;if(!i)throw new TypeError(`Unexpected notification kind ${e}`);return i}static createNext(e){return new ad("N",e)}static createError(e){return new ad("E",void 0,e)}static createComplete(){return ad.completeNotification}}function jV(n,e){var t,r,i;const{kind:a,value:c,error:h}=n;if("string"!=typeof a)throw new TypeError('Invalid notification, missing "kind"');"N"===a?null===(t=e.next)||void 0===t||t.call(e,c):"E"===a?null===(r=e.error)||void 0===r||r.call(e,h):null===(i=e.complete)||void 0===i||i.call(e)}function HV(n,e,t,r){return(0,jr.e)((i,a)=>{let c;e&&"function"!=typeof e?({duration:t,element:c,connector:r}=e):c=e;const h=new Map,_=ee=>{h.forEach(ee),ee(a)},b=ee=>_(de=>de.error(ee));let D=0,x=!1;const F=new Rr.Q(a,ee=>{try{const de=n(ee);let Ae=h.get(de);if(!Ae){h.set(de,Ae=r?r():new tn.x);const it=function j(ee,de){const Ae=new xr.y(it=>{D++;const ct=de.subscribe(it);return()=>{ct.unsubscribe(),0==--D&&x&&F.unsubscribe()}});return Ae.key=ee,Ae}(de,Ae);if(a.next(it),t){const ct=(0,Rr.x)(Ae,()=>{Ae.complete(),null==ct||ct.unsubscribe()},void 0,void 0,()=>h.delete(de));F.add((0,Os.Xf)(t(it)).subscribe(ct))}}Ae.next(c?c(ee):ee)}catch(de){b(de)}},()=>_(ee=>ee.complete()),b,()=>h.clear(),()=>(x=!0,0===D));i.subscribe(F)})}function zV(n,e){return e?t=>t.pipe(zV((r,i)=>(0,Os.Xf)(n(r,i)).pipe((0,vt.U)((a,c)=>e(r,a,i,c))))):(0,jr.e)((t,r)=>{let i=0,a=null,c=!1;t.subscribe((0,Rr.x)(r,h=>{a||(a=(0,Rr.x)(r,void 0,()=>{a=null,c&&r.complete()}),(0,Os.Xf)(n(h,i++)).subscribe(a))},()=>{c=!0,!a&&r.complete()}))})}ad.completeNotification=new ad("C");const $V={dispatch:!0,useEffectsErrorHandler:!0},TI="__@ngrx/effects_create__";function SI(n,e){const t=n(),r=Object.assign(Object.assign({},$V),e);return Object.defineProperty(t,TI,{value:r}),t}function Fq(n){return Object.getOwnPropertyNames(n).filter(r=>!(!n[r]||!n[r].hasOwnProperty(TI))&&n[r][TI].hasOwnProperty("dispatch")).map(r=>Object.assign({propertyName:r},n[r][TI]))}function ak(n){return Object.getPrototypeOf(n)}const AI="__@ngrx/effects__";function Lq(n){return(0,dn.qC)(Vq,ak)(n)}function Vq(n){return function GV(n){return n.constructor.hasOwnProperty(AI)}(n)?n.constructor[AI]:[]}function Uq(n,e,t){const r=ak(n).constructor.name,i=function qV(n){return[Lq,Fq].reduce((t,r)=>t.concat(r(n)),[])}(n).map(({propertyName:a,dispatch:c,useEffectsErrorHandler:h})=>{const _="function"==typeof n[a]?n[a]():n[a],b=h?t(_,e):_;return!1===c?b.pipe(function kq(){return(0,jr.e)((n,e)=>{n.subscribe((0,Rr.x)(e,Oq.Z))})}()):b.pipe(function Pq(){return(0,jr.e)((n,e)=>{n.subscribe((0,Rr.x)(e,t=>{e.next(ad.createNext(t))},()=>{e.next(ad.createComplete()),e.complete()},t=>{e.next(ad.createError(t)),e.complete()}))})}()).pipe((0,vt.U)(x=>({effect:n[a],notification:x,propertyName:a,sourceName:r,sourceInstance:n})))});return(0,Wv.T)(...i)}function WV(n,e,t=10){return n.pipe((0,Or.K)(r=>(e&&e.handleError(r),t<=1?n:WV(n,e,t-1))))}let KV=(()=>{class n extends xr.y{constructor(t){super(),t&&(this.source=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(dn.Y$))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function MI(...n){return(0,Hn.h)(e=>n.some(t=>"string"==typeof t?t===e.type:t.type===e.type))}function Qq(n){return lk(n,"ngrxOnInitEffects")}function lk(n,e){return n&&e in n&&"function"==typeof n[e]}const ZV=new u.OlP("@ngrx/effects Internal Root Guard"),xI=new u.OlP("@ngrx/effects User Provided Effects"),ck=new u.OlP("@ngrx/effects Internal Root Effects"),YV=new u.OlP("@ngrx/effects Root Effects"),QV=new u.OlP("@ngrx/effects Internal Feature Effects"),XV=new u.OlP("@ngrx/effects Feature Effects"),JV=new u.OlP("@ngrx/effects Effects Error Handler");let uk=(()=>{class n extends tn.x{constructor(t,r){super(),this.errorHandler=t,this.effectsErrorHandler=r}addEffects(t){this.next(t)}toActions(){return this.pipe(HV(ak),(0,cr.z)(t=>t.pipe(HV(Xq))),(0,cr.z)(t=>{const r=t.pipe(zV(a=>function Jq(n,e){return t=>{const r=Uq(t,n,e);return function Zq(n){return lk(n,"ngrxOnRunEffects")}(t)?t.ngrxOnRunEffects(r):r}}(this.errorHandler,this.effectsErrorHandler)(a)),(0,vt.U)(a=>(function Hq(n,e){if("N"===n.notification.kind){const t=n.notification.value;!function zq(n){return"function"!=typeof n&&n&&n.type&&"string"==typeof n.type}(t)&&e.handleError(new Error(`Effect ${function $q({propertyName:n,sourceInstance:e,sourceName:t}){const r="function"==typeof e[n];return`"${t}.${String(n)}${r?"()":""}"`}(n)} dispatched an invalid action: ${function Gq(n){try{return JSON.stringify(n)}catch(e){return n}}(t)}`))}}(a,this.errorHandler),a.notification)),(0,Hn.h)(a=>"N"===a.kind&&null!=a.value),function Nq(){return(0,jr.e)((n,e)=>{n.subscribe((0,Rr.x)(e,t=>jV(t,e)))})}()),i=t.pipe((0,hr.q)(1),(0,Hn.h)(Qq),(0,vt.U)(a=>a.ngrxOnInitEffects()));return(0,Wv.T)(r,i)}))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.qLn),u.LFG(JV))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function Xq(n){return function Wq(n){return lk(n,"ngrxOnIdentifyEffects")}(n)?n.ngrxOnIdentifyEffects():""}let dk=(()=>{class n{constructor(t,r){this.effectSources=t,this.store=r,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(uk),u.LFG(dn.yh))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const eU="@ngrx/effects/init";(0,dn.PH)(eU);let tU=(()=>{class n{constructor(t,r,i,a,c,h,_){this.sources=t,r.start(),a.forEach(b=>t.addEffects(b)),i.dispatch({type:eU})}addEffects(t){this.sources.addEffects(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(uk),u.LFG(dk),u.LFG(dn.yh),u.LFG(YV),u.LFG(dn.cr,8),u.LFG(dn.CK,8),u.LFG(ZV,8))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),e5=(()=>{class n{constructor(t,r,i,a){r.forEach(c=>c.forEach(h=>t.addEffects(h)))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(tU),u.LFG(XV),u.LFG(dn.cr,8),u.LFG(dn.CK,8))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),t5=(()=>{class n{static forFeature(t=[]){return{ngModule:e5,providers:[t,{provide:QV,multi:!0,useValue:t},{provide:xI,multi:!0,useValue:[]},{provide:XV,multi:!0,useFactory:nU,deps:[u.zs3,QV,xI]}]}}static forRoot(t=[]){return{ngModule:tU,providers:[{provide:JV,useValue:WV},dk,uk,KV,t,{provide:ck,useValue:[t]},{provide:ZV,useFactory:r5,deps:[[dk,new u.FiY,new u.tp0],[ck,new u.PiD]]},{provide:xI,multi:!0,useValue:[]},{provide:YV,useFactory:nU,deps:[u.zs3,ck,xI]}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();function nU(n,e,t){const r=[];for(const i of e)r.push(...i);for(const i of t)r.push(...i);return function n5(n,e){return e.map(t=>n.get(t))}(n,r)}function r5(n,e){if((1!==e.length||0!==e[0].length)&&n)throw new TypeError("EffectsModule.forRoot() called twice. Feature modules should use EffectsModule.forFeature() instead.");return"guarded"}let s5=(()=>{class n{constructor(t,r,i){this.actions$=t,this.customerService=r,this._snackBar=i,this.loadCustomers$=SI(()=>this.actions$.pipe(MI(ww),(0,cr.z)(()=>this.customerService.getAllCustomers().pipe((0,vt.U)(a=>({type:Xn.loadCustomer_Success,customers:a})),(0,Or.K)(a=>(0,mt.of)({type:Xn.loadCustomer_Error,error:a})))))),this.addNewCustomer$=SI(()=>this.actions$.pipe(MI(lv),(0,vt.U)(a=>a.customer),(0,cr.z)(a=>this.customerService.AddNewCustomer(a).pipe((0,vt.U)(c=>(this.showToastMessage("Customer Added Successfully"),{type:Xn.addCustomer_Success,customer:a})),(0,Or.K)(c=>(0,mt.of)({type:Xn.addCustomer_Error,error:c})))))),this.updateCustomer$=SI(()=>this.actions$.pipe(MI(cv),(0,cr.z)(a=>this.customerService.UpdateCustomerData(a.customerId,a.updatedCustomerdata).pipe((0,vt.U)(c=>(this.showToastMessage("Customer Updated Successfully"),{type:Xn.updateCustomer_Success,customerId:a.customerId,updatedCustomerdata:a.updatedCustomerdata})),(0,Or.K)(c=>(0,mt.of)({type:Xn.updateCustomer_Error,error:c})))))),this.deleteCustomer$=SI(()=>this.actions$.pipe(MI(Iw),(0,vt.U)(a=>a.customerId),(0,cr.z)(a=>this.customerService.DeleteCustomer(a).pipe((0,vt.U)(()=>(this.showToastMessage("Customer Deleted Successfully"),{type:Xn.removeCustomer_Success,customerId:a})),(0,Or.K)(c=>(0,mt.of)({type:Xn.removeCustomer_Error,error:c}))))))}showToastMessage(t){this._snackBar.open(t,"",{horizontalPosition:"right",verticalPosition:"bottom",duration:2e3,panelClass:["toast-message-style"]})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(KV),u.LFG(BO),u.LFG(xq))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),o5=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n,bootstrap:[pq]}),n.\u0275inj=u.cJS({imports:[[vo,K_,Fl.hO.initializeApp(ok_firebaseConfig),dn.Aw.forRoot({customers:_q}),t5.forRoot([s5]),pS,Cp,rq,cA,jO,E4,wV,hj,VV,Rq.FT.instrument({maxAge:25,logOnly:true,autoPause:!0})]]}),n})();(0,u.G48)(),ll().bootstrapModule(o5).catch(n=>console.error(n))},1135:(re,H,M)=>{M.d(H,{X:()=>q});var u=M(7579);class q extends u.x{constructor(ie){super(),this._value=ie}get value(){return this.getValue()}_subscribe(ie){const z=super._subscribe(ie);return!z.closed&&ie.next(this._value),z}getValue(){const{hasError:ie,thrownError:z,_value:se}=this;if(ie)throw z;return this._throwIfClosed(),se}next(ie){super.next(this._value=ie)}}},8306:(re,H,M)=>{M.d(H,{y:()=>V});var u=M(930),q=M(727),N=M(8822),ie=M(4671);var W=M(2416),ne=M(576),K=M(2806);let V=(()=>{class ve{constructor(je){je&&(this._subscribe=je)}lift(je){const ye=new ve;return ye.source=this,ye.operator=je,ye}subscribe(je,ye,be){const Ke=function Se(ve){return ve&&ve instanceof u.Lv||function Q(ve){return ve&&(0,ne.m)(ve.next)&&(0,ne.m)(ve.error)&&(0,ne.m)(ve.complete)}(ve)&&(0,q.Nn)(ve)}(je)?je:new u.Hp(je,ye,be);return(0,K.x)(()=>{const{operator:qe,source:Re}=this;Ke.add(qe?qe.call(Ke,Re):Re?this._subscribe(Ke):this._trySubscribe(Ke))}),Ke}_trySubscribe(je){try{return this._subscribe(je)}catch(ye){je.error(ye)}}forEach(je,ye){return new(ye=U(ye))((be,Ke)=>{const qe=new u.Hp({next:Re=>{try{je(Re)}catch(Ee){Ke(Ee),qe.unsubscribe()}},error:Ke,complete:be});this.subscribe(qe)})}_subscribe(je){var ye;return null===(ye=this.source)||void 0===ye?void 0:ye.subscribe(je)}[N.L](){return this}pipe(...je){return function se(ve){return 0===ve.length?ie.y:1===ve.length?ve[0]:function(je){return ve.reduce((ye,be)=>be(ye),je)}}(je)(this)}toPromise(je){return new(je=U(je))((ye,be)=>{let Ke;this.subscribe(qe=>Ke=qe,qe=>be(qe),()=>ye(Ke))})}}return ve.create=Oe=>new ve(Oe),ve})();function U(ve){var Oe;return null!==(Oe=null!=ve?ve:W.v.Promise)&&void 0!==Oe?Oe:Promise}},4707:(re,H,M)=>{M.d(H,{t:()=>N});var u=M(7579),q=M(6063);class N extends u.x{constructor(z=1/0,se=1/0,W=q.l){super(),this._bufferSize=z,this._windowTime=se,this._timestampProvider=W,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=se===1/0,this._bufferSize=Math.max(1,z),this._windowTime=Math.max(1,se)}next(z){const{isStopped:se,_buffer:W,_infiniteTimeWindow:ne,_timestampProvider:K,_windowTime:V}=this;se||(W.push(z),!ne&&W.push(K.now()+V)),this._trimBuffer(),super.next(z)}_subscribe(z){this._throwIfClosed(),this._trimBuffer();const se=this._innerSubscribe(z),{_infiniteTimeWindow:W,_buffer:ne}=this,K=ne.slice();for(let V=0;V<K.length&&!z.closed;V+=W?1:2)z.next(K[V]);return this._checkFinalizedStatuses(z),se}_trimBuffer(){const{_bufferSize:z,_timestampProvider:se,_buffer:W,_infiniteTimeWindow:ne}=this,K=(ne?1:2)*z;if(z<1/0&&K<W.length&&W.splice(0,W.length-K),!ne){const V=se.now();let U=0;for(let Q=1;Q<W.length&&W[Q]<=V;Q+=2)U=Q;U&&W.splice(0,U+1)}}}},7579:(re,H,M)=>{M.d(H,{x:()=>W});var u=M(8306),q=M(727);const ie=(0,M(3888).d)(K=>function(){K(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var z=M(8737),se=M(2806);let W=(()=>{class K extends u.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(U){const Q=new ne(this,this);return Q.operator=U,Q}_throwIfClosed(){if(this.closed)throw new ie}next(U){(0,se.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Q of this.currentObservers)Q.next(U)}})}error(U){(0,se.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=U;const{observers:Q}=this;for(;Q.length;)Q.shift().error(U)}})}complete(){(0,se.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:U}=this;for(;U.length;)U.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var U;return(null===(U=this.observers)||void 0===U?void 0:U.length)>0}_trySubscribe(U){return this._throwIfClosed(),super._trySubscribe(U)}_subscribe(U){return this._throwIfClosed(),this._checkFinalizedStatuses(U),this._innerSubscribe(U)}_innerSubscribe(U){const{hasError:Q,isStopped:Se,observers:ve}=this;return Q||Se?q.Lc:(this.currentObservers=null,ve.push(U),new q.w0(()=>{this.currentObservers=null,(0,z.P)(ve,U)}))}_checkFinalizedStatuses(U){const{hasError:Q,thrownError:Se,isStopped:ve}=this;Q?U.error(Se):ve&&U.complete()}asObservable(){const U=new u.y;return U.source=this,U}}return K.create=(V,U)=>new ne(V,U),K})();class ne extends W{constructor(V,U){super(),this.destination=V,this.source=U}next(V){var U,Q;null===(Q=null===(U=this.destination)||void 0===U?void 0:U.next)||void 0===Q||Q.call(U,V)}error(V){var U,Q;null===(Q=null===(U=this.destination)||void 0===U?void 0:U.error)||void 0===Q||Q.call(U,V)}complete(){var V,U;null===(U=null===(V=this.destination)||void 0===V?void 0:V.complete)||void 0===U||U.call(V)}_subscribe(V){var U,Q;return null!==(Q=null===(U=this.source)||void 0===U?void 0:U.subscribe(V))&&void 0!==Q?Q:q.Lc}}},930:(re,H,M)=>{M.d(H,{Hp:()=>je,Lv:()=>Q});var u=M(576),q=M(727),N=M(2416),ie=M(7849),z=M(5032);const se=K("C",void 0,void 0);function K(Re,Ee,De){return{kind:Re,value:Ee,error:De}}var V=M(3410),U=M(2806);class Q extends q.w0{constructor(Ee){super(),this.isStopped=!1,Ee?(this.destination=Ee,(0,q.Nn)(Ee)&&Ee.add(this)):this.destination=qe}static create(Ee,De,Xe){return new je(Ee,De,Xe)}next(Ee){this.isStopped?Ke(function ne(Re){return K("N",Re,void 0)}(Ee),this):this._next(Ee)}error(Ee){this.isStopped?Ke(function W(Re){return K("E",void 0,Re)}(Ee),this):(this.isStopped=!0,this._error(Ee))}complete(){this.isStopped?Ke(se,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ee){this.destination.next(Ee)}_error(Ee){try{this.destination.error(Ee)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Se=Function.prototype.bind;function ve(Re,Ee){return Se.call(Re,Ee)}class Oe{constructor(Ee){this.partialObserver=Ee}next(Ee){const{partialObserver:De}=this;if(De.next)try{De.next(Ee)}catch(Xe){ye(Xe)}}error(Ee){const{partialObserver:De}=this;if(De.error)try{De.error(Ee)}catch(Xe){ye(Xe)}else ye(Ee)}complete(){const{partialObserver:Ee}=this;if(Ee.complete)try{Ee.complete()}catch(De){ye(De)}}}class je extends Q{constructor(Ee,De,Xe){let Qe;if(super(),(0,u.m)(Ee)||!Ee)Qe={next:null!=Ee?Ee:void 0,error:null!=De?De:void 0,complete:null!=Xe?Xe:void 0};else{let bt;this&&N.v.useDeprecatedNextContext?(bt=Object.create(Ee),bt.unsubscribe=()=>this.unsubscribe(),Qe={next:Ee.next&&ve(Ee.next,bt),error:Ee.error&&ve(Ee.error,bt),complete:Ee.complete&&ve(Ee.complete,bt)}):Qe=Ee}this.destination=new Oe(Qe)}}function ye(Re){N.v.useDeprecatedSynchronousErrorHandling?(0,U.O)(Re):(0,ie.h)(Re)}function Ke(Re,Ee){const{onStoppedNotification:De}=N.v;De&&V.z.setTimeout(()=>De(Re,Ee))}const qe={closed:!0,next:z.Z,error:function be(Re){throw Re},complete:z.Z}},727:(re,H,M)=>{M.d(H,{Lc:()=>se,w0:()=>z,Nn:()=>W});var u=M(576);const N=(0,M(3888).d)(K=>function(U){K(this),this.message=U?`${U.length} errors occurred during unsubscription:\n${U.map((Q,Se)=>`${Se+1}) ${Q.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=U});var ie=M(8737);class z{constructor(V){this.initialTeardown=V,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let V;if(!this.closed){this.closed=!0;const{_parentage:U}=this;if(U)if(this._parentage=null,Array.isArray(U))for(const ve of U)ve.remove(this);else U.remove(this);const{initialTeardown:Q}=this;if((0,u.m)(Q))try{Q()}catch(ve){V=ve instanceof N?ve.errors:[ve]}const{_finalizers:Se}=this;if(Se){this._finalizers=null;for(const ve of Se)try{ne(ve)}catch(Oe){V=null!=V?V:[],Oe instanceof N?V=[...V,...Oe.errors]:V.push(Oe)}}if(V)throw new N(V)}}add(V){var U;if(V&&V!==this)if(this.closed)ne(V);else{if(V instanceof z){if(V.closed||V._hasParent(this))return;V._addParent(this)}(this._finalizers=null!==(U=this._finalizers)&&void 0!==U?U:[]).push(V)}}_hasParent(V){const{_parentage:U}=this;return U===V||Array.isArray(U)&&U.includes(V)}_addParent(V){const{_parentage:U}=this;this._parentage=Array.isArray(U)?(U.push(V),U):U?[U,V]:V}_removeParent(V){const{_parentage:U}=this;U===V?this._parentage=null:Array.isArray(U)&&(0,ie.P)(U,V)}remove(V){const{_finalizers:U}=this;U&&(0,ie.P)(U,V),V instanceof z&&V._removeParent(this)}}z.EMPTY=(()=>{const K=new z;return K.closed=!0,K})();const se=z.EMPTY;function W(K){return K instanceof z||K&&"closed"in K&&(0,u.m)(K.remove)&&(0,u.m)(K.add)&&(0,u.m)(K.unsubscribe)}function ne(K){(0,u.m)(K)?K():K.unsubscribe()}},2416:(re,H,M)=>{M.d(H,{v:()=>u});const u={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(re,H,M)=>{M.d(H,{E:()=>q});const q=new(M(8306).y)(z=>z.complete())},8996:(re,H,M)=>{M.d(H,{D:()=>Ee});var u=M(8421),q=M(5363),N=M(9468),se=M(8306),ne=M(2202),K=M(576),V=M(9672);function Q(De,Xe){if(!De)throw new Error("Iterable cannot be null");return new se.y(Qe=>{(0,V.f)(Qe,Xe,()=>{const bt=De[Symbol.asyncIterator]();(0,V.f)(Qe,Xe,()=>{bt.next().then(me=>{me.done?Qe.complete():Qe.next(me.value)})},0,!0)})})}var Se=M(3670),ve=M(8239),Oe=M(1144),je=M(6495),ye=M(2206),be=M(4532),Ke=M(3260);function Ee(De,Xe){return Xe?function Re(De,Xe){if(null!=De){if((0,Se.c)(De))return function ie(De,Xe){return(0,u.Xf)(De).pipe((0,N.R)(Xe),(0,q.Q)(Xe))}(De,Xe);if((0,Oe.z)(De))return function W(De,Xe){return new se.y(Qe=>{let bt=0;return Xe.schedule(function(){bt===De.length?Qe.complete():(Qe.next(De[bt++]),Qe.closed||this.schedule())})})}(De,Xe);if((0,ve.t)(De))return function z(De,Xe){return(0,u.Xf)(De).pipe((0,N.R)(Xe),(0,q.Q)(Xe))}(De,Xe);if((0,ye.D)(De))return Q(De,Xe);if((0,je.T)(De))return function U(De,Xe){return new se.y(Qe=>{let bt;return(0,V.f)(Qe,Xe,()=>{bt=De[ne.h](),(0,V.f)(Qe,Xe,()=>{let me,At;try{({value:me,done:At}=bt.next())}catch(Bt){return void Qe.error(Bt)}At?Qe.complete():Qe.next(me)},0,!0)}),()=>(0,K.m)(null==bt?void 0:bt.return)&&bt.return()})}(De,Xe);if((0,Ke.L)(De))return function qe(De,Xe){return Q((0,Ke.Q)(De),Xe)}(De,Xe)}throw(0,be.z)(De)}(De,Xe):(0,u.Xf)(De)}},8421:(re,H,M)=>{M.d(H,{Xf:()=>Se});var u=M(655),q=M(1144),N=M(8239),ie=M(8306),z=M(3670),se=M(2206),W=M(4532),ne=M(6495),K=M(3260),V=M(576),U=M(7849),Q=M(8822);function Se(Re){if(Re instanceof ie.y)return Re;if(null!=Re){if((0,z.c)(Re))return function ve(Re){return new ie.y(Ee=>{const De=Re[Q.L]();if((0,V.m)(De.subscribe))return De.subscribe(Ee);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Re);if((0,q.z)(Re))return function Oe(Re){return new ie.y(Ee=>{for(let De=0;De<Re.length&&!Ee.closed;De++)Ee.next(Re[De]);Ee.complete()})}(Re);if((0,N.t)(Re))return function je(Re){return new ie.y(Ee=>{Re.then(De=>{Ee.closed||(Ee.next(De),Ee.complete())},De=>Ee.error(De)).then(null,U.h)})}(Re);if((0,se.D)(Re))return be(Re);if((0,ne.T)(Re))return function ye(Re){return new ie.y(Ee=>{for(const De of Re)if(Ee.next(De),Ee.closed)return;Ee.complete()})}(Re);if((0,K.L)(Re))return function Ke(Re){return be((0,K.Q)(Re))}(Re)}throw(0,W.z)(Re)}function be(Re){return new ie.y(Ee=>{(function qe(Re,Ee){var De,Xe,Qe,bt;return(0,u.mG)(this,void 0,void 0,function*(){try{for(De=(0,u.KL)(Re);!(Xe=yield De.next()).done;)if(Ee.next(Xe.value),Ee.closed)return}catch(me){Qe={error:me}}finally{try{Xe&&!Xe.done&&(bt=De.return)&&(yield bt.call(De))}finally{if(Qe)throw Qe.error}}Ee.complete()})})(Re,Ee).catch(De=>Ee.error(De))})}},6451:(re,H,M)=>{M.d(H,{T:()=>se});var u=M(8189),q=M(8421),N=M(515),ie=M(3269),z=M(8996);function se(...W){const ne=(0,ie.yG)(W),K=(0,ie._6)(W,1/0),V=W;return V.length?1===V.length?(0,q.Xf)(V[0]):(0,u.J)(K)((0,z.D)(V,ne)):N.E}},9646:(re,H,M)=>{M.d(H,{of:()=>N});var u=M(3269),q=M(8996);function N(...ie){const z=(0,u.yG)(ie);return(0,q.D)(ie,z)}},5403:(re,H,M)=>{M.d(H,{x:()=>q,Q:()=>N});var u=M(930);function q(ie,z,se,W,ne){return new N(ie,z,se,W,ne)}class N extends u.Lv{constructor(z,se,W,ne,K,V){super(z),this.onFinalize=K,this.shouldUnsubscribe=V,this._next=se?function(U){try{se(U)}catch(Q){z.error(Q)}}:super._next,this._error=ne?function(U){try{ne(U)}catch(Q){z.error(Q)}finally{this.unsubscribe()}}:super._error,this._complete=W?function(){try{W()}catch(U){z.error(U)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var z;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:se}=this;super.unsubscribe(),!se&&(null===(z=this.onFinalize)||void 0===z||z.call(this))}}}},262:(re,H,M)=>{M.d(H,{K:()=>ie});var u=M(8421),q=M(5403),N=M(4482);function ie(z){return(0,N.e)((se,W)=>{let V,ne=null,K=!1;ne=se.subscribe((0,q.x)(W,void 0,void 0,U=>{V=(0,u.Xf)(z(U,ie(z)(se))),ne?(ne.unsubscribe(),ne=null,V.subscribe(W)):K=!0})),K&&(ne.unsubscribe(),ne=null,V.subscribe(W))})}},4351:(re,H,M)=>{M.d(H,{b:()=>N});var u=M(5577),q=M(576);function N(ie,z){return(0,q.m)(z)?(0,u.z)(ie,z,1):(0,u.z)(ie,1)}},8372:(re,H,M)=>{M.d(H,{b:()=>ie});var u=M(4986),q=M(4482),N=M(5403);function ie(z,se=u.z){return(0,q.e)((W,ne)=>{let K=null,V=null,U=null;const Q=()=>{if(K){K.unsubscribe(),K=null;const ve=V;V=null,ne.next(ve)}};function Se(){const ve=U+z,Oe=se.now();if(Oe<ve)return K=this.schedule(void 0,ve-Oe),void ne.add(K);Q()}W.subscribe((0,N.x)(ne,ve=>{V=ve,U=se.now(),K||(K=se.schedule(Se,z),ne.add(K))},()=>{Q(),ne.complete()},void 0,()=>{V=K=null}))})}},1884:(re,H,M)=>{M.d(H,{x:()=>ie});var u=M(4671),q=M(4482),N=M(5403);function ie(se,W=u.y){return se=null!=se?se:z,(0,q.e)((ne,K)=>{let V,U=!0;ne.subscribe((0,N.x)(K,Q=>{const Se=W(Q);(U||!se(V,Se))&&(U=!1,V=Se,K.next(Q))}))})}function z(se,W){return se===W}},9300:(re,H,M)=>{M.d(H,{h:()=>N});var u=M(4482),q=M(5403);function N(ie,z){return(0,u.e)((se,W)=>{let ne=0;se.subscribe((0,q.x)(W,K=>ie.call(z,K,ne++)&&W.next(K)))})}},4004:(re,H,M)=>{M.d(H,{U:()=>N});var u=M(4482),q=M(5403);function N(ie,z){return(0,u.e)((se,W)=>{let ne=0;se.subscribe((0,q.x)(W,K=>{W.next(ie.call(z,K,ne++))}))})}},8189:(re,H,M)=>{M.d(H,{J:()=>N});var u=M(5577),q=M(4671);function N(ie=1/0){return(0,u.z)(q.y,ie)}},5577:(re,H,M)=>{M.d(H,{z:()=>ne});var u=M(4004),q=M(8421),N=M(4482),ie=M(9672),z=M(5403),W=M(576);function ne(K,V,U=1/0){return(0,W.m)(V)?ne((Q,Se)=>(0,u.U)((ve,Oe)=>V(Q,ve,Se,Oe))((0,q.Xf)(K(Q,Se))),U):("number"==typeof V&&(U=V),(0,N.e)((Q,Se)=>function se(K,V,U,Q,Se,ve,Oe,je){const ye=[];let be=0,Ke=0,qe=!1;const Re=()=>{qe&&!ye.length&&!be&&V.complete()},Ee=Xe=>be<Q?De(Xe):ye.push(Xe),De=Xe=>{ve&&V.next(Xe),be++;let Qe=!1;(0,q.Xf)(U(Xe,Ke++)).subscribe((0,z.x)(V,bt=>{null==Se||Se(bt),ve?Ee(bt):V.next(bt)},()=>{Qe=!0},void 0,()=>{if(Qe)try{for(be--;ye.length&&be<Q;){const bt=ye.shift();Oe?(0,ie.f)(V,Oe,()=>De(bt)):De(bt)}Re()}catch(bt){V.error(bt)}}))};return K.subscribe((0,z.x)(V,Ee,()=>{qe=!0,Re()})),()=>{null==je||je()}}(Q,Se,K,U)))}},5363:(re,H,M)=>{M.d(H,{Q:()=>ie});var u=M(9672),q=M(4482),N=M(5403);function ie(z,se=0){return(0,q.e)((W,ne)=>{W.subscribe((0,N.x)(ne,K=>(0,u.f)(ne,z,()=>ne.next(K),se),()=>(0,u.f)(ne,z,()=>ne.complete(),se),K=>(0,u.f)(ne,z,()=>ne.error(K),se)))})}},5026:(re,H,M)=>{M.d(H,{R:()=>ie});var u=M(4482),q=M(5403);function N(z,se,W,ne,K){return(V,U)=>{let Q=W,Se=se,ve=0;V.subscribe((0,q.x)(U,Oe=>{const je=ve++;Se=Q?z(Se,Oe,je):(Q=!0,Oe),ne&&U.next(Se)},K&&(()=>{Q&&U.next(Se),U.complete()})))}}function ie(z,se){return(0,u.e)(N(z,se,arguments.length>=2,!0))}},3099:(re,H,M)=>{M.d(H,{B:()=>z});var u=M(8421),q=M(7579),N=M(930),ie=M(4482);function z(W={}){const{connector:ne=(()=>new q.x),resetOnError:K=!0,resetOnComplete:V=!0,resetOnRefCountZero:U=!0}=W;return Q=>{let Se,ve,Oe,je=0,ye=!1,be=!1;const Ke=()=>{null==ve||ve.unsubscribe(),ve=void 0},qe=()=>{Ke(),Se=Oe=void 0,ye=be=!1},Re=()=>{const Ee=Se;qe(),null==Ee||Ee.unsubscribe()};return(0,ie.e)((Ee,De)=>{je++,!be&&!ye&&Ke();const Xe=Oe=null!=Oe?Oe:ne();De.add(()=>{je--,0===je&&!be&&!ye&&(ve=se(Re,U))}),Xe.subscribe(De),!Se&&je>0&&(Se=new N.Hp({next:Qe=>Xe.next(Qe),error:Qe=>{be=!0,Ke(),ve=se(qe,K,Qe),Xe.error(Qe)},complete:()=>{ye=!0,Ke(),ve=se(qe,V),Xe.complete()}}),(0,u.Xf)(Ee).subscribe(Se))})(Q)}}function se(W,ne,...K){if(!0===ne)return void W();if(!1===ne)return;const V=new N.Hp({next:()=>{V.unsubscribe(),W()}});return ne(...K).subscribe(V)}},5684:(re,H,M)=>{M.d(H,{T:()=>q});var u=M(9300);function q(N){return(0,u.h)((ie,z)=>N<=z)}},9468:(re,H,M)=>{M.d(H,{R:()=>q});var u=M(4482);function q(N,ie=0){return(0,u.e)((z,se)=>{se.add(N.schedule(()=>z.subscribe(se),ie))})}},3900:(re,H,M)=>{M.d(H,{w:()=>ie});var u=M(8421),q=M(4482),N=M(5403);function ie(z,se){return(0,q.e)((W,ne)=>{let K=null,V=0,U=!1;const Q=()=>U&&!K&&ne.complete();W.subscribe((0,N.x)(ne,Se=>{null==K||K.unsubscribe();let ve=0;const Oe=V++;(0,u.Xf)(z(Se,Oe)).subscribe(K=(0,N.x)(ne,je=>ne.next(se?se(Se,je,Oe,ve++):je),()=>{K=null,Q()}))},()=>{U=!0,Q()}))})}},5698:(re,H,M)=>{M.d(H,{q:()=>ie});var u=M(515),q=M(4482),N=M(5403);function ie(z){return z<=0?()=>u.E:(0,q.e)((se,W)=>{let ne=0;se.subscribe((0,N.x)(W,K=>{++ne<=z&&(W.next(K),z<=ne&&W.complete())}))})}},2722:(re,H,M)=>{M.d(H,{R:()=>z});var u=M(4482),q=M(5403),N=M(8421),ie=M(5032);function z(se){return(0,u.e)((W,ne)=>{(0,N.Xf)(se).subscribe((0,q.x)(ne,()=>ne.complete(),ie.Z)),!ne.closed&&W.subscribe(ne)})}},8505:(re,H,M)=>{M.d(H,{b:()=>z});var u=M(576),q=M(4482),N=M(5403),ie=M(4671);function z(se,W,ne){const K=(0,u.m)(se)||W||ne?{next:se,error:W,complete:ne}:se;return K?(0,q.e)((V,U)=>{var Q;null===(Q=K.subscribe)||void 0===Q||Q.call(K);let Se=!0;V.subscribe((0,N.x)(U,ve=>{var Oe;null===(Oe=K.next)||void 0===Oe||Oe.call(K,ve),U.next(ve)},()=>{var ve;Se=!1,null===(ve=K.complete)||void 0===ve||ve.call(K),U.complete()},ve=>{var Oe;Se=!1,null===(Oe=K.error)||void 0===Oe||Oe.call(K,ve),U.error(ve)},()=>{var ve,Oe;Se&&(null===(ve=K.unsubscribe)||void 0===ve||ve.call(K)),null===(Oe=K.finalize)||void 0===Oe||Oe.call(K)}))}):ie.y}},7414:(re,H,M)=>{M.d(H,{V:()=>K});var u=M(4986),q=M(1165),N=M(4482),ie=M(8421),z=M(3888),se=M(5403),W=M(9672);const ne=(0,z.d)(U=>function(Se=null){U(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=Se});function K(U,Q){const{first:Se,each:ve,with:Oe=V,scheduler:je=(null!=Q?Q:u.z),meta:ye=null}=(0,q.q)(U)?{first:U}:"number"==typeof U?{each:U}:U;if(null==Se&&null==ve)throw new TypeError("No timeout provided.");return(0,N.e)((be,Ke)=>{let qe,Re,Ee=null,De=0;const Xe=Qe=>{Re=(0,W.f)(Ke,je,()=>{try{qe.unsubscribe(),(0,ie.Xf)(Oe({meta:ye,lastValue:Ee,seen:De})).subscribe(Ke)}catch(bt){Ke.error(bt)}},Qe)};qe=be.subscribe((0,se.x)(Ke,Qe=>{null==Re||Re.unsubscribe(),De++,Ke.next(Ee=Qe),ve>0&&Xe(ve)},void 0,void 0,()=>{(null==Re?void 0:Re.closed)||null==Re||Re.unsubscribe(),Ee=null})),!De&&Xe(null!=Se?"number"==typeof Se?Se:+Se-je.now():ve)})}function V(U){throw new ne(U)}},1365:(re,H,M)=>{M.d(H,{M:()=>W});var u=M(4482),q=M(5403),N=M(8421),ie=M(4671),z=M(5032),se=M(3269);function W(...ne){const K=(0,se.jO)(ne);return(0,u.e)((V,U)=>{const Q=ne.length,Se=new Array(Q);let ve=ne.map(()=>!1),Oe=!1;for(let je=0;je<Q;je++)(0,N.Xf)(ne[je]).subscribe((0,q.x)(U,ye=>{Se[je]=ye,!Oe&&!ve[je]&&(ve[je]=!0,(Oe=ve.every(ie.y))&&(ve=null))},z.Z));V.subscribe((0,q.x)(U,je=>{if(Oe){const ye=[je,...Se];U.next(K?K(...ye):ye)}}))})}},4408:(re,H,M)=>{M.d(H,{o:()=>z});var u=M(727);class q extends u.w0{constructor(W,ne){super()}schedule(W,ne=0){return this}}const N={setInterval(se,W,...ne){const{delegate:K}=N;return(null==K?void 0:K.setInterval)?K.setInterval(se,W,...ne):setInterval(se,W,...ne)},clearInterval(se){const{delegate:W}=N;return((null==W?void 0:W.clearInterval)||clearInterval)(se)},delegate:void 0};var ie=M(8737);class z extends q{constructor(W,ne){super(W,ne),this.scheduler=W,this.work=ne,this.pending=!1}schedule(W,ne=0){var K;if(this.closed)return this;this.state=W;const V=this.id,U=this.scheduler;return null!=V&&(this.id=this.recycleAsyncId(U,V,ne)),this.pending=!0,this.delay=ne,this.id=null!==(K=this.id)&&void 0!==K?K:this.requestAsyncId(U,this.id,ne),this}requestAsyncId(W,ne,K=0){return N.setInterval(W.flush.bind(W,this),K)}recycleAsyncId(W,ne,K=0){if(null!=K&&this.delay===K&&!1===this.pending)return ne;null!=ne&&N.clearInterval(ne)}execute(W,ne){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const K=this._execute(W,ne);if(K)return K;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(W,ne){let V,K=!1;try{this.work(W)}catch(U){K=!0,V=U||new Error("Scheduled action threw falsy error")}if(K)return this.unsubscribe(),V}unsubscribe(){if(!this.closed){const{id:W,scheduler:ne}=this,{actions:K}=ne;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ie.P)(K,this),null!=W&&(this.id=this.recycleAsyncId(ne,W,null)),this.delay=null,super.unsubscribe()}}}},7565:(re,H,M)=>{M.d(H,{v:()=>N});var u=M(6063);class q{constructor(z,se=q.now){this.schedulerActionCtor=z,this.now=se}schedule(z,se=0,W){return new this.schedulerActionCtor(this,z).schedule(W,se)}}q.now=u.l.now;class N extends q{constructor(z,se=q.now){super(z,se),this.actions=[],this._active=!1}flush(z){const{actions:se}=this;if(this._active)return void se.push(z);let W;this._active=!0;do{if(W=z.execute(z.state,z.delay))break}while(z=se.shift());if(this._active=!1,W){for(;z=se.shift();)z.unsubscribe();throw W}}}},4986:(re,H,M)=>{M.d(H,{z:()=>N,P:()=>ie});var u=M(4408);const N=new(M(7565).v)(u.o),ie=N},6063:(re,H,M)=>{M.d(H,{l:()=>u});const u={now:()=>(u.delegate||Date).now(),delegate:void 0}},233:(re,H,M)=>{M.d(H,{N:()=>z});var u=M(4408),N=M(7565);const z=new class ie extends N.v{}(class q extends u.o{constructor(ne,K){super(ne,K),this.scheduler=ne,this.work=K}schedule(ne,K=0){return K>0?super.schedule(ne,K):(this.delay=K,this.state=ne,this.scheduler.flush(this),this)}execute(ne,K){return K>0||this.closed?super.execute(ne,K):this._execute(ne,K)}requestAsyncId(ne,K,V=0){return null!=V&&V>0||null==V&&this.delay>0?super.requestAsyncId(ne,K,V):(ne.flush(this),0)}})},3410:(re,H,M)=>{M.d(H,{z:()=>u});const u={setTimeout(q,N,...ie){const{delegate:z}=u;return(null==z?void 0:z.setTimeout)?z.setTimeout(q,N,...ie):setTimeout(q,N,...ie)},clearTimeout(q){const{delegate:N}=u;return((null==N?void 0:N.clearTimeout)||clearTimeout)(q)},delegate:void 0}},2202:(re,H,M)=>{M.d(H,{h:()=>q});const q=function u(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(re,H,M)=>{M.d(H,{L:()=>u});const u="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(re,H,M)=>{M.d(H,{jO:()=>ie,yG:()=>z,_6:()=>se});var u=M(576),q=M(3532);function N(W){return W[W.length-1]}function ie(W){return(0,u.m)(N(W))?W.pop():void 0}function z(W){return(0,q.K)(N(W))?W.pop():void 0}function se(W,ne){return"number"==typeof N(W)?W.pop():ne}},8737:(re,H,M)=>{function u(q,N){if(q){const ie=q.indexOf(N);0<=ie&&q.splice(ie,1)}}M.d(H,{P:()=>u})},3888:(re,H,M)=>{function u(q){const ie=q(z=>{Error.call(z),z.stack=(new Error).stack});return ie.prototype=Object.create(Error.prototype),ie.prototype.constructor=ie,ie}M.d(H,{d:()=>u})},2806:(re,H,M)=>{M.d(H,{x:()=>N,O:()=>ie});var u=M(2416);let q=null;function N(z){if(u.v.useDeprecatedSynchronousErrorHandling){const se=!q;if(se&&(q={errorThrown:!1,error:null}),z(),se){const{errorThrown:W,error:ne}=q;if(q=null,W)throw ne}}else z()}function ie(z){u.v.useDeprecatedSynchronousErrorHandling&&q&&(q.errorThrown=!0,q.error=z)}},9672:(re,H,M)=>{function u(q,N,ie,z=0,se=!1){const W=N.schedule(function(){ie(),se?q.add(this.schedule(null,z)):this.unsubscribe()},z);if(q.add(W),!se)return W}M.d(H,{f:()=>u})},4671:(re,H,M)=>{function u(q){return q}M.d(H,{y:()=>u})},1144:(re,H,M)=>{M.d(H,{z:()=>u});const u=q=>q&&"number"==typeof q.length&&"function"!=typeof q},2206:(re,H,M)=>{M.d(H,{D:()=>q});var u=M(576);function q(N){return Symbol.asyncIterator&&(0,u.m)(null==N?void 0:N[Symbol.asyncIterator])}},1165:(re,H,M)=>{function u(q){return q instanceof Date&&!isNaN(q)}M.d(H,{q:()=>u})},576:(re,H,M)=>{function u(q){return"function"==typeof q}M.d(H,{m:()=>u})},3670:(re,H,M)=>{M.d(H,{c:()=>N});var u=M(8822),q=M(576);function N(ie){return(0,q.m)(ie[u.L])}},6495:(re,H,M)=>{M.d(H,{T:()=>N});var u=M(2202),q=M(576);function N(ie){return(0,q.m)(null==ie?void 0:ie[u.h])}},8239:(re,H,M)=>{M.d(H,{t:()=>q});var u=M(576);function q(N){return(0,u.m)(null==N?void 0:N.then)}},3260:(re,H,M)=>{M.d(H,{Q:()=>N,L:()=>ie});var u=M(655),q=M(576);function N(z){return(0,u.FC)(this,arguments,function*(){const W=z.getReader();try{for(;;){const{value:ne,done:K}=yield(0,u.qq)(W.read());if(K)return yield(0,u.qq)(void 0);yield yield(0,u.qq)(ne)}}finally{W.releaseLock()}})}function ie(z){return(0,q.m)(null==z?void 0:z.getReader)}},3532:(re,H,M)=>{M.d(H,{K:()=>q});var u=M(576);function q(N){return N&&(0,u.m)(N.schedule)}},4482:(re,H,M)=>{M.d(H,{A:()=>q,e:()=>N});var u=M(576);function q(ie){return(0,u.m)(null==ie?void 0:ie.lift)}function N(ie){return z=>{if(q(z))return z.lift(function(se){try{return ie(se,this)}catch(W){this.error(W)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(re,H,M)=>{function u(){}M.d(H,{Z:()=>u})},7849:(re,H,M)=>{M.d(H,{h:()=>N});var u=M(2416),q=M(3410);function N(ie){q.z.setTimeout(()=>{const{onUnhandledError:z}=u.v;if(!z)throw ie;z(ie)})}},4532:(re,H,M)=>{function u(q){return new TypeError(`You provided ${null!==q&&"object"==typeof q?"an invalid object":`'${q}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}M.d(H,{z:()=>u})},655:(re,H,M)=>{function ie(le,xe){var Le={};for(var He in le)Object.prototype.hasOwnProperty.call(le,He)&&xe.indexOf(He)<0&&(Le[He]=le[He]);if(null!=le&&"function"==typeof Object.getOwnPropertySymbols){var Ge=0;for(He=Object.getOwnPropertySymbols(le);Ge<He.length;Ge++)xe.indexOf(He[Ge])<0&&Object.prototype.propertyIsEnumerable.call(le,He[Ge])&&(Le[He[Ge]]=le[He[Ge]])}return Le}function Q(le,xe,Le,He){return new(Le||(Le=Promise))(function(Fe,Rt){function mn(Qt){try{Ze(He.next(Qt))}catch(yn){Rt(yn)}}function Gt(Qt){try{Ze(He.throw(Qt))}catch(yn){Rt(yn)}}function Ze(Qt){Qt.done?Fe(Qt.value):function Ge(Fe){return Fe instanceof Le?Fe:new Le(function(Rt){Rt(Fe)})}(Qt.value).then(mn,Gt)}Ze((He=He.apply(le,xe||[])).next())})}function Re(le){return this instanceof Re?(this.v=le,this):new Re(le)}function Ee(le,xe,Le){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ge,He=Le.apply(le,xe||[]),Fe=[];return Ge={},Rt("next"),Rt("throw"),Rt("return"),Ge[Symbol.asyncIterator]=function(){return this},Ge;function Rt(zt){He[zt]&&(Ge[zt]=function(vn){return new Promise(function(Gn,gr){Fe.push([zt,vn,Gn,gr])>1||mn(zt,vn)})})}function mn(zt,vn){try{!function Gt(zt){zt.value instanceof Re?Promise.resolve(zt.value.v).then(Ze,Qt):yn(Fe[0][2],zt)}(He[zt](vn))}catch(Gn){yn(Fe[0][3],Gn)}}function Ze(zt){mn("next",zt)}function Qt(zt){mn("throw",zt)}function yn(zt,vn){zt(vn),Fe.shift(),Fe.length&&mn(Fe[0][0],Fe[0][1])}}function Xe(le){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Le,xe=le[Symbol.asyncIterator];return xe?xe.call(le):(le=function je(le){var xe="function"==typeof Symbol&&Symbol.iterator,Le=xe&&le[xe],He=0;if(Le)return Le.call(le);if(le&&"number"==typeof le.length)return{next:function(){return le&&He>=le.length&&(le=void 0),{value:le&&le[He++],done:!le}}};throw new TypeError(xe?"Object is not iterable.":"Symbol.iterator is not defined.")}(le),Le={},He("next"),He("throw"),He("return"),Le[Symbol.asyncIterator]=function(){return this},Le);function He(Fe){Le[Fe]=le[Fe]&&function(Rt){return new Promise(function(mn,Gt){!function Ge(Fe,Rt,mn,Gt){Promise.resolve(Gt).then(function(Ze){Fe({value:Ze,done:mn})},Rt)}(mn,Gt,(Rt=le[Fe](Rt)).done,Rt.value)})}}}M.d(H,{_T:()=>ie,mG:()=>Q,qq:()=>Re,FC:()=>Ee,KL:()=>Xe})},5e3:(re,H,M)=>{M.d(H,{deG:()=>_u,tb:()=>Sv,AFp:()=>wp,ip1:()=>Ag,CZH:()=>Mg,hGG:()=>QA,z2F:()=>Bv,sBO:()=>aC,Sil:()=>nN,_Vd:()=>nv,EJc:()=>xA,SBq:()=>og,qLn:()=>Bd,vpe:()=>zi,tBr:()=>ja,XFs:()=>It,OlP:()=>Zn,zs3:()=>la,ZZ4:()=>$g,aQg:()=>CC,soG:()=>Pg,YKP:()=>vw,h0i:()=>Hu,PXZ:()=>VA,R0b:()=>Fo,FiY:()=>Js,Lbi:()=>Tv,g9A:()=>Iv,Qsj:()=>UP,FYo:()=>ZS,JOm:()=>Mo,q3G:()=>pr,PiD:()=>Md,tp0:()=>eo,Rgc:()=>_h,dDg:()=>Rv,q4F:()=>QS,GfV:()=>YS,s_b:()=>ha,ifc:()=>Nt,eFA:()=>Nv,G48:()=>HA,Gpc:()=>U,f3M:()=>pc,X6Q:()=>sC,_c5:()=>pN,VLi:()=>Ov,c2e:()=>Og,zSh:()=>Hb,wAp:()=>Ut,vHH:()=>Oe,EiD:()=>pm,mCW:()=>no,qzn:()=>w,JVY:()=>O,pB0:()=>Ie,eBb:()=>te,L6k:()=>L,LAX:()=>ce,cg1:()=>qy,kL8:()=>Wy,yhl:()=>I,dqk:()=>Zt,sIi:()=>Bm,CqO:()=>dh,QGY:()=>Po,F4k:()=>Hc,RDi:()=>ba,AaK:()=>ne,z3N:()=>fs,qOj:()=>t0,TTD:()=>il,_Bn:()=>qS,xp6:()=>Pm,uIk:()=>Xd,ekj:()=>ky,Suo:()=>pv,Xpm:()=>ir,lG2:()=>ut,Yz7:()=>Ze,cJS:()=>yn,oAB:()=>oe,Yjl:()=>Vt,Y36:()=>jc,_UZ:()=>ch,GkF:()=>Hm,BQk:()=>ua,ynx:()=>ep,qZA:()=>lh,TgZ:()=>Ya,EpF:()=>Sy,n5z:()=>tn,Ikx:()=>$y,LFG:()=>zr,$8M:()=>hr,$Z:()=>Jf,NdJ:()=>Ay,CRH:()=>mg,oxw:()=>zm,Hsn:()=>S0,F$t:()=>T0,Q6J:()=>ah,iGM:()=>fv,CHM:()=>yd,LSH:()=>Ac,Udp:()=>fh,WFA:()=>tp,d8E:()=>Gy,YNc:()=>m0,_uU:()=>j0,Oqu:()=>Ny,hij:()=>Ym,Gf:()=>pg});var u=M(7579),q=M(727),N=M(8306),ie=M(6451),z=M(3099);function se(s){for(let o in s)if(s[o]===se)return o;throw Error("Could not find renamed property on target object.")}function W(s,o){for(const l in o)o.hasOwnProperty(l)&&!s.hasOwnProperty(l)&&(s[l]=o[l])}function ne(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(ne).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const l=o.indexOf("\n");return-1===l?o:o.substring(0,l)}function K(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const V=se({__forward_ref__:se});function U(s){return s.__forward_ref__=U,s.toString=function(){return ne(this())},s}function Q(s){return Se(s)?s():s}function Se(s){return"function"==typeof s&&s.hasOwnProperty(V)&&s.__forward_ref__===U}class Oe extends Error{constructor(o,l){super(function je(s,o){return`NG0${Math.abs(s)}${o?": "+o:""}`}(o,l)),this.code=o}}function ye(s){return"string"==typeof s?s:null==s?"":String(s)}function be(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():ye(s)}function Ee(s,o){const l=o?` in ${o}`:"";throw new Oe(-201,`No provider for ${be(s)} found${l}`)}function Ge(s,o){null==s&&function Fe(s,o,l,d){throw new Error(`ASSERTION ERROR: ${s}`+(null==d?"":` [Expected=> ${l} ${d} ${o} <=Actual]`))}(o,s,null,"!=")}function Ze(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function yn(s){return{providers:s.providers||[],imports:s.imports||[]}}function zt(s){return vn(s,nr)||vn(s,Mi)}function vn(s,o){return s.hasOwnProperty(o)?s[o]:null}function ni(s){return s&&(s.hasOwnProperty(Ji)||s.hasOwnProperty(qs))?s[Ji]:null}const nr=se({\u0275prov:se}),Ji=se({\u0275inj:se}),Mi=se({ngInjectableDef:se}),qs=se({ngInjectorDef:se});var It=(()=>((It=It||{})[It.Default=0]="Default",It[It.Host=1]="Host",It[It.Self=2]="Self",It[It.SkipSelf=4]="SkipSelf",It[It.Optional=8]="Optional",It))();let mo;function rr(s){const o=mo;return mo=s,o}function Ws(s,o,l){const d=zt(s);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:l&It.Optional?null:void 0!==o?o:void Ee(ne(s),"Injector")}function qn(s){return{toString:s}.toString()}var ur=(()=>((ur=ur||{})[ur.OnPush=0]="OnPush",ur[ur.Default=1]="Default",ur))(),Nt=(()=>{return(s=Nt||(Nt={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",Nt;var s})();const wt="undefined"!=typeof globalThis&&globalThis,kt="undefined"!=typeof window&&window,Li="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Zt=wt||"undefined"!=typeof global&&global||kt||Li,fi={},Pt=[],ts=se({\u0275cmp:se}),on=se({\u0275dir:se}),pi=se({\u0275pipe:se}),yr=se({\u0275mod:se}),On=se({\u0275fac:se}),Ln=se({__NG_ELEMENT_ID__:se});let ns=0;function ir(s){return qn(()=>{const l={},d={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:l,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===ur.OnPush,directiveDefs:null,pipeDefs:null,selectors:s.selectors||Pt,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||Nt.Emulated,id:"c",styles:s.styles||Pt,_:null,setInput:null,schemas:s.schemas||null,tView:null},f=s.directives,g=s.features,v=s.pipes;return d.id+=ns++,d.inputs=pe(s.inputs,l),d.outputs=pe(s.outputs),g&&g.forEach(C=>C(d)),d.directiveDefs=f?()=>("function"==typeof f?f():f).map(dr):null,d.pipeDefs=v?()=>("function"==typeof v?v():v).map(Y):null,d})}function dr(s){return Ft(s)||function Nn(s){return s[on]||null}(s)}function Y(s){return function Sn(s){return s[pi]||null}(s)}const G={};function oe(s){return qn(()=>{const o={type:s.type,bootstrap:s.bootstrap||Pt,declarations:s.declarations||Pt,imports:s.imports||Pt,exports:s.exports||Pt,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&(G[s.id]=s.type),o})}function pe(s,o){if(null==s)return fi;const l={};for(const d in s)if(s.hasOwnProperty(d)){let f=s[d],g=f;Array.isArray(f)&&(g=f[1],f=f[0]),l[f]=d,o&&(o[f]=g)}return l}const ut=ir;function Vt(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,onDestroy:s.type.prototype.ngOnDestroy||null}}function Ft(s){return s[ts]||null}function En(s,o){const l=s[yr]||null;if(!l&&!0===o)throw new Error(`Type ${ne(s)} does not have '\u0275mod' property.`);return l}const $=18;function Ye(s){return Array.isArray(s)&&"object"==typeof s[1]}function jt(s){return Array.isArray(s)&&!0===s[1]}function or(s){return 0!=(8&s.flags)}function Cn(s){return 2==(2&s.flags)}function Er(s){return 1==(1&s.flags)}function Jt(s){return null!==s.template}function ii(s){return 0!=(512&s[2])}function $o(s,o){return s.hasOwnProperty(On)?s[On]:null}class Is{constructor(o,l,d){this.previousValue=o,this.currentValue=l,this.firstChange=d}isFirstChange(){return this.firstChange}}function il(){return ya}function ya(s){return s.type.prototype.ngOnChanges&&(s.setInput=gd),ef}function ef(){const s=sl(this),o=null==s?void 0:s.current;if(o){const l=s.previous;if(l===fi)s.previous=o;else for(let d in o)l[d]=o[d];s.current=null,this.ngOnChanges(o)}}function gd(s,o,l,d){const f=sl(s)||function tf(s,o){return s[Gl]=o}(s,{previous:fi,current:null}),g=f.current||(f.current={}),v=f.previous,C=this.declaredInputs[l],T=v[C];g[C]=new Is(T&&T.currentValue,o,v===fi),s[d]=o}il.ngInherit=!0;const Gl="__ngSimpleChanges__";function sl(s){return s[Gl]||null}let rs;function ba(s){rs=s}function Vn(s){return!!s.listen}const su={createRenderer:(s,o)=>function Ts(){return void 0!==rs?rs:"undefined"!=typeof document?document:void 0}()};function Dn(s){for(;Array.isArray(s);)s=s[0];return s}function Ca(s,o){return Dn(o[s])}function Ar(s,o){return Dn(o[s.index])}function Zr(s,o){return s.data[o]}function xi(s,o){const l=o[s];return Ye(l)?l:l[0]}function Go(s){return 4==(4&s[2])}function ss(s){return 128==(128&s[2])}function Ss(s,o){return null==o?null:s[o]}function Da(s){s[$]=0}function gi(s,o){s[5]+=o;let l=s,d=s[3];for(;null!==d&&(1===o&&1===l[5]||-1===o&&0===l[5]);)d[5]+=o,l=d,d=d[3]}const Ot={lFrame:Mr(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Ia(){return Ot.bindingsEnabled}function Ue(){return Ot.lFrame.lView}function un(){return Ot.lFrame.tView}function yd(s){return Ot.lFrame.contextLView=s,s[8]}function Un(){let s=al();for(;null!==s&&64===s.type;)s=s.parent;return s}function al(){return Ot.lFrame.currentTNode}function os(s,o){const l=Ot.lFrame;l.currentTNode=s,l.isParent=o}function Yl(){return Ot.lFrame.isParent}function _o(){Ot.lFrame.isParent=!1}function yo(){return Ot.isInCheckNoChangesMode}function Sa(s){Ot.isInCheckNoChangesMode=s}function Ma(){return Ot.lFrame.bindingIndex++}function Ql(s,o){const l=Ot.lFrame;l.bindingIndex=l.bindingRootIndex=s,Xl(o)}function Xl(s){Ot.lFrame.currentDirectiveIndex=s}function vo(s){const o=Ot.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}function cu(){return Ot.lFrame.currentQueryIndex}function Ko(s){Ot.lFrame.currentQueryIndex=s}function om(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function uu(s,o,l){if(l&It.SkipSelf){let f=o,g=s;for(;!(f=f.parent,null!==f||l&It.Host||(f=om(g),null===f||(g=g[15],10&f.type))););if(null===f)return!1;o=f,s=g}const d=Ot.lFrame=vd();return d.currentTNode=o,d.lView=s,!0}function Eo(s){const o=vd(),l=s[1];Ot.lFrame=o,o.currentTNode=l.firstChild,o.lView=s,o.tView=l,o.contextLView=s,o.bindingIndex=l.bindingStartIndex,o.inI18n=!1}function vd(){const s=Ot.lFrame,o=null===s?null:s.child;return null===o?Mr(s):o}function Mr(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function du(){const s=Ot.lFrame;return Ot.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const hu=du;function Zo(){const s=du();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Vr(){return Ot.lFrame.selectedIndex}function _i(s){Ot.lFrame.selectedIndex=s}function jn(){const s=Ot.lFrame;return Zr(s.tView,s.selectedIndex)}function cl(s,o){for(let l=o.directiveStart,d=o.directiveEnd;l<d;l++){const g=s.data[l].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:C,ngAfterViewInit:T,ngAfterViewChecked:R,ngOnDestroy:k}=g;v&&(s.contentHooks||(s.contentHooks=[])).push(-l,v),C&&((s.contentHooks||(s.contentHooks=[])).push(l,C),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(l,C)),T&&(s.viewHooks||(s.viewHooks=[])).push(-l,T),R&&((s.viewHooks||(s.viewHooks=[])).push(l,R),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(l,R)),null!=k&&(s.destroyHooks||(s.destroyHooks=[])).push(l,k)}}function nc(s,o,l){bo(s,o,3,l)}function Yo(s,o,l,d){(3&s[2])===l&&bo(s,o,l,d)}function rc(s,o){let l=s[2];(3&l)===o&&(l&=2047,l+=1,s[2]=l)}function bo(s,o,l,d){const g=null!=d?d:-1,v=o.length-1;let C=0;for(let T=void 0!==d?65535&s[$]:0;T<v;T++)if("number"==typeof o[T+1]){if(C=o[T],null!=d&&C>=d)break}else o[T]<0&&(s[$]+=65536),(C<g||-1==g)&&(lf(s,l,o,T),s[$]=(4294901760&s[$])+T+2),T++}function lf(s,o,l,d){const f=l[d]<0,g=l[d+1],C=s[f?-l[d]:l[d]];if(f){if(s[2]>>11<s[$]>>16&&(3&s[2])===o){s[2]+=2048;try{g.call(C)}finally{}}}else try{g.call(C)}finally{}}class ic{constructor(o,l,d){this.factory=o,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=d}}function oi(s,o,l){const d=Vn(s);let f=0;for(;f<l.length;){const g=l[f];if("number"==typeof g){if(0!==g)break;f++;const v=l[f++],C=l[f++],T=l[f++];d?s.setAttribute(o,C,T,v):o.setAttributeNS(v,C,T)}else{const v=g,C=l[++f];sc(v)?d&&s.setProperty(o,v,C):d?s.setAttribute(o,v,C):o.setAttribute(v,C),f++}}return f}function xr(s){return 3===s||4===s||6===s}function sc(s){return 64===s.charCodeAt(0)}function fu(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let l=-1;for(let d=0;d<o.length;d++){const f=o[d];"number"==typeof f?l=f:0===l||xa(s,l,f,null,-1===l||2===l?o[++d]:null)}}return s}function xa(s,o,l,d,f){let g=0,v=s.length;if(-1===o)v=-1;else for(;g<s.length;){const C=s[g++];if("number"==typeof C){if(C===o){v=-1;break}if(C>o){v=g-1;break}}}for(;g<s.length;){const C=s[g];if("number"==typeof C)break;if(C===l){if(null===d)return void(null!==f&&(s[g+1]=f));if(d===s[g+1])return void(s[g+2]=f)}g++,null!==d&&g++,null!==f&&g++}-1!==v&&(s.splice(v,0,o),g=v+1),s.splice(g++,0,l),null!==d&&s.splice(g++,0,d),null!==f&&s.splice(g++,0,f)}function wo(s){return-1!==s}function ls(s){return 32767&s}function cs(s,o){let l=function Cd(s){return s>>16}(s),d=o;for(;l>0;)d=d[15],l--;return d}let vt=!0;function ul(s){const o=vt;return vt=s,o}let dl=0;function Co(s,o){const l=pu(s,o);if(-1!==l)return l;const d=o[1];d.firstCreatePass&&(s.injectorIndex=o.length,hl(d.data,s),hl(o,null),hl(d.blueprint,null));const f=Ra(s,o),g=s.injectorIndex;if(wo(f)){const v=ls(f),C=cs(f,o),T=C[1].data;for(let R=0;R<8;R++)o[g+R]=C[v+R]|T[v+R]}return o[g+8]=f,g}function hl(s,o){s.push(0,0,0,0,0,0,0,0,o)}function pu(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function Ra(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let l=0,d=null,f=o;for(;null!==f;){const g=f[1],v=g.type;if(d=2===v?g.declTNode:1===v?f[6]:null,null===d)return-1;if(l++,f=f[15],-1!==d.injectorIndex)return d.injectorIndex|l<<16}return-1}function Ur(s,o,l){!function Rr(s,o,l){let d;"string"==typeof l?d=l.charCodeAt(0)||0:l.hasOwnProperty(Ln)&&(d=l[Ln]),null==d&&(d=l[Ln]=dl++);const f=255&d;o.data[s+(f>>5)]|=1<<f}(s,o,l)}function Xo(s,o,l){if(l&It.Optional)return s;Ee(o,"NodeInjector")}function ac(s,o,l,d){if(l&It.Optional&&void 0===d&&(d=null),0==(l&(It.Self|It.Host))){const f=s[9],g=rr(void 0);try{return f?f.get(o,d,l&It.Optional):Ws(o,d,l&It.Optional)}finally{rr(g)}}return Xo(d,o,l)}function us(s,o,l,d=It.Default,f){if(null!==s){const g=function ka(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(Ln)?s[Ln]:void 0;return"number"==typeof o?o>=0?255&o:Oa:o}(l);if("function"==typeof g){if(!uu(o,s,d))return d&It.Host?Xo(f,l,d):ac(o,l,d,f);try{const v=g(d);if(null!=v||d&It.Optional)return v;Ee(l)}finally{hu()}}else if("number"==typeof g){let v=null,C=pu(s,o),T=-1,R=d&It.Host?o[16][6]:null;for((-1===C||d&It.SkipSelf)&&(T=-1===C?Ra(s,o):o[C+8],-1!==T&&mu(d,!1)?(v=o[1],C=ls(T),o=cs(T,o)):C=-1);-1!==C;){const k=o[1];if(jr(g,C,k.data)){const B=Os(C,o,l,v,d,R);if(B!==hf)return B}T=o[C+8],-1!==T&&mu(d,o[1].data[C+8]===R)&&jr(g,C,o)?(v=k,C=ls(T),o=cs(T,o)):C=-1}}}return ac(o,l,d,f)}const hf={};function Oa(){return new Do(Un(),Ue())}function Os(s,o,l,d,f,g){const v=o[1],C=v.data[s+8],k=pl(C,v,l,null==d?Cn(C)&&vt:d!=v&&0!=(3&C.type),f&It.Host&&g===C);return null!==k?gn(o,v,k,C):hf}function pl(s,o,l,d,f){const g=s.providerIndexes,v=o.data,C=1048575&g,T=s.directiveStart,k=g>>20,J=f?C+k:s.directiveEnd;for(let he=d?C:C+k;he<J;he++){const ke=v[he];if(he<T&&l===ke||he>=T&&ke.type===l)return he}if(f){const he=v[T];if(he&&Jt(he)&&he.type===l)return T}return null}function gn(s,o,l,d){let f=s[l];const g=o.data;if(function cf(s){return s instanceof ic}(f)){const v=f;v.resolving&&function Ke(s,o){const l=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new Oe(-200,`Circular dependency in DI detected for ${s}${l}`)}(be(g[l]));const C=ul(v.canSeeViewProviders);v.resolving=!0;const T=v.injectImpl?rr(v.injectImpl):null;uu(s,d,It.Default);try{f=s[l]=v.factory(void 0,g,s,d),o.firstCreatePass&&l>=d.directiveStart&&function bd(s,o,l){const{ngOnChanges:d,ngOnInit:f,ngDoCheck:g}=o.type.prototype;if(d){const v=ya(o);(l.preOrderHooks||(l.preOrderHooks=[])).push(s,v),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,v)}f&&(l.preOrderHooks||(l.preOrderHooks=[])).push(0-s,f),g&&((l.preOrderHooks||(l.preOrderHooks=[])).push(s,g),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,g))}(l,g[l],o)}finally{null!==T&&rr(T),ul(C),v.resolving=!1,hu()}}return f}function jr(s,o,l){return!!(l[o+(s>>5)]&1<<s)}function mu(s,o){return!(s&It.Self||s&It.Host&&o)}class Do{constructor(o,l){this._tNode=o,this._lView=l}get(o,l,d){return us(this._tNode,this._lView,o,d,l)}}function tn(s){return qn(()=>{const o=s.prototype.constructor,l=o[On]||_n(o),d=Object.prototype;let f=Object.getPrototypeOf(s.prototype).constructor;for(;f&&f!==d;){const g=f[On]||_n(f);if(g&&g!==l)return g;f=Object.getPrototypeOf(f)}return g=>new g})}function _n(s){return Se(s)?()=>{const o=_n(Q(s));return o&&o()}:$o(s)}function hr(s){return function fl(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const l=s.attrs;if(l){const d=l.length;let f=0;for(;f<d;){const g=l[f];if(xr(g))break;if(0===g)f+=2;else if("number"==typeof g)for(f++;f<d&&"string"==typeof l[f];)f++;else{if(g===o)return l[f+1];f+=2}}}return null}(Un(),s)}const Ri="__parameters__";function Io(s,o,l){return qn(()=>{const d=function ds(s){return function(...l){if(s){const d=s(...l);for(const f in d)this[f]=d[f]}}}(o);function f(...g){if(this instanceof f)return d.apply(this,g),this;const v=new f(...g);return C.annotation=v,C;function C(T,R,k){const B=T.hasOwnProperty(Ri)?T[Ri]:Object.defineProperty(T,Ri,{value:[]})[Ri];for(;B.length<=k;)B.push(null);return(B[k]=B[k]||[]).push(v),T}}return l&&(f.prototype=Object.create(l.prototype)),f.prototype.ngMetadataName=s,f.annotationCls=f,f})}class Zn{constructor(o,l){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=Ze({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}toString(){return`InjectionToken ${this._desc}`}}const _u=new Zn("AnalyzeForEntryComponents");function yi(s,o){void 0===o&&(o=s);for(let l=0;l<s.length;l++){let d=s[l];Array.isArray(d)?(o===s&&(o=s.slice(0,l)),yi(d,o)):o!==s&&o.push(d)}return o}function hs(s,o){s.forEach(l=>Array.isArray(l)?hs(l,o):o(l))}function yl(s,o,l){o>=s.length?s.push(l):s.splice(o,0,l)}function cc(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function ta(s,o){const l=[];for(let d=0;d<s;d++)l.push(o);return l}function vi(s,o,l){let d=Pa(s,o);return d>=0?s[1|d]=l:(d=~d,function Td(s,o,l,d){let f=s.length;if(f==o)s.push(l,d);else if(1===f)s.push(d,s[0]),s[0]=l;else{for(f--,s.push(s[f-1],s[f]);f>o;)s[f]=s[f-2],f--;s[o]=l,s[o+1]=d}}(s,d,o,l)),d}function Qs(s,o){const l=Pa(s,o);if(l>=0)return s[1|l]}function Pa(s,o){return function Sd(s,o,l){let d=0,f=s.length>>l;for(;f!==d;){const g=d+(f-d>>1),v=s[g<<l];if(o===v)return g<<l;v>o?f=g:d=g+1}return~(f<<l)}(s,o,1)}const Hr={},El="__NG_DI_FLAG__",bl="ngTempTokenPath",hc=/\n/gm,Ui="__source",La=se({provide:String,useValue:se});let ji;function fn(s){const o=ji;return ji=s,o}function na(s,o=It.Default){if(void 0===ji)throw new Oe(203,"");return null===ji?Ws(s,void 0,o):ji.get(s,o&It.Optional?null:void 0,o)}function zr(s,o=It.Default){return(function Pn(){return mo}()||na)(Q(s),o)}const pc=zr;function Ba(s){const o=[];for(let l=0;l<s.length;l++){const d=Q(s[l]);if(Array.isArray(d)){if(0===d.length)throw new Oe(900,"");let f,g=It.Default;for(let v=0;v<d.length;v++){const C=d[v],T=um(C);"number"==typeof T?-1===T?f=C.token:g|=T:f=C}o.push(zr(f,g))}else o.push(zr(d))}return o}function Xs(s,o){return s[El]=o,s.prototype[El]=o,s}function um(s){return s[El]}const ja=Xs(Io("Inject",s=>({token:s})),-1),Js=Xs(Io("Optional"),8),Md=Xs(Io("Self"),2),eo=Xs(Io("SkipSelf"),4);let bc;function za(s){var o;return(null===(o=function wc(){if(void 0===bc&&(bc=null,Zt.trustedTypes))try{bc=Zt.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return bc}())||void 0===o?void 0:o.createHTML(s))||s}class li{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class dm extends li{getTypeName(){return"HTML"}}class Tl extends li{getTypeName(){return"Style"}}class Rd extends li{getTypeName(){return"Script"}}class Ic extends li{getTypeName(){return"URL"}}class _f extends li{getTypeName(){return"ResourceURL"}}function fs(s){return s instanceof li?s.changingThisBreaksApplicationSecurity:s}function w(s,o){const l=I(s);if(null!=l&&l!==o){if("ResourceURL"===l&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${l} (see https://g.co/ng/security#xss)`)}return l===o}function I(s){return s instanceof li&&s.getTypeName()||null}function O(s){return new dm(s)}function L(s){return new Tl(s)}function te(s){return new Rd(s)}function ce(s){return new Ic(s)}function Ie(s){return new _f(s)}class rt{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const l=(new window.DOMParser).parseFromString(za(o),"text/html").body;return null===l?this.inertDocumentHelper.getInertBodyElement(o):(l.removeChild(l.firstChild),l)}catch(l){return null}}}class _t{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const l=this.inertDocument.createElement("html");this.inertDocument.appendChild(l);const d=this.inertDocument.createElement("body");l.appendChild(d)}}getInertBodyElement(o){const l=this.inertDocument.createElement("template");if("content"in l)return l.innerHTML=za(o),l;const d=this.inertDocument.createElement("body");return d.innerHTML=za(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(o){const l=o.attributes;for(let f=l.length-1;0<f;f--){const v=l.item(f).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&o.removeAttribute(v)}let d=o.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const $t=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,$r=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function no(s){return(s=String(s)).match($t)||s.match($r)?s:"unsafe:"+s}function Ci(s){const o={};for(const l of s.split(","))o[l]=!0;return o}function ci(...s){const o={};for(const l of s)for(const d in l)l.hasOwnProperty(d)&&(o[d]=!0);return o}const ps=Ci("area,br,col,hr,img,wbr"),oa=Ci("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),aa=Ci("rp,rt"),yf=ci(ps,ci(oa,Ci("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ci(aa,Ci("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ci(aa,oa)),vu=Ci("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),vf=Ci("srcset"),bf=ci(vu,vf,Ci("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ci("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),qa=Ci("script,style,template");class wf{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let l=o.firstChild,d=!0;for(;l;)if(l.nodeType===Node.ELEMENT_NODE?d=this.startElement(l):l.nodeType===Node.TEXT_NODE?this.chars(l.nodeValue):this.sanitizedSomething=!0,d&&l.firstChild)l=l.firstChild;else for(;l;){l.nodeType===Node.ELEMENT_NODE&&this.endElement(l);let f=this.checkClobberedElement(l,l.nextSibling);if(f){l=f;break}l=this.checkClobberedElement(l,l.parentNode)}return this.buf.join("")}startElement(o){const l=o.nodeName.toLowerCase();if(!yf.hasOwnProperty(l))return this.sanitizedSomething=!0,!qa.hasOwnProperty(l);this.buf.push("<"),this.buf.push(l);const d=o.attributes;for(let f=0;f<d.length;f++){const g=d.item(f),v=g.name,C=v.toLowerCase();if(!bf.hasOwnProperty(C)){this.sanitizedSomething=!0;continue}let T=g.value;vu[C]&&(T=no(T)),vf[C]&&(s=T,T=(s=String(s)).split(",").map(o=>no(o.trim())).join(", ")),this.buf.push(" ",v,'="',Df(T),'"')}var s;return this.buf.push(">"),!0}endElement(o){const l=o.nodeName.toLowerCase();yf.hasOwnProperty(l)&&!ps.hasOwnProperty(l)&&(this.buf.push("</"),this.buf.push(l),this.buf.push(">"))}chars(o){this.buf.push(Df(o))}checkClobberedElement(o,l){if(l&&(o.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return l}}const fm=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Cf=/([^\#-~ |!])/g;function Df(s){return s.replace(/&/g,"&amp;").replace(fm,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(Cf,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Od;function pm(s,o){let l=null;try{Od=Od||function st(s){const o=new _t(s);return function Lt(){try{return!!(new window.DOMParser).parseFromString(za(""),"text/html")}catch(s){return!1}}()?new rt(o):o}(s);let d=o?String(o):"";l=Od.getInertBodyElement(d);let f=5,g=d;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,d=g,g=l.innerHTML,l=Od.getInertBodyElement(d)}while(d!==g);return za((new wf).sanitizeChildren(Eu(l)||l))}finally{if(l){const d=Eu(l)||l;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function Eu(s){return"content"in s&&function ms(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var pr=(()=>((pr=pr||{})[pr.NONE=0]="NONE",pr[pr.HTML=1]="HTML",pr[pr.STYLE=2]="STYLE",pr[pr.SCRIPT=3]="SCRIPT",pr[pr.URL=4]="URL",pr[pr.RESOURCE_URL=5]="RESOURCE_URL",pr))();function Ac(s){const o=function Mc(){const s=Ue();return s&&s[12]}();return o?o.sanitize(pr.URL,s)||"":w(s,"URL")?fs(s):no(ye(s))}const ym="__ngContext__";function Di(s,o){s[ym]=o}function Nd(s){const o=function bu(s){return s[ym]||null}(s);return o?Array.isArray(o)?o:o.lView:null}function Rf(s){return s.ngOriginalError}function j_(s,...o){s.error(...o)}class Bd{constructor(){this._console=console}handleError(o){const l=this._findOriginalError(o),d=function U_(s){return s&&s.ngErrorLogger||j_}(o);d(this._console,"ERROR",o),l&&d(this._console,"ORIGINAL ERROR",l)}_findOriginalError(o){let l=o&&Rf(o);for(;l&&Rf(l);)l=Rf(l);return l||null}}const bm=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Zt))();function Oi(s){return s instanceof Function?s():s}var Mo=(()=>((Mo=Mo||{})[Mo.Important=1]="Important",Mo[Mo.DashCase=2]="DashCase",Mo))();function Nf(s,o){return undefined(s,o)}function Su(s){const o=s[3];return jt(o)?o[3]:o}function Au(s){return jd(s[13])}function Ii(s){return jd(s[4])}function jd(s){for(;null!==s&&!jt(s);)s=s[4];return s}function Oc(s,o,l,d,f){if(null!=d){let g,v=!1;jt(d)?g=d:Ye(d)&&(v=!0,d=d[0]);const C=Dn(d);0===s&&null!==l?null==f?tt(o,l,C):Ve(o,l,C,f||null,!0):1===s&&null!==l?Ve(o,l,C,f||null,!0):2===s?function jf(s,o,l){const d=Yn(s,o);d&&function ht(s,o,l,d){Vn(s)?s.removeChild(o,l,d):o.removeChild(l)}(s,d,o,l)}(o,C,v):3===s&&o.destroyNode(C),null!=g&&function kI(s,o,l,d,f){const g=l[7];g!==Dn(l)&&Oc(o,s,d,g,f);for(let C=10;C<l.length;C++){const T=l[C];Al(T[1],T,s,o,d,g)}}(o,s,g,l,f)}}function Ti(s,o,l){if(Vn(s))return s.createElement(o,l);{const d=null!==l?function iu(s){const o=s.toLowerCase();return"svg"===o?"http://www.w3.org/2000/svg":"math"===o?"http://www.w3.org/1998/MathML/":null}(l):null;return null===d?s.createElement(o):s.createElementNS(d,o)}}function y(s,o){const l=s[9],d=l.indexOf(o),f=o[3];1024&o[2]&&(o[2]&=-1025,gi(f,-1)),l.splice(d,1)}function p(s,o){if(s.length<=10)return;const l=10+o,d=s[l];if(d){const f=d[17];null!==f&&f!==s&&y(f,d),o>0&&(s[l-1][4]=d[4]);const g=cc(s,10+o);!function q_(s,o){Al(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(d[1],d);const v=g[19];null!==v&&v.detachView(g[1]),d[3]=null,d[4]=null,d[2]&=-129}return d}function m(s,o){if(!(256&o[2])){const l=o[11];Vn(l)&&l.destroyNode&&Al(s,o,l,3,null,null),function Bf(s){let o=s[13];if(!o)return E(s[1],s);for(;o;){let l=null;if(Ye(o))l=o[13];else{const d=o[10];d&&(l=d)}if(!l){for(;o&&!o[4]&&o!==s;)Ye(o)&&E(o[1],o),o=o[3];null===o&&(o=s),Ye(o)&&E(o[1],o),l=o&&o[4]}o=l}}(o)}}function E(s,o){if(!(256&o[2])){o[2]&=-129,o[2]|=256,function P(s,o){let l;if(null!=s&&null!=(l=s.destroyHooks))for(let d=0;d<l.length;d+=2){const f=o[l[d]];if(!(f instanceof ic)){const g=l[d+1];if(Array.isArray(g))for(let v=0;v<g.length;v+=2){const C=f[g[v]],T=g[v+1];try{T.call(C)}finally{}}else try{g.call(f)}finally{}}}}(s,o),function S(s,o){const l=s.cleanup,d=o[7];let f=-1;if(null!==l)for(let g=0;g<l.length-1;g+=2)if("string"==typeof l[g]){const v=l[g+1],C="function"==typeof v?v(o):Dn(o[v]),T=d[f=l[g+2]],R=l[g+3];"boolean"==typeof R?C.removeEventListener(l[g],T,R):R>=0?d[f=R]():d[f=-R].unsubscribe(),g+=2}else{const v=d[f=l[g+1]];l[g].call(v)}if(null!==d){for(let g=f+1;g<d.length;g++)d[g]();o[7]=null}}(s,o),1===o[1].type&&Vn(o[11])&&o[11].destroy();const l=o[17];if(null!==l&&jt(o[3])){l!==o[3]&&y(l,o);const d=o[19];null!==d&&d.detachView(s)}}}function X(s,o,l){return function ue(s,o,l){let d=o;for(;null!==d&&40&d.type;)d=(o=d).parent;if(null===d)return l[0];if(2&d.flags){const f=s.data[d.directiveStart].encapsulation;if(f===Nt.None||f===Nt.Emulated)return null}return Ar(d,l)}(s,o.parent,l)}function Ve(s,o,l,d,f){Vn(s)?s.insertBefore(o,l,d,f):o.insertBefore(l,d,f)}function tt(s,o,l){Vn(s)?s.appendChild(o,l):o.appendChild(l)}function dt(s,o,l,d,f){null!==d?Ve(s,o,l,d,f):tt(s,o,l)}function Yn(s,o){return Vn(s)?s.parentNode(o):o.parentNode}function Mu(s,o,l){return $d(s,o,l)}let $d=function zd(s,o,l){return 40&s.type?Ar(s,l):null};function Wa(s,o,l,d){const f=X(s,d,o),g=o[11],C=Mu(d.parent||o[6],d,o);if(null!=f)if(Array.isArray(l))for(let T=0;T<l.length;T++)dt(g,f,l[T],C,!1);else dt(g,f,l,C,!1)}function xu(s,o){if(null!==o){const l=o.type;if(3&l)return Ar(o,s);if(4&l)return Nc(-1,s[o.index]);if(8&l){const d=o.child;if(null!==d)return xu(s,d);{const f=s[o.index];return jt(f)?Nc(-1,f):Dn(f)}}if(32&l)return Nf(o,s)()||Dn(s[o.index]);{const d=Uf(s,o);return null!==d?Array.isArray(d)?d[0]:xu(Su(s[16]),d):xu(s,o.next)}}return null}function Uf(s,o){return null!==o?s[16][6].projection[o.projection]:null}function Nc(s,o){const l=10+s+1;if(l<o.length){const d=o[l],f=d[1].firstChild;if(null!==f)return xu(d,f)}return o[7]}function xm(s,o,l,d,f,g,v){for(;null!=l;){const C=d[l.index],T=l.type;if(v&&0===o&&(C&&Di(Dn(C),d),l.flags|=4),64!=(64&l.flags))if(8&T)xm(s,o,l.child,d,f,g,!1),Oc(o,s,f,C,g);else if(32&T){const R=Nf(l,d);let k;for(;k=R();)Oc(o,s,f,k,g);Oc(o,s,f,C,g)}else 16&T?db(s,o,d,l,f,g):Oc(o,s,f,C,g);l=v?l.projectionNext:l.next}}function Al(s,o,l,d,f,g){xm(l,d,s.firstChild,o,f,g,!1)}function db(s,o,l,d,f,g){const v=l[16],T=v[6].projection[d.projection];if(Array.isArray(T))for(let R=0;R<T.length;R++)Oc(o,s,f,T[R],g);else xm(s,o,T,v[3],f,g,!0)}function hb(s,o,l){Vn(s)?s.setAttribute(o,"style",l):o.style.cssText=l}function Ru(s,o,l){Vn(s)?""===l?s.removeAttribute(o,"class"):s.setAttribute(o,"class",l):o.className=l}function NI(s,o,l){let d=s.length;for(;;){const f=s.indexOf(o,l);if(-1===f)return f;if(0===f||s.charCodeAt(f-1)<=32){const g=o.length;if(f+g===d||s.charCodeAt(f+g)<=32)return f}l=f+1}}const Z_="ng-template";function Y_(s,o,l){let d=0;for(;d<s.length;){let f=s[d++];if(l&&"class"===f){if(f=s[d],-1!==NI(f.toLowerCase(),o,0))return!0}else if(1===f){for(;d<s.length&&"string"==typeof(f=s[d++]);)if(f.toLowerCase()===o)return!0;return!1}}return!1}function ki(s){return 4===s.type&&s.value!==Z_}function fk(s,o,l){return o===(4!==s.type||l?s.value:Z_)}function qd(s,o,l){let d=4;const f=s.attrs||[],g=function Om(s){for(let o=0;o<s.length;o++)if(xr(s[o]))return o;return s.length}(f);let v=!1;for(let C=0;C<o.length;C++){const T=o[C];if("number"!=typeof T){if(!v)if(4&d){if(d=2|1&d,""!==T&&!fk(s,T,l)||""===T&&1===o.length){if(Ro(d))return!1;v=!0}}else{const R=8&d?T:o[++C];if(8&d&&null!==s.attrs){if(!Y_(s.attrs,R,l)){if(Ro(d))return!1;v=!0}continue}const B=fb(8&d?"class":T,f,ki(s),l);if(-1===B){if(Ro(d))return!1;v=!0;continue}if(""!==R){let J;J=B>g?"":f[B+1].toLowerCase();const he=8&d?J:null;if(he&&-1!==NI(he,R,0)||2&d&&R!==J){if(Ro(d))return!1;v=!0}}}}else{if(!v&&!Ro(d)&&!Ro(T))return!1;if(v&&Ro(T))continue;v=!1,d=T|1&d}}return Ro(d)||v}function Ro(s){return 0==(1&s)}function fb(s,o,l,d){if(null===o)return-1;let f=0;if(d||!l){let g=!1;for(;f<o.length;){const v=o[f];if(v===s)return f;if(3===v||6===v)g=!0;else{if(1===v||2===v){let C=o[++f];for(;"string"==typeof C;)C=o[++f];continue}if(4===v)break;if(0===v){f+=4;continue}}f+=g?1:2}return-1}return function km(s,o){let l=s.indexOf(4);if(l>-1)for(l++;l<s.length;){const d=s[l];if("number"==typeof d)return-1;if(d===o)return l;l++}return-1}(o,s)}function Wd(s,o,l=!1){for(let d=0;d<o.length;d++)if(qd(s,o[d],l))return!0;return!1}function Ou(s,o){e:for(let l=0;l<o.length;l++){const d=o[l];if(s.length===d.length){for(let f=0;f<s.length;f++)if(s[f]!==d[f])continue e;return!0}}return!1}function pb(s,o){return s?":not("+o.trim()+")":o}function pk(s){let o=s[0],l=1,d=2,f="",g=!1;for(;l<s.length;){let v=s[l];if("string"==typeof v)if(2&d){const C=s[++l];f+="["+v+(C.length>0?'="'+C+'"':"")+"]"}else 8&d?f+="."+v:4&d&&(f+=" "+v);else""!==f&&!Ro(v)&&(o+=pb(g,f),f=""),d=v,g=g||!Ro(d);l++}return""!==f&&(o+=pb(g,f)),o}const rn={};function Pm(s){Fc(un(),Ue(),Vr()+s,yo())}function Fc(s,o,l,d){if(!d)if(3==(3&o[2])){const g=s.preOrderCheckHooks;null!==g&&nc(o,g,l)}else{const g=s.preOrderHooks;null!==g&&Yo(o,g,0,l)}_i(l)}function X_(s,o){return s<<17|o<<2}function Ka(s){return s>>17&32767}function mb(s){return 2|s}function Ml(s){return(131068&s)>>2}function J_(s,o){return-131069&s|o<<2}function _b(s){return 1|s}function GI(s,o){const l=s.contentQueries;if(null!==l)for(let d=0;d<l.length;d+=2){const f=l[d],g=l[d+1];if(-1!==g){const v=s.data[g];Ko(f),v.contentQueries(2,o[g],g)}}}function Fm(s,o,l,d,f,g,v,C,T,R){const k=o.blueprint.slice();return k[0]=f,k[2]=140|d,Da(k),k[3]=k[15]=s,k[8]=l,k[10]=v||s&&s[10],k[11]=C||s&&s[11],k[12]=T||s&&s[12]||null,k[9]=R||s&&s[9]||null,k[6]=g,k[16]=2==o.type?s[16]:k,k}function Hf(s,o,l,d,f){let g=s.data[o];if(null===g)g=function Sb(s,o,l,d,f){const g=al(),v=Yl(),T=s.data[o]=function xk(s,o,l,d,f,g){return{type:l,index:d,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?g:g&&g.parent,l,o,d,f);return null===s.firstChild&&(s.firstChild=T),null!==g&&(v?null==g.child&&null!==T.parent&&(g.child=T):null===g.next&&(g.next=T)),T}(s,o,l,d,f),function rf(){return Ot.lFrame.inI18n}()&&(g.flags|=64);else if(64&g.type){g.type=l,g.value=d,g.attrs=f;const v=function Wo(){const s=Ot.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();g.injectorIndex=null===v?-1:v.injectorIndex}return os(g,!0),g}function zf(s,o,l,d){if(0===l)return-1;const f=o.length;for(let g=0;g<l;g++)o.push(d),s.blueprint.push(d),s.data.push(null);return f}function Lm(s,o,l){Eo(o);try{const d=s.viewQuery;null!==d&&iy(1,d,l);const f=s.template;null!==f&&qI(s,o,f,1,l),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&GI(s,o),s.staticViewQueries&&iy(2,s.viewQuery,l);const g=s.components;null!==g&&function Sk(s,o){for(let l=0;l<o.length;l++)Kk(s,o[l])}(o,g)}catch(d){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),d}finally{o[2]&=-5,Zo()}}function $f(s,o,l,d){const f=o[2];if(256==(256&f))return;Eo(o);const g=yo();try{Da(o),function Aa(s){return Ot.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==l&&qI(s,o,l,2,d);const v=3==(3&f);if(!g)if(v){const R=s.preOrderCheckHooks;null!==R&&nc(o,R,null)}else{const R=s.preOrderHooks;null!==R&&Yo(o,R,0,null),rc(o,0)}if(function qk(s){for(let o=Au(s);null!==o;o=Ii(o)){if(!o[2])continue;const l=o[9];for(let d=0;d<l.length;d++){const f=l[d],g=f[3];0==(1024&f[2])&&gi(g,1),f[2]|=1024}}}(o),function Gk(s){for(let o=Au(s);null!==o;o=Ii(o))for(let l=10;l<o.length;l++){const d=o[l],f=d[1];ss(d)&&$f(f,d,f.template,d[8])}}(o),null!==s.contentQueries&&GI(s,o),!g)if(v){const R=s.contentCheckHooks;null!==R&&nc(o,R)}else{const R=s.contentHooks;null!==R&&Yo(o,R,1),rc(o,1)}!function Ik(s,o){const l=s.hostBindingOpCodes;if(null!==l)try{for(let d=0;d<l.length;d++){const f=l[d];if(f<0)_i(~f);else{const g=f,v=l[++d],C=l[++d];Ql(v,g),C(2,o[g])}}}finally{_i(-1)}}(s,o);const C=s.components;null!==C&&function Tk(s,o){for(let l=0;l<o.length;l++)Wk(s,o[l])}(o,C);const T=s.viewQuery;if(null!==T&&iy(2,T,d),!g)if(v){const R=s.viewCheckHooks;null!==R&&nc(o,R)}else{const R=s.viewHooks;null!==R&&Yo(o,R,2),rc(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),g||(o[2]&=-73),1024&o[2]&&(o[2]&=-1025,gi(o[3],-1))}finally{Zo()}}function Ak(s,o,l,d){const f=o[10],g=!yo(),v=Go(o);try{g&&!v&&f.begin&&f.begin(),v&&Lm(s,o,d),$f(s,o,l,d)}finally{g&&!v&&f.end&&f.end()}}function qI(s,o,l,d,f){const g=Vr(),v=2&d;try{_i(-1),v&&o.length>20&&Fc(s,o,20,yo()),l(d,f)}finally{_i(g)}}function Ab(s,o,l){if(or(o)){const f=o.directiveEnd;for(let g=o.directiveStart;g<f;g++){const v=s.data[g];v.contentQueries&&v.contentQueries(1,l[g],g)}}}function Mb(s,o,l){!Ia()||(function Lk(s,o,l,d){const f=l.directiveStart,g=l.directiveEnd;s.firstCreatePass||Co(l,o),Di(d,o);const v=l.initialInputs;for(let C=f;C<g;C++){const T=s.data[C],R=Jt(T);R&&Hk(o,l,T);const k=gn(o,s,C,l);Di(k,o),null!==v&&zk(0,C-f,k,T,0,v),R&&(xi(l.index,o)[8]=k)}}(s,o,l,Ar(l,o)),128==(128&l.flags)&&function Bk(s,o,l){const d=l.directiveStart,f=l.directiveEnd,v=l.index,C=function ll(){return Ot.lFrame.currentDirectiveIndex}();try{_i(v);for(let T=d;T<f;T++){const R=s.data[T],k=o[T];Xl(T),(null!==R.hostBindings||0!==R.hostVars||null!==R.hostAttrs)&&eT(R,k)}}finally{_i(-1),Xl(C)}}(s,o,l))}function xb(s,o,l=Ar){const d=o.localNames;if(null!==d){let f=o.index+1;for(let g=0;g<d.length;g+=2){const v=d[g+1],C=-1===v?l(o,s):s[v];s[f++]=C}}}function WI(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=ny(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function ny(s,o,l,d,f,g,v,C,T,R){const k=20+d,B=k+f,J=function Mk(s,o){const l=[];for(let d=0;d<o;d++)l.push(d<s?null:rn);return l}(k,B),he="function"==typeof R?R():R;return J[1]={type:s,blueprint:J,template:l,queries:null,viewQuery:C,declTNode:o,data:J.slice().fill(null,k),bindingStartIndex:k,expandoStartIndex:B,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:T,consts:he,incompleteFirstPass:!1}}function YI(s,o,l,d){const f=io(o);null===l?f.push(d):(f.push(l),s.firstCreatePass&&so(s).push(d,f.length-1))}function QI(s,o,l){for(let d in s)if(s.hasOwnProperty(d)){const f=s[d];(l=null===l?{}:l).hasOwnProperty(d)?l[d].push(o,f):l[d]=[o,f]}return l}function Oo(s,o,l,d,f,g,v,C){const T=Ar(o,l);let k,R=o.inputs;!C&&null!=R&&(k=R[d])?(Gf(s,l,k,d,f),Cn(o)&&function kk(s,o){const l=xi(o,s);16&l[2]||(l[2]|=64)}(l,o.index)):3&o.type&&(d=function Ok(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(d),f=null!=v?v(f,o.value||"",d):f,Vn(g)?g.setProperty(T,d,f):sc(d)||(T.setProperty?T.setProperty(d,f):T[d]=f))}function Rb(s,o,l,d){let f=!1;if(Ia()){const g=function Vk(s,o,l){const d=s.directiveRegistry;let f=null;if(d)for(let g=0;g<d.length;g++){const v=d[g];Wd(l,v.selectors,!1)&&(f||(f=[]),Ur(Co(l,o),s,v.type),Jt(v)?(tT(s,l),f.unshift(v)):f.push(v))}return f}(s,o,l),v=null===d?null:{"":-1};if(null!==g){f=!0,nT(l,s.data.length,g.length);for(let k=0;k<g.length;k++){const B=g[k];B.providersResolver&&B.providersResolver(B)}let C=!1,T=!1,R=zf(s,o,g.length,null);for(let k=0;k<g.length;k++){const B=g[k];l.mergedAttrs=fu(l.mergedAttrs,B.hostAttrs),rT(s,l,o,R,B),jk(R,B,v),null!==B.contentQueries&&(l.flags|=8),(null!==B.hostBindings||null!==B.hostAttrs||0!==B.hostVars)&&(l.flags|=128);const J=B.type.prototype;!C&&(J.ngOnChanges||J.ngOnInit||J.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(l.index),C=!0),!T&&(J.ngOnChanges||J.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(l.index),T=!0),R++}!function Rk(s,o){const d=o.directiveEnd,f=s.data,g=o.attrs,v=[];let C=null,T=null;for(let R=o.directiveStart;R<d;R++){const k=f[R],B=k.inputs,J=null===g||ki(o)?null:$k(B,g);v.push(J),C=QI(B,R,C),T=QI(k.outputs,R,T)}null!==C&&(C.hasOwnProperty("class")&&(o.flags|=16),C.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=v,o.inputs=C,o.outputs=T}(s,l)}v&&function Uk(s,o,l){if(o){const d=s.localNames=[];for(let f=0;f<o.length;f+=2){const g=l[o[f+1]];if(null==g)throw new Oe(-301,!1);d.push(o[f],g)}}}(l,d,v)}return l.mergedAttrs=fu(l.mergedAttrs,l.attrs),f}function JI(s,o,l,d,f,g){const v=g.hostBindings;if(v){let C=s.hostBindingOpCodes;null===C&&(C=s.hostBindingOpCodes=[]);const T=~o.index;(function Fk(s){let o=s.length;for(;o>0;){const l=s[--o];if("number"==typeof l&&l<0)return l}return 0})(C)!=T&&C.push(T),C.push(d,f,v)}}function eT(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function tT(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function jk(s,o,l){if(l){if(o.exportAs)for(let d=0;d<o.exportAs.length;d++)l[o.exportAs[d]]=s;Jt(o)&&(l[""]=s)}}function nT(s,o,l){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+l,s.providerIndexes=o}function rT(s,o,l,d,f){s.data[d]=f;const g=f.factory||(f.factory=$o(f.type)),v=new ic(g,Jt(f),null);s.blueprint[d]=v,l[d]=v,JI(s,o,0,d,zf(s,l,f.hostVars,rn),f)}function Hk(s,o,l){const d=Ar(o,s),f=WI(l),g=s[10],v=ry(s,Fm(s,f,null,l.onPush?64:16,d,o,g,g.createRenderer(d,l),null,null));s[o.index]=v}function xl(s,o,l,d,f,g){const v=Ar(s,o);!function Ob(s,o,l,d,f,g,v){if(null==g)Vn(s)?s.removeAttribute(o,f,l):o.removeAttribute(f);else{const C=null==v?ye(g):v(g,d||"",f);Vn(s)?s.setAttribute(o,f,C,l):l?o.setAttributeNS(l,f,C):o.setAttribute(f,C)}}(o[11],v,g,s.value,l,d,f)}function zk(s,o,l,d,f,g){const v=g[o];if(null!==v){const C=d.setInput;for(let T=0;T<v.length;){const R=v[T++],k=v[T++],B=v[T++];null!==C?d.setInput(l,B,R,k):l[k]=B}}}function $k(s,o){let l=null,d=0;for(;d<o.length;){const f=o[d];if(0!==f)if(5!==f){if("number"==typeof f)break;s.hasOwnProperty(f)&&(null===l&&(l=[]),l.push(f,s[f],o[d+1])),d+=2}else d+=2;else d+=4}return l}function iT(s,o,l,d){return new Array(s,!0,!1,o,null,0,d,l,null,null)}function Wk(s,o){const l=xi(o,s);if(ss(l)){const d=l[1];80&l[2]?$f(d,l,d.template,l[8]):l[5]>0&&kb(l)}}function kb(s){for(let d=Au(s);null!==d;d=Ii(d))for(let f=10;f<d.length;f++){const g=d[f];if(1024&g[2]){const v=g[1];$f(v,g,v.template,g[8])}else g[5]>0&&kb(g)}const l=s[1].components;if(null!==l)for(let d=0;d<l.length;d++){const f=xi(l[d],s);ss(f)&&f[5]>0&&kb(f)}}function Kk(s,o){const l=xi(o,s),d=l[1];(function Zk(s,o){for(let l=o.length;l<s.blueprint.length;l++)o.push(s.blueprint[l])})(d,l),Lm(d,l,l[8])}function ry(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function Pb(s){for(;s;){s[2]|=64;const o=Su(s);if(ii(s)&&!o)return s;s=o}return null}function Fb(s,o,l){const d=o[10];d.begin&&d.begin();try{$f(s,o,s.template,l)}catch(f){throw Vb(o,f),f}finally{d.end&&d.end()}}function sT(s){!function Nb(s){for(let o=0;o<s.components.length;o++){const l=s.components[o],d=Nd(l),f=d[1];Ak(f,d,f.template,l)}}(s[8])}function iy(s,o,l){Ko(0),o(s,l)}const Lb=(()=>Promise.resolve(null))();function io(s){return s[7]||(s[7]=[])}function so(s){return s.cleanup||(s.cleanup=[])}function Bb(s,o,l){return(null===s||Jt(s))&&(l=function nf(s){for(;Array.isArray(s);){if("object"==typeof s[1])return s;s=s[0]}return null}(l[o.index])),l[11]}function Vb(s,o){const l=s[9],d=l?l.get(Bd,null):null;d&&d.handleError(o)}function Gf(s,o,l,d,f){for(let g=0;g<l.length;){const v=l[g++],C=l[g++],T=o[v],R=s.data[v];null!==R.setInput?R.setInput(T,f,d,C):T[C]=f}}function Qn(s,o,l){const d=Ca(o,s);!function kc(s,o,l){Vn(s)?s.setValue(o,l):o.textContent=l}(s[11],d,l)}function ko(s,o,l){let d=l?s.styles:null,f=l?s.classes:null,g=0;if(null!==o)for(let v=0;v<o.length;v++){const C=o[v];"number"==typeof C?g=C:1==g?f=K(f,C):2==g&&(d=K(d,C+": "+o[++v]+";"))}l?s.styles=d:s.stylesWithoutHost=d,l?s.classes=f:s.classesWithoutHost=f}const jb=new Zn("INJECTOR",-1);class sy{get(o,l=Hr){if(l===Hr){const d=new Error(`NullInjectorError: No provider for ${ne(o)}!`);throw d.name="NullInjectorError",d}return l}}const Hb=new Zn("Set Injector scope."),qf={},Jk={};let oy;function lT(){return void 0===oy&&(oy=new sy),oy}function cT(s,o=null,l=null,d){const f=uT(s,o,l,d);return f._resolveInjectorDefTypes(),f}function uT(s,o=null,l=null,d){return new eP(s,l,o||lT(),d)}class eP{constructor(o,l,d,f=null){this.parent=d,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const g=[];l&&hs(l,C=>this.processProvider(C,o,l)),hs([o],C=>this.processInjectorType(C,[],g)),this.records.set(jb,Kd(void 0,this));const v=this.records.get(Hb);this.scope=null!=v?v.value:null,this.source=f||("object"==typeof o?null:ne(o))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(o=>o.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(o,l=Hr,d=It.Default){this.assertNotDestroyed();const f=fn(this),g=rr(void 0);try{if(!(d&It.SkipSelf)){let C=this.records.get(o);if(void 0===C){const T=function qb(s){return"function"==typeof s||"object"==typeof s&&s instanceof Zn}(o)&&zt(o);C=T&&this.injectableDefInScope(T)?Kd(zb(o),qf):null,this.records.set(o,C)}if(null!=C)return this.hydrate(o,C)}return(d&It.Self?lT():this.parent).get(o,l=d&It.Optional&&l===Hr?null:l)}catch(v){if("NullInjectorError"===v.name){if((v[bl]=v[bl]||[]).unshift(ne(o)),f)throw v;return function Va(s,o,l,d){const f=s[bl];throw o[Ui]&&f.unshift(o[Ui]),s.message=function Ua(s,o,l,d=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.substr(2):s;let f=ne(o);if(Array.isArray(o))f=o.map(ne).join(" -> ");else if("object"==typeof o){let g=[];for(let v in o)if(o.hasOwnProperty(v)){let C=o[v];g.push(v+":"+("string"==typeof C?JSON.stringify(C):ne(C)))}f=`{${g.join(", ")}}`}return`${l}${d?"("+d+")":""}[${f}]: ${s.replace(hc,"\n  ")}`}("\n"+s.message,f,l,d),s.ngTokenPath=f,s[bl]=null,s}(v,o,"R3InjectorError",this.source)}throw v}finally{rr(g),fn(f)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(o=>this.get(o))}toString(){const o=[];return this.records.forEach((d,f)=>o.push(ne(f))),`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Oe(205,!1)}processInjectorType(o,l,d){if(!(o=Q(o)))return!1;let f=ni(o);const g=null==f&&o.ngModule||void 0,v=void 0===g?o:g,C=-1!==d.indexOf(v);if(void 0!==g&&(f=ni(g)),null==f)return!1;if(null!=f.imports&&!C){let k;d.push(v);try{hs(f.imports,B=>{this.processInjectorType(B,l,d)&&(void 0===k&&(k=[]),k.push(B))})}finally{}if(void 0!==k)for(let B=0;B<k.length;B++){const{ngModule:J,providers:he}=k[B];hs(he,ke=>this.processProvider(ke,J,he||Pt))}}this.injectorDefTypes.add(v);const T=$o(v)||(()=>new v);this.records.set(v,Kd(T,qf));const R=f.providers;if(null!=R&&!C){const k=o;hs(R,B=>this.processProvider(B,k,R))}return void 0!==g&&void 0!==o.providers}processProvider(o,l,d){let f=Zd(o=Q(o))?o:Q(o&&o.provide);const g=function nP(s,o,l){return $b(s)?Kd(void 0,s.useValue):Kd(ay(s),qf)}(o);if(Zd(o)||!0!==o.multi)this.records.get(f);else{let v=this.records.get(f);v||(v=Kd(void 0,qf,!0),v.factory=()=>Ba(v.multi),this.records.set(f,v)),f=o,v.multi.push(o)}this.records.set(f,g)}hydrate(o,l){return l.value===qf&&(l.value=Jk,l.value=l.factory()),"object"==typeof l.value&&l.value&&function Gb(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(l.value)&&this.onDestroy.add(l.value),l.value}injectableDefInScope(o){if(!o.providedIn)return!1;const l=Q(o.providedIn);return"string"==typeof l?"any"===l||l===this.scope:this.injectorDefTypes.has(l)}}function zb(s){const o=zt(s),l=null!==o?o.factory:$o(s);if(null!==l)return l;if(s instanceof Zn)throw new Oe(204,!1);if(s instanceof Function)return function tP(s){const o=s.length;if(o>0)throw ta(o,"?"),new Oe(204,!1);const l=function Gn(s){const o=s&&(s[nr]||s[Mi]);if(o){const l=function gr(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${l}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${l}" class.`),o}return null}(s);return null!==l?()=>l.factory(s):()=>new s}(s);throw new Oe(204,!1)}function ay(s,o,l){let d;if(Zd(s)){const f=Q(s);return $o(f)||zb(f)}if($b(s))d=()=>Q(s.useValue);else if(function hT(s){return!(!s||!s.useFactory)}(s))d=()=>s.useFactory(...Ba(s.deps||[]));else if(function dT(s){return!(!s||!s.useExisting)}(s))d=()=>zr(Q(s.useExisting));else{const f=Q(s&&(s.useClass||s.provide));if(!function pT(s){return!!s.deps}(s))return $o(f)||zb(f);d=()=>new f(...Ba(s.deps))}return d}function Kd(s,o,l=!1){return{factory:s,value:o,multi:l?[]:void 0}}function $b(s){return null!==s&&"object"==typeof s&&La in s}function Zd(s){return"function"==typeof s}let la=(()=>{class s{static create(l,d){var f;if(Array.isArray(l))return cT({name:""},d,l,"");{const g=null!==(f=l.name)&&void 0!==f?f:"";return cT({name:g},l.parent,l.providers,g)}}}return s.THROW_IF_NOT_FOUND=Hr,s.NULL=new sy,s.\u0275prov=Ze({token:s,providedIn:"any",factory:()=>zr(jb)}),s.__NG_ELEMENT_ID__=-1,s})();function Xb(s,o){cl(Nd(s)[1],Un())}function t0(s){let o=function e0(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),l=!0;const d=[s];for(;o;){let f;if(Jt(s))f=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Oe(903,"");f=o.\u0275dir}if(f){if(l){d.push(f);const v=s;v.inputs=py(s.inputs),v.declaredInputs=py(s.declaredInputs),v.outputs=py(s.outputs);const C=f.hostBindings;C&&Kf(s,C);const T=f.viewQuery,R=f.contentQueries;if(T&&Rl(s,T),R&&my(s,R),W(s.inputs,f.inputs),W(s.declaredInputs,f.declaredInputs),W(s.outputs,f.outputs),Jt(f)&&f.data.animation){const k=s.data;k.animation=(k.animation||[]).concat(f.data.animation)}}const g=f.features;if(g)for(let v=0;v<g.length;v++){const C=g[v];C&&C.ngInherit&&C(s),C===t0&&(l=!1)}}o=Object.getPrototypeOf(o)}!function n0(s){let o=0,l=null;for(let d=s.length-1;d>=0;d--){const f=s[d];f.hostVars=o+=f.hostVars,f.hostAttrs=fu(f.hostAttrs,l=fu(l,f.hostAttrs))}}(d)}function py(s){return s===fi?{}:s===Pt?[]:s}function Rl(s,o){const l=s.viewQuery;s.viewQuery=l?(d,f)=>{o(d,f),l(d,f)}:o}function my(s,o){const l=s.contentQueries;s.contentQueries=l?(d,f,g)=>{o(d,f,g),l(d,f,g)}:o}function Kf(s,o){const l=s.hostBindings;s.hostBindings=l?(d,f)=>{o(d,f),l(d,f)}:o}let Lc=null;function Zf(){if(!Lc){const s=Zt.Symbol;if(s&&s.iterator)Lc=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let l=0;l<o.length;++l){const d=o[l];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(Lc=d)}}}return Lc}function Bm(s){return!!Vm(s)&&(Array.isArray(s)||!(s instanceof Map)&&Zf()in s)}function Vm(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Yr(s,o,l){return!Object.is(s[o],l)&&(s[o]=l,!0)}function Xd(s,o,l,d){const f=Ue();return Yr(f,Ma(),o)&&(un(),xl(jn(),f,s,o,l,d)),Xd}function m0(s,o,l,d,f,g,v,C){const T=Ue(),R=un(),k=s+20,B=R.firstCreatePass?function IT(s,o,l,d,f,g,v,C,T){const R=o.consts,k=Hf(o,s,4,v||null,Ss(R,C));Rb(o,l,k,Ss(R,T)),cl(o,k);const B=k.tViews=ny(2,k,d,f,g,o.directiveRegistry,o.pipeRegistry,null,o.schemas,R);return null!==o.queries&&(o.queries.template(o,k),B.queries=o.queries.embeddedTView(k)),k}(k,R,T,o,l,d,f,g,v):R.data[k];os(B,!1);const J=T[11].createComment("");Wa(R,T,J,B),Di(J,T),ry(T,T[k]=iT(J,T,J,B)),Er(B)&&Mb(R,T,B),null!=v&&xb(T,B,C)}function jc(s,o=It.Default){const l=Ue();return null===l?zr(s,o):us(Un(),l,Q(s),o)}function Jf(){throw new Error("invalid")}function ah(s,o,l){const d=Ue();return Yr(d,Ma(),o)&&Oo(un(),jn(),d,s,o,d[11],l,!1),ah}function jm(s,o,l,d,f){const v=f?"class":"style";Gf(s,l,o.inputs[v],v,d)}function Ya(s,o,l,d){const f=Ue(),g=un(),v=20+s,C=f[11],T=f[v]=Ti(C,o,function tc(){return Ot.lFrame.currentNamespace}()),R=g.firstCreatePass?function Ty(s,o,l,d,f,g,v){const C=o.consts,R=Hf(o,s,2,f,Ss(C,g));return Rb(o,l,R,Ss(C,v)),null!==R.attrs&&ko(R,R.attrs,!1),null!==R.mergedAttrs&&ko(R,R.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,R),R}(v,g,f,0,o,l,d):g.data[v];os(R,!0);const k=R.mergedAttrs;null!==k&&oi(C,T,k);const B=R.classes;null!==B&&Ru(C,T,B);const J=R.styles;return null!==J&&hb(C,T,J),64!=(64&R.flags)&&Wa(g,f,T,R),0===function qo(){return Ot.lFrame.elementDepthCount}()&&Di(T,f),function Zl(){Ot.lFrame.elementDepthCount++}(),Er(R)&&(Mb(g,f,R),Ab(g,R,f)),null!==d&&xb(f,R),Ya}function lh(){let s=Un();Yl()?_o():(s=s.parent,os(s,!1));const o=s;!function _d(){Ot.lFrame.elementDepthCount--}();const l=un();return l.firstCreatePass&&(cl(l,s),or(s)&&l.queries.elementEnd(s)),null!=o.classesWithoutHost&&function uf(s){return 0!=(16&s.flags)}(o)&&jm(l,o,Ue(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function df(s){return 0!=(32&s.flags)}(o)&&jm(l,o,Ue(),o.stylesWithoutHost,!1),lh}function ch(s,o,l,d){return Ya(s,o,l,d),lh(),ch}function ep(s,o,l){const d=Ue(),f=un(),g=s+20,v=f.firstCreatePass?function uh(s,o,l,d,f){const g=o.consts,v=Ss(g,d),C=Hf(o,s,8,"ng-container",v);return null!==v&&ko(C,v,!0),Rb(o,l,C,Ss(g,f)),null!==o.queries&&o.queries.elementStart(o,C),C}(g,f,d,o,l):f.data[g];os(v,!0);const C=d[g]=d[11].createComment("");return Wa(f,d,C,v),Di(C,d),Er(v)&&(Mb(f,d,v),Ab(f,v,d)),null!=l&&xb(d,v),ep}function ua(){let s=Un();const o=un();return Yl()?_o():(s=s.parent,os(s,!1)),o.firstCreatePass&&(cl(o,s),or(s)&&o.queries.elementEnd(s)),ua}function Hm(s,o,l){return ep(s,o,l),ua(),Hm}function Sy(){return Ue()}function Po(s){return!!s&&"function"==typeof s.then}function Hc(s){return!!s&&"function"==typeof s.subscribe}const dh=Hc;function Ay(s,o,l,d){const f=Ue(),g=un(),v=Un();return np(g,f,f[11],v,s,o,!!l,d),Ay}function tp(s,o){const l=Un(),d=Ue(),f=un();return np(f,d,Bb(vo(f.data),l,d),l,s,o,!1),tp}function np(s,o,l,d,f,g,v,C){const T=Er(d),k=s.firstCreatePass&&so(s),B=o[8],J=io(o);let he=!0;if(3&d.type||C){const ot=Ar(d,o),Et=C?C(ot):ot,ze=J.length,Mt=C?bn=>C(Dn(bn[d.index])):d.index;if(Vn(l)){let bn=null;if(!C&&T&&(bn=function I0(s,o,l,d){const f=s.cleanup;if(null!=f)for(let g=0;g<f.length-1;g+=2){const v=f[g];if(v===l&&f[g+1]===d){const C=o[7],T=f[g+2];return C.length>T?C[T]:null}"string"==typeof v&&(g+=2)}return null}(s,o,f,d.index)),null!==bn)(bn.__ngLastListenerFn__||bn).__ngNextListenerFn__=g,bn.__ngLastListenerFn__=g,he=!1;else{g=My(d,o,B,g,!1);const zn=l.listen(Et,f,g);J.push(g,zn),k&&k.push(f,Mt,ze,ze+1)}}else g=My(d,o,B,g,!0),Et.addEventListener(f,g,v),J.push(g),k&&k.push(f,Mt,ze,v)}else g=My(d,o,B,g,!1);const ke=d.outputs;let nt;if(he&&null!==ke&&(nt=ke[f])){const ot=nt.length;if(ot)for(let Et=0;Et<ot;Et+=2){const Bo=o[nt[Et]][nt[Et+1]].subscribe(g),wh=J.length;J.push(g,Bo),k&&k.push(f,d.index,wh,-(wh+1))}}}function rp(s,o,l,d){try{return!1!==l(d)}catch(f){return Vb(s,f),!1}}function My(s,o,l,d,f){return function g(v){if(v===Function)return d;const C=2&s.flags?xi(s.index,o):o;0==(32&o[2])&&Pb(C);let T=rp(o,0,d,v),R=g.__ngNextListenerFn__;for(;R;)T=rp(o,0,R,v)&&T,R=R.__ngNextListenerFn__;return f&&!1===T&&(v.preventDefault(),v.returnValue=!1),T}}function zm(s=1){return function xs(s){return(Ot.lFrame.contextLView=function Jl(s,o){for(;s>0;)o=o[15],s--;return o}(s,Ot.lFrame.contextLView))[8]}(s)}function VT(s,o){let l=null;const d=function FI(s){const o=s.attrs;if(null!=o){const l=o.indexOf(5);if(0==(1&l))return o[l+1]}return null}(s);for(let f=0;f<o.length;f++){const g=o[f];if("*"!==g){if(null===d?Wd(s,g,!0):Ou(d,g))return f}else l=f}return l}function T0(s){const o=Ue()[16][6];if(!o.projection){const d=o.projection=ta(s?s.length:1,null),f=d.slice();let g=o.child;for(;null!==g;){const v=s?VT(g,s):0;null!==v&&(f[v]?f[v].projectionNext=g:d[v]=g,f[v]=g),g=g.next}}}function S0(s,o=0,l){const d=Ue(),f=un(),g=Hf(f,20+s,16,null,l||null);null===g.projection&&(g.projection=o),_o(),64!=(64&g.flags)&&function K_(s,o,l){db(o[11],0,o,l,X(s,l,o),Mu(l.parent||o[6],l,o))}(f,d,g)}function ap(s,o,l,d,f){const g=s[l+1],v=null===o;let C=d?Ka(g):Ml(g),T=!1;for(;0!==C&&(!1===T||v);){const k=s[C+1];Gm(s[C],o)&&(T=!0,s[C+1]=d?_b(k):mb(k)),C=d?Ka(k):Ml(k)}T&&(s[l+1]=d?mb(g):_b(g))}function Gm(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&Pa(s,o)>=0}function fh(s,o,l){return ao(s,o,l,!1),fh}function ky(s,o){return ao(s,o,null,!0),ky}function ao(s,o,l,d){const f=Ue(),g=un(),v=function as(s){const o=Ot.lFrame,l=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,l}(2);g.firstUpdatePass&&function Km(s,o,l,d){const f=s.data;if(null===f[l+1]){const g=f[Vr()],v=function lp(s,o){return o>=s.expandoStartIndex}(s,l);(function U0(s,o){return 0!=(s.flags&(o?16:32))})(g,d)&&null===o&&!v&&(o=!1),o=function Zm(s,o,l,d){const f=vo(s);let g=d?o.residualClasses:o.residualStyles;if(null===f)0===(d?o.classBindings:o.styleBindings)&&(l=Bu(l=F0(null,s,o,l,d),o.attrs,d),g=null);else{const v=o.directiveStylingLast;if(-1===v||s[v]!==f)if(l=F0(f,s,o,l,d),null===g){let T=function ZT(s,o,l){const d=l?o.classBindings:o.styleBindings;if(0!==Ml(d))return s[Ka(d)]}(s,o,d);void 0!==T&&Array.isArray(T)&&(T=F0(null,s,o,T[1],d),T=Bu(T,o.attrs,d),function N0(s,o,l,d){s[Ka(l?o.classBindings:o.styleBindings)]=d}(s,o,d,T))}else g=function YT(s,o,l){let d;const f=o.directiveEnd;for(let g=1+o.directiveStylingLast;g<f;g++)d=Bu(d,s[g].hostAttrs,l);return Bu(d,o.attrs,l)}(s,o,d)}return void 0!==g&&(d?o.residualClasses=g:o.residualStyles=g),l}(f,g,o,d),function HT(s,o,l,d,f,g){let v=g?o.classBindings:o.styleBindings,C=Ka(v),T=Ml(v);s[d]=l;let k,R=!1;if(Array.isArray(l)){const B=l;k=B[1],(null===k||Pa(B,k)>0)&&(R=!0)}else k=l;if(f)if(0!==T){const J=Ka(s[C+1]);s[d+1]=X_(J,C),0!==J&&(s[J+1]=J_(s[J+1],d)),s[C+1]=function mk(s,o){return 131071&s|o<<17}(s[C+1],d)}else s[d+1]=X_(C,0),0!==C&&(s[C+1]=J_(s[C+1],d)),C=d;else s[d+1]=X_(T,0),0===C?C=d:s[T+1]=J_(s[T+1],d),T=d;R&&(s[d+1]=mb(s[d+1])),ap(s,k,d,!0),ap(s,k,d,!1),function zT(s,o,l,d,f){const g=f?s.residualClasses:s.residualStyles;null!=g&&"string"==typeof o&&Pa(g,o)>=0&&(l[d+1]=_b(l[d+1]))}(o,k,s,d,g),v=X_(C,T),g?o.classBindings=v:o.styleBindings=v}(f,g,o,l,v,d)}}(g,s,v,d),o!==rn&&Yr(f,v,o)&&function B0(s,o,l,d,f,g,v,C){if(!(3&o.type))return;const T=s.data,R=T[C+1];ph(function gb(s){return 1==(1&s)}(R)?Py(T,o,l,f,Ml(R),v):void 0)||(ph(g)||function BI(s){return 2==(2&s)}(R)&&(g=Py(T,null,l,f,C,v)),function PI(s,o,l,d,f){const g=Vn(s);if(o)f?g?s.addClass(l,d):l.classList.add(d):g?s.removeClass(l,d):l.classList.remove(d);else{let v=-1===d.indexOf("-")?void 0:Mo.DashCase;if(null==f)g?s.removeStyle(l,d,v):l.style.removeProperty(d);else{const C="string"==typeof f&&f.endsWith("!important");C&&(f=f.slice(0,-10),v|=Mo.Important),g?s.setStyle(l,d,f,v):l.style.setProperty(d,f,C?"important":"")}}}(d,v,Ca(Vr(),l),f,g))}(g,g.data[Vr()],f,f[11],s,f[v+1]=function V0(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=ne(fs(s)))),s}(o,l),d,v)}function F0(s,o,l,d,f){let g=null;const v=l.directiveEnd;let C=l.directiveStylingLast;for(-1===C?C=l.directiveStart:C++;C<v&&(g=o[C],d=Bu(d,g.hostAttrs,f),g!==s);)C++;return null!==s&&(l.directiveStylingLast=C),d}function Bu(s,o,l){const d=l?1:2;let f=-1;if(null!==o)for(let g=0;g<o.length;g++){const v=o[g];"number"==typeof v?f=v:f===d&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),vi(s,v,!!l||o[++g]))}return void 0===s?null:s}function Py(s,o,l,d,f,g){const v=null===o;let C;for(;f>0;){const T=s[f],R=Array.isArray(T),k=R?T[1]:T,B=null===k;let J=l[f+1];J===rn&&(J=B?Pt:void 0);let he=B?Qs(J,d):k===d?J:void 0;if(R&&!ph(he)&&(he=Qs(T,d)),ph(he)&&(C=he,v))return C;const ke=s[f+1];f=v?Ka(ke):Ml(ke)}if(null!==o){let T=g?o.residualClasses:o.residualStyles;null!=T&&(C=Qs(T,d))}return C}function ph(s){return void 0!==s}function j0(s,o=""){const l=Ue(),d=un(),f=s+20,g=d.firstCreatePass?Hf(d,f,1,o,null):d.data[f],v=l[f]=function Bs(s,o){return Vn(s)?s.createText(o):s.createTextNode(o)}(l[11],o);Wa(d,l,v,g),os(g,!1)}function Ny(s){return Ym("",s,""),Ny}function Ym(s,o,l){const d=Ue(),f=function Jd(s,o,l,d){return Yr(s,Ma(),l)?o+ye(l)+d:rn}(d,s,o,l);return f!==rn&&Qn(d,Vr(),f),Ym}function $y(s,o,l){const d=Ue();return Yr(d,Ma(),o)&&Oo(un(),jn(),d,s,o,d[11],l,!0),$y}function Gy(s,o,l){const d=Ue();if(Yr(d,Ma(),o)){const g=un(),v=jn();Oo(g,v,d,s,o,Bb(vo(g.data),v,d),l,!0)}return Gy}const kl=void 0;var J0=["en",[["a","p"],["AM","PM"],kl],[["AM","PM"],kl,kl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],kl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],kl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",kl,"{1} 'at' {0}",kl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function aS(s){const l=Math.floor(Math.abs(s)),d=s.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===d?1:5}];let mh={};function qy(s){const o=function ew(s){return s.toLowerCase().replace(/_/g,"-")}(s);let l=dp(o);if(l)return l;const d=o.split("-")[0];if(l=dp(d),l)return l;if("en"===d)return J0;throw new Error(`Missing locale data for the locale "${s}".`)}function Wy(s){return qy(s)[Ut.PluralCase]}function dp(s){return s in mh||(mh[s]=Zt.ng&&Zt.ng.common&&Zt.ng.common.locales&&Zt.ng.common.locales[s]),mh[s]}var Ut=(()=>((Ut=Ut||{})[Ut.LocaleId=0]="LocaleId",Ut[Ut.DayPeriodsFormat=1]="DayPeriodsFormat",Ut[Ut.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ut[Ut.DaysFormat=3]="DaysFormat",Ut[Ut.DaysStandalone=4]="DaysStandalone",Ut[Ut.MonthsFormat=5]="MonthsFormat",Ut[Ut.MonthsStandalone=6]="MonthsStandalone",Ut[Ut.Eras=7]="Eras",Ut[Ut.FirstDayOfWeek=8]="FirstDayOfWeek",Ut[Ut.WeekendRange=9]="WeekendRange",Ut[Ut.DateFormat=10]="DateFormat",Ut[Ut.TimeFormat=11]="TimeFormat",Ut[Ut.DateTimeFormat=12]="DateTimeFormat",Ut[Ut.NumberSymbols=13]="NumberSymbols",Ut[Ut.NumberFormats=14]="NumberFormats",Ut[Ut.CurrencyCode=15]="CurrencyCode",Ut[Ut.CurrencySymbol=16]="CurrencySymbol",Ut[Ut.CurrencyName=17]="CurrencyName",Ut[Ut.Currencies=18]="Currencies",Ut[Ut.Directionality=19]="Directionality",Ut[Ut.PluralCase=20]="PluralCase",Ut[Ut.ExtraData=21]="ExtraData",Ut))();const Jm="en-US";let Ky=Jm;function rg(s,o,l,d,f){if(s=Q(s),Array.isArray(s))for(let g=0;g<s.length;g++)rg(s[g],o,l,d,f);else{const g=un(),v=Ue();let C=Zd(s)?s:Q(s.provide),T=ay(s);const R=Un(),k=1048575&R.providerIndexes,B=R.directiveStart,J=R.providerIndexes>>20;if(Zd(s)||!s.multi){const he=new ic(T,f,jc),ke=ju(C,o,f?k:k+J,B);-1===ke?(Ur(Co(R,v),g,C),ig(g,s,o.length),o.push(C),R.directiveStart++,R.directiveEnd++,f&&(R.providerIndexes+=1048576),l.push(he),v.push(he)):(l[ke]=he,v[ke]=he)}else{const he=ju(C,o,k+J,B),ke=ju(C,o,k,k+J),nt=he>=0&&l[he],ot=ke>=0&&l[ke];if(f&&!ot||!f&&!nt){Ur(Co(R,v),g,C);const Et=function Jy(s,o,l,d,f){const g=new ic(s,l,jc);return g.multi=[],g.index=o,g.componentProviders=0,gw(g,f,d&&!l),g}(f?GS:Pi,l.length,f,d,T);!f&&ot&&(l[ke].providerFactory=Et),ig(g,s,o.length,0),o.push(C),R.directiveStart++,R.directiveEnd++,f&&(R.providerIndexes+=1048576),l.push(Et),v.push(Et)}else ig(g,s,he>-1?he:ke,gw(l[f?ke:he],T,!f&&d));!f&&d&&ot&&l[ke].componentProviders++}}}function ig(s,o,l,d){const f=Zd(o),g=function fT(s){return!!s.useClass}(o);if(f||g){const T=(g?Q(o.useClass):o).prototype.ngOnDestroy;if(T){const R=s.destroyHooks||(s.destroyHooks=[]);if(!f&&o.multi){const k=R.indexOf(l);-1===k?R.push(l,[d,T]):R[k+1].push(d,T)}else R.push(l,T)}}}function gw(s,o,l){return l&&s.componentProviders++,s.multi.push(o)-1}function ju(s,o,l,d){for(let f=l;f<d;f++)if(o[f]===s)return f;return-1}function Pi(s,o,l,d){return sg(this.multi,[])}function GS(s,o,l,d){const f=this.multi;let g;if(this.providerFactory){const v=this.providerFactory.componentProviders,C=gn(l,l[1],this.providerFactory.index,d);g=C.slice(0,v),sg(f,g);for(let T=v;T<C.length;T++)g.push(C[T])}else g=[],sg(f,g);return g}function sg(s,o){for(let l=0;l<s.length;l++)o.push((0,s[l])());return o}function qS(s,o=[]){return l=>{l.providersResolver=(d,f)=>function mw(s,o,l){const d=un();if(d.firstCreatePass){const f=Jt(s);rg(l,d.data,d.blueprint,f,!0),rg(o,d.data,d.blueprint,f,!1)}}(d,f?f(s):s,o)}}class tv{}class LP{resolveComponentFactory(o){throw function WS(s){const o=Error(`No component factory found for ${ne(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let nv=(()=>{class s{}return s.NULL=new LP,s})();function BP(){return mp(Un(),Ue())}function mp(s,o){return new og(Ar(s,o))}let og=(()=>{class s{constructor(l){this.nativeElement=l}}return s.__NG_ELEMENT_ID__=BP,s})();function VP(s){return s instanceof og?s.nativeElement:s}class ZS{}let UP=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function HP(){const s=Ue(),l=xi(Un().index,s);return function jP(s){return s[11]}(Ye(l)?l:s)}(),s})(),zP=(()=>{class s{}return s.\u0275prov=Ze({token:s,providedIn:"root",factory:()=>null}),s})();class YS{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const QS=new YS("13.2.7"),_w={};function rv(s,o,l,d,f=!1){for(;null!==l;){const g=o[l.index];if(null!==g&&d.push(Dn(g)),jt(g))for(let C=10;C<g.length;C++){const T=g[C],R=T[1].firstChild;null!==R&&rv(T[1],T,R,d)}const v=l.type;if(8&v)rv(s,o,l.child,d);else if(32&v){const C=Nf(l,o);let T;for(;T=C();)d.push(T)}else if(16&v){const C=Uf(o,l);if(Array.isArray(C))d.push(...C);else{const T=Su(o[16]);rv(T[1],T,C,d,!0)}}l=f?l.projectionNext:l.next}return d}class ag{constructor(o,l){this._lView=o,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,l=o[1];return rv(l,o,l.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(jt(o)){const l=o[8],d=l?l.indexOf(this):-1;d>-1&&(p(o,d),cc(l,d))}this._attachedToViewContainer=!1}m(this._lView[1],this._lView)}onDestroy(o){YI(this._lView[1],this._lView,null,o)}markForCheck(){Pb(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Fb(this._lView[1],this._lView,this.context)}checkNoChanges(){!function Qk(s,o,l){Sa(!0);try{Fb(s,o,l)}finally{Sa(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Oe(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Lf(s,o){Al(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Oe(902,"");this._appRef=o}}class $P extends ag{constructor(o){super(o),this._view=o}detectChanges(){sT(this._view)}checkNoChanges(){!function oT(s){Sa(!0);try{sT(s)}finally{Sa(!1)}}(this._view)}get context(){return null}}class XS extends nv{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const l=Ft(o);return new yw(l,this.ngModule)}}function JS(s){const o=[];for(let l in s)s.hasOwnProperty(l)&&o.push({propName:s[l],templateName:l});return o}class yw extends tv{constructor(o,l){super(),this.componentDef=o,this.ngModule=l,this.componentType=o.type,this.selector=function Q_(s){return s.map(pk).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!l}get inputs(){return JS(this.componentDef.inputs)}get outputs(){return JS(this.componentDef.outputs)}create(o,l,d,f){const g=(f=f||this.ngModule)?function qP(s,o){return{get:(l,d,f)=>{const g=s.get(l,_w,f);return g!==_w||d===_w?g:o.get(l,d,f)}}}(o,f.injector):o,v=g.get(ZS,su),C=g.get(zP,null),T=v.createRenderer(null,this.componentDef),R=this.componentDef.selectors[0][0]||"div",k=d?function ZI(s,o,l){if(Vn(s))return s.selectRootElement(o,l===Nt.ShadowDom);let d="string"==typeof o?s.querySelector(o):o;return d.textContent="",d}(T,d,this.componentDef.encapsulation):Ti(v.createRenderer(null,this.componentDef),R,function GP(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(R)),B=this.componentDef.onPush?576:528,J=function fy(s,o){return{components:[],scheduler:s||bm,clean:Lb,playerHandler:o||null,flags:0}}(),he=ny(0,null,null,1,0,null,null,null,null,null),ke=Fm(null,he,J,B,null,null,v,T,C,g);let nt,ot;Eo(ke);try{const Et=function hy(s,o,l,d,f,g){const v=l[1];l[20]=s;const T=Hf(v,20,2,"#host",null),R=T.mergedAttrs=o.hostAttrs;null!==R&&(ko(T,R,!0),null!==s&&(oi(f,s,R),null!==T.classes&&Ru(f,s,T.classes),null!==T.styles&&hb(f,s,T.styles)));const k=d.createRenderer(s,o),B=Fm(l,WI(o),null,o.onPush?64:16,l[20],T,d,k,g||null,null);return v.firstCreatePass&&(Ur(Co(T,l),v,o.type),tT(v,T),nT(T,l.length,1)),ry(l,B),l[20]=B}(k,this.componentDef,ke,v,T);if(k)if(d)oi(T,k,["ng-version",QS.full]);else{const{attrs:ze,classes:Mt}=function LI(s){const o=[],l=[];let d=1,f=2;for(;d<s.length;){let g=s[d];if("string"==typeof g)2===f?""!==g&&o.push(g,s[++d]):8===f&&l.push(g);else{if(!Ro(f))break;f=g}d++}return{attrs:o,classes:l}}(this.componentDef.selectors[0]);ze&&oi(T,k,ze),Mt&&Mt.length>0&&Ru(T,k,Mt.join(" "))}if(ot=Zr(he,20),void 0!==l){const ze=ot.projection=[];for(let Mt=0;Mt<this.ngContentSelectors.length;Mt++){const bn=l[Mt];ze.push(null!=bn?Array.from(bn):null)}}nt=function CT(s,o,l,d,f){const g=l[1],v=function Nk(s,o,l){const d=Un();s.firstCreatePass&&(l.providersResolver&&l.providersResolver(l),rT(s,d,o,zf(s,o,1,null),l));const f=gn(o,s,d.directiveStart,d);Di(f,o);const g=Ar(d,o);return g&&Di(g,o),f}(g,l,o);if(d.components.push(v),s[8]=v,f&&f.forEach(T=>T(v,o)),o.contentQueries){const T=Un();o.contentQueries(1,v,T.directiveStart)}const C=Un();return!g.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(_i(C.index),JI(l[1],C,0,C.directiveStart,C.directiveEnd,o),eT(o,v)),v}(Et,this.componentDef,ke,J,[Xb]),Lm(he,ke,null)}finally{Zo()}return new tA(this.componentType,nt,mp(ot,ke),ke,ot)}}class tA extends class ev{}{constructor(o,l,d,f,g){super(),this.location=d,this._rootLView=f,this._tNode=g,this.instance=l,this.hostView=this.changeDetectorRef=new $P(f),this.componentType=o}get injector(){return new Do(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}class Hu{}class vw{}const zu=new Map;class ov extends Hu{constructor(o,l){super(),this._parent=l,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new XS(this);const d=En(o);this._bootstrapComponents=Oi(d.bootstrap),this._r3Injector=uT(o,l,[{provide:Hu,useValue:this},{provide:nv,useValue:this.componentFactoryResolver}],ne(o)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(o)}get(o,l=la.THROW_IF_NOT_FOUND,d=It.Default){return o===la||o===Hu||o===jb?this:this._r3Injector.get(o,l,d)}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class av extends vw{constructor(o){super(),this.moduleType=o,null!==En(o)&&function lg(s){const o=new Set;!function l(d){const f=En(d,!0),g=f.id;null!==g&&(function Gc(s,o,l){if(o&&o!==l)throw new Error(`Duplicate module registered for ${s} - ${ne(o)} vs ${ne(o.name)}`)}(g,zu.get(g),d),zu.set(g,d));const v=Oi(f.imports);for(const C of v)o.has(C)||(o.add(C),l(C))}(s)}(o)}create(o){return new ov(this.moduleType,o)}}function cg(s){return o=>{setTimeout(s,void 0,o)}}const zi=class fA extends u.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,l,d){var f,g,v;let C=o,T=l||(()=>null),R=d;if(o&&"object"==typeof o){const B=o;C=null===(f=B.next)||void 0===f?void 0:f.bind(B),T=null===(g=B.error)||void 0===g?void 0:g.bind(B),R=null===(v=B.complete)||void 0===v?void 0:v.bind(B)}this.__isAsync&&(T=cg(T),C&&(C=cg(C)),R&&(R=cg(R)));const k=super.subscribe({next:C,error:T,complete:R});return o instanceof q.w0&&o.add(k),k}};function Ja(){return this._results[Zf()]()}class uv{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=Zf(),d=uv.prototype;d[l]||(d[l]=Ja)}get changes(){return this._changes||(this._changes=new zi)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,l){return this._results.reduce(o,l)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,l){const d=this;d.dirty=!1;const f=yi(o);(this._changesDetected=!function Dd(s,o,l){if(s.length!==o.length)return!1;for(let d=0;d<s.length;d++){let f=s[d],g=o[d];if(l&&(f=l(f),g=l(g)),g!==f)return!1}return!0}(d._results,f,l))&&(d._results=f,d.length=f.length,d.last=f[this.length-1],d.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let _h=(()=>{class s{}return s.__NG_ELEMENT_ID__=gA,s})();const pA=_h,mA=class extends pA{constructor(o,l,d){super(),this._declarationLView=o,this._declarationTContainer=l,this.elementRef=d}createEmbeddedView(o){const l=this._declarationTContainer.tViews,d=Fm(this._declarationLView,l,o,16,null,l.declTNode,null,null,null,null);d[17]=this._declarationLView[this._declarationTContainer.index];const g=this._declarationLView[19];return null!==g&&(d[19]=g.createEmbeddedView(l)),Lm(l,d,o),new ag(d)}};function gA(){return $u(Un(),Ue())}function $u(s,o){return 4&s.type?new mA(o,s,mp(s,o)):null}let ha=(()=>{class s{}return s.__NG_ELEMENT_ID__=Tw,s})();function Tw(){return dv(Un(),Ue())}const $i=ha,Pl=class extends $i{constructor(o,l,d){super(),this._lContainer=o,this._hostTNode=l,this._hostLView=d}get element(){return mp(this._hostTNode,this._hostLView)}get injector(){return new Do(this._hostTNode,this._hostLView)}get parentInjector(){const o=Ra(this._hostTNode,this._hostLView);if(wo(o)){const l=cs(o,this._hostLView),d=ls(o);return new Do(l[1].data[d+8],l)}return new Do(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const l=Sw(this._lContainer);return null!==l&&l[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,l,d){const f=o.createEmbeddedView(l||{});return this.insert(f,d),f}createComponent(o,l,d,f,g){const v=o&&!function gl(s){return"function"==typeof s}(o);let C;if(v)C=l;else{const B=l||{};C=B.index,d=B.injector,f=B.projectableNodes,g=B.ngModuleRef}const T=v?o:new yw(Ft(o)),R=d||this.parentInjector;if(!g&&null==T.ngModule){const J=(v?R:this.parentInjector).get(Hu,null);J&&(g=J)}const k=T.create(R,f,void 0,g);return this.insert(k.hostView,C),k}insert(o,l){const d=o._lView,f=d[1];if(function ou(s){return jt(s[3])}(d)){const k=this.indexOf(o);if(-1!==k)this.detach(k);else{const B=d[3],J=new Pl(B,B[6],B[3]);J.detach(J.indexOf(o))}}const g=this._adjustIndex(l),v=this._lContainer;!function Pc(s,o,l,d){const f=10+d,g=l.length;d>0&&(l[f-1][4]=o),d<g-10?(o[4]=l[f],yl(l,10+d,o)):(l.push(o),o[4]=null),o[3]=l;const v=o[17];null!==v&&l!==v&&function W_(s,o){const l=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===l?s[9]=[o]:l.push(o)}(v,o);const C=o[19];null!==C&&C.insertView(s),o[2]|=128}(f,d,v,g);const C=Nc(g,v),T=d[11],R=Yn(T,v[7]);return null!==R&&function Hd(s,o,l,d,f,g){d[0]=f,d[6]=o,Al(s,d,l,1,f,g)}(f,v[6],T,d,R,C),o.attachToViewContainerRef(),yl(el(v),g,o),o}move(o,l){return this.insert(o,l)}indexOf(o){const l=Sw(this._lContainer);return null!==l?l.indexOf(o):-1}remove(o){const l=this._adjustIndex(o,-1),d=p(this._lContainer,l);d&&(cc(el(this._lContainer),l),m(d[1],d))}detach(o){const l=this._adjustIndex(o,-1),d=p(this._lContainer,l);return d&&null!=cc(el(this._lContainer),l)?new ag(d):null}_adjustIndex(o,l=0){return null==o?this.length+l:o}};function Sw(s){return s[8]}function el(s){return s[8]||(s[8]=[])}function dv(s,o){let l;const d=o[s.index];if(jt(d))l=d;else{let f;if(8&s.type)f=Dn(d);else{const g=o[11];f=g.createComment("");const v=Ar(s,o);Ve(g,Yn(g,v),f,function ro(s,o){return Vn(s)?s.nextSibling(o):o.nextSibling}(g,v),!1)}o[s.index]=l=iT(d,o,f,s),ry(o,l)}return new Pl(l,s,o)}class ug{constructor(o){this.queryList=o,this.matches=null}clone(){return new ug(this.queryList)}setDirty(){this.queryList.setDirty()}}class dg{constructor(o=[]){this.queries=o}createEmbeddedView(o){const l=o.queries;if(null!==l){const d=null!==o.contentQueries?o.contentQueries[0]:l.length,f=[];for(let g=0;g<d;g++){const v=l.getByIndex(g);f.push(this.queries[v.indexInDeclarationView].clone())}return new dg(f)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let l=0;l<this.queries.length;l++)null!==yp(o,l).matches&&this.queries[l].setDirty()}}class hv{constructor(o,l,d=null){this.predicate=o,this.flags=l,this.read=d}}class hg{constructor(o=[]){this.queries=o}elementStart(o,l){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(o,l)}elementEnd(o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(o)}embeddedTView(o){let l=null;for(let d=0;d<this.length;d++){const f=null!==l?l.length:0,g=this.getByIndex(d).embeddedTView(o,f);g&&(g.indexInDeclarationView=d,null!==l?l.push(g):l=[g])}return null!==l?new hg(l):null}template(o,l){for(let d=0;d<this.queries.length;d++)this.queries[d].template(o,l)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class yh{constructor(o,l=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(o,l){this.isApplyingToNode(l)&&this.matchTNode(o,l)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,l){this.elementStart(o,l)}embeddedTView(o,l){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,l),new yh(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let d=o.parent;for(;null!==d&&8&d.type&&d.index!==l;)d=d.parent;return l===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(o,l){const d=this.metadata.predicate;if(Array.isArray(d))for(let f=0;f<d.length;f++){const g=d[f];this.matchTNodeWithReadOption(o,l,xw(l,g)),this.matchTNodeWithReadOption(o,l,pl(l,o,g,!1,!1))}else d===_h?4&l.type&&this.matchTNodeWithReadOption(o,l,-1):this.matchTNodeWithReadOption(o,l,pl(l,o,d,!1,!1))}matchTNodeWithReadOption(o,l,d){if(null!==d){const f=this.metadata.read;if(null!==f)if(f===og||f===ha||f===_h&&4&l.type)this.addMatch(l.index,-2);else{const g=pl(l,o,f,!1,!1);null!==g&&this.addMatch(l.index,g)}else this.addMatch(l.index,d)}}addMatch(o,l){null===this.matches?this.matches=[o,l]:this.matches.push(o,l)}}function xw(s,o){const l=s.localNames;if(null!==l)for(let d=0;d<l.length;d+=2)if(l[d]===o)return l[d+1];return null}function Ow(s,o,l,d){return-1===l?function Rw(s,o){return 11&s.type?mp(s,o):4&s.type?$u(s,o):null}(o,s):-2===l?function kw(s,o,l){return l===og?mp(o,s):l===_h?$u(o,s):l===ha?dv(o,s):void 0}(s,o,d):gn(s,s[1],l,o)}function Pw(s,o,l,d){const f=o[19].queries[d];if(null===f.matches){const g=s.data,v=l.matches,C=[];for(let T=0;T<v.length;T+=2){const R=v[T];C.push(R<0?null:Ow(o,g[R],v[T+1],l.metadata.read))}f.matches=C}return f.matches}function fg(s,o,l,d){const f=s.queries.getByIndex(l),g=f.matches;if(null!==g){const v=Pw(s,o,f,l);for(let C=0;C<g.length;C+=2){const T=g[C];if(T>0)d.push(v[C/2]);else{const R=g[C+1],k=o[-T];for(let B=10;B<k.length;B++){const J=k[B];J[17]===J[3]&&fg(J[1],J,R,d)}if(null!==k[9]){const B=k[9];for(let J=0;J<B.length;J++){const he=B[J];fg(he[1],he,R,d)}}}}}return d}function fv(s){const o=Ue(),l=un(),d=cu();Ko(d+1);const f=yp(l,d);if(s.dirty&&Go(o)===(2==(2&f.metadata.flags))){if(null===f.matches)s.reset([]);else{const g=f.crossesNgTemplate?fg(l,o,d,[]):Pw(l,o,f,d);s.reset(g,VP),s.notifyOnChanges()}return!0}return!1}function pg(s,o,l){const d=un();d.firstCreatePass&&(gv(d,new hv(s,o,l),-1),2==(2&o)&&(d.staticViewQueries=!0)),mv(d,Ue(),o)}function pv(s,o,l,d){const f=un();if(f.firstCreatePass){const g=Un();gv(f,new hv(o,l,d),g.index),function _v(s,o){const l=s.contentQueries||(s.contentQueries=[]);o!==(l.length?l[l.length-1]:-1)&&l.push(s.queries.length-1,o)}(f,s),2==(2&l)&&(f.staticContentQueries=!0)}mv(f,Ue(),l)}function mg(){return function Nw(s,o){return s[19].queries[o].queryList}(Ue(),cu())}function mv(s,o,l){const d=new uv(4==(4&l));YI(s,o,d,d.destroy),null===o[19]&&(o[19]=new dg),o[19].queries.push(new ug(d))}function gv(s,o,l){null===s.queries&&(s.queries=new hg),s.queries.track(new yh(o,l))}function yp(s,o){return s.queries.getByIndex(o)}function Eh(...s){}const Ag=new Zn("Application Initializer");let Mg=(()=>{class s{constructor(l){this.appInits=l,this.resolve=Eh,this.reject=Eh,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,f)=>{this.resolve=d,this.reject=f})}runInitializers(){if(this.initialized)return;const l=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const g=this.appInits[f]();if(Po(g))l.push(g);else if(dh(g)){const v=new Promise((C,T)=>{g.subscribe({complete:C,error:T})});l.push(v)}}Promise.all(l).then(()=>{d()}).catch(f=>{this.reject(f)}),0===l.length&&d(),this.initialized=!0}}return s.\u0275fac=function(l){return new(l||s)(zr(Ag,8))},s.\u0275prov=Ze({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const wp=new Zn("AppId",{providedIn:"root",factory:function xg(){return`${Rg()}${Rg()}${Rg()}`}});function Rg(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Iv=new Zn("Platform Initializer"),Tv=new Zn("Platform ID"),Sv=new Zn("appBootstrapListener");let Og=(()=>{class s{log(l){console.log(l)}warn(l){console.warn(l)}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=Ze({token:s,factory:s.\u0275fac}),s})();const Pg=new Zn("LocaleId",{providedIn:"root",factory:()=>pc(Pg,It.Optional|It.SkipSelf)||function kg(){return"undefined"!=typeof $localize&&$localize.locale||Jm}()}),xA=new Zn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class tN{constructor(o,l){this.ngModuleFactory=o,this.componentFactories=l}}let nN=(()=>{class s{compileModuleSync(l){return new av(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const d=this.compileModuleSync(l),g=Oi(En(l).declarations).reduce((v,C)=>{const T=Ft(C);return T&&v.push(new yw(T)),v},[]);return new tN(d,g)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=Ze({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const OA=(()=>Promise.resolve(0))();function Fg(s){"undefined"==typeof Zone?OA.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Fo{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new zi(!1),this.onMicrotaskEmpty=new zi(!1),this.onStable=new zi(!1),this.onError=new zi(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!d&&l,f.shouldCoalesceRunChangeDetection=d,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function kA(){let s=Zt.requestAnimationFrame,o=Zt.cancelAnimationFrame;if("undefined"!=typeof Zone&&s&&o){const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l);const d=o[Zone.__symbol__("OriginalDelegate")];d&&(o=d)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function Qw(s){const o=()=>{!function PA(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Zt,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,Mv(s),s.isCheckStableRunning=!0,Lg(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),Mv(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,d,f,g,v,C)=>{try{return NA(s),l.invokeTask(f,g,v,C)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||s.shouldCoalesceRunChangeDetection)&&o(),xv(s)}},onInvoke:(l,d,f,g,v,C,T)=>{try{return NA(s),l.invoke(f,g,v,C,T)}finally{s.shouldCoalesceRunChangeDetection&&o(),xv(s)}},onHasTask:(l,d,f,g)=>{l.hasTask(f,g),d===f&&("microTask"==g.change?(s._hasPendingMicrotasks=g.microTask,Mv(s),Lg(s)):"macroTask"==g.change&&(s.hasPendingMacrotasks=g.macroTask))},onHandleError:(l,d,f,g)=>(l.handleError(f,g),s.runOutsideAngular(()=>s.onError.emit(g)),!1)})}(f)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Fo.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Fo.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(o,l,d){return this._inner.run(o,l,d)}runTask(o,l,d,f){const g=this._inner,v=g.scheduleEventTask("NgZoneEvent: "+f,o,Yw,Eh,Eh);try{return g.runTask(v,l,d)}finally{g.cancelTask(v)}}runGuarded(o,l,d){return this._inner.runGuarded(o,l,d)}runOutsideAngular(o){return this._outer.run(o)}}const Yw={};function Lg(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function Mv(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function NA(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function xv(s){s._nesting--,Lg(s)}class FA{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new zi,this.onMicrotaskEmpty=new zi,this.onStable=new zi,this.onError=new zi}run(o,l,d){return o.apply(l,d)}runGuarded(o,l,d){return o.apply(l,d)}runOutsideAngular(o){return o()}runTask(o,l,d,f){return o.apply(l,d)}}let Rv=(()=>{class s{constructor(l){this._ngZone=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Fo.assertNotInAngularZone(),Fg(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Fg(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(l)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,d,f){let g=-1;d&&d>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==g),l(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:l,timeoutId:g,updateCb:f})}whenStable(l,d,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,d,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(l,d,f){return[]}}return s.\u0275fac=function(l){return new(l||s)(zr(Fo))},s.\u0275prov=Ze({token:s,factory:s.\u0275fac}),s})(),Xw=(()=>{class s{constructor(){this._applications=new Map,kv.addToWindow(this)}registerApplication(l,d){this._applications.set(l,d)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,d=!0){return kv.findTestabilityInTree(this,l,d)}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=Ze({token:s,factory:s.\u0275fac}),s})();class Jw{addToWindow(o){}findTestabilityInTree(o,l,d){return null}}function Ov(s){kv=s}let Lo,kv=new Jw;const Vg=new Zn("AllowMultipleToken");class VA{constructor(o,l){this.name=o,this.token=l}}function Nv(s,o,l=[]){const d=`Platform: ${o}`,f=new Zn(d);return(g=[])=>{let v=tC();if(!v||v.injector.get(Vg,!1))if(s)s(l.concat(g).concat({provide:f,useValue:!0}));else{const C=l.concat(g).concat({provide:f,useValue:!0},{provide:Hb,useValue:"platform"});!function Pv(s){if(Lo&&!Lo.destroyed&&!Lo.injector.get(Vg,!1))throw new Oe(400,"");Lo=s.get(Fv);const o=s.get(Iv,null);o&&o.forEach(l=>l())}(la.create({providers:C,name:d}))}return function UA(s){const o=tC();if(!o)throw new Oe(401,"");return o}()}}function tC(){return Lo&&!Lo.destroyed?Lo:null}let Fv=(()=>{class s{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,d){const C=function jA(s,o){let l;return l="noop"===s?new FA:("zone.js"===s?void 0:s)||new Fo({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==o?void 0:o.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==o?void 0:o.ngZoneRunCoalescing)}),l}(d?d.ngZone:void 0,{ngZoneEventCoalescing:d&&d.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:d&&d.ngZoneRunCoalescing||!1}),T=[{provide:Fo,useValue:C}];return C.run(()=>{const R=la.create({providers:T,parent:this.injector,name:l.moduleType.name}),k=l.create(R),B=k.injector.get(Bd,null);if(!B)throw new Oe(402,"");return C.runOutsideAngular(()=>{const J=C.onError.subscribe({next:he=>{B.handleError(he)}});k.onDestroy(()=>{Ug(this._modules,k),J.unsubscribe()})}),function Lv(s,o,l){try{const d=l();return Po(d)?d.catch(f=>{throw o.runOutsideAngular(()=>s.handleError(f)),f}):d}catch(d){throw o.runOutsideAngular(()=>s.handleError(d)),d}}(B,C,()=>{const J=k.injector.get(Mg);return J.runInitializers(),J.donePromise.then(()=>(function fS(s){Ge(s,"Expected localeId to be defined"),"string"==typeof s&&(Ky=s.toLowerCase().replace(/_/g,"-"))}(k.injector.get(Pg,Jm)||Jm),this._moduleDoBootstrap(k),k))})})}bootstrapModule(l,d=[]){const f=nC({},d);return function LA(s,o,l){const d=new av(l);return Promise.resolve(d)}(0,0,l).then(g=>this.bootstrapModuleFactory(g,f))}_moduleDoBootstrap(l){const d=l.injector.get(Bv);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(f=>d.bootstrap(f));else{if(!l.instance.ngDoBootstrap)throw new Oe(403,"");l.instance.ngDoBootstrap(d)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Oe(404,"");this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(l){return new(l||s)(zr(la))},s.\u0275prov=Ze({token:s,factory:s.\u0275fac}),s})();function nC(s,o){return Array.isArray(o)?o.reduce(nC,s):Object.assign(Object.assign({},s),o)}let Bv=(()=>{class s{constructor(l,d,f,g,v){this._zone=l,this._injector=d,this._exceptionHandler=f,this._componentFactoryResolver=g,this._initStatus=v,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const C=new N.y(R=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{R.next(this._stable),R.complete()})}),T=new N.y(R=>{let k;this._zone.runOutsideAngular(()=>{k=this._zone.onStable.subscribe(()=>{Fo.assertNotInAngularZone(),Fg(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,R.next(!0))})})});const B=this._zone.onUnstable.subscribe(()=>{Fo.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{R.next(!1)}))});return()=>{k.unsubscribe(),B.unsubscribe()}});this.isStable=(0,ie.T)(C,T.pipe((0,z.B)()))}bootstrap(l,d){if(!this._initStatus.done)throw new Oe(405,"");let f;f=l instanceof tv?l:this._componentFactoryResolver.resolveComponentFactory(l),this.componentTypes.push(f.componentType);const g=function BA(s){return s.isBoundToModule}(f)?void 0:this._injector.get(Hu),C=f.create(la.NULL,[],d||f.selector,g),T=C.location.nativeElement,R=C.injector.get(Rv,null),k=R&&C.injector.get(Xw);return R&&k&&k.registerApplication(T,R),C.onDestroy(()=>{this.detachView(C.hostView),Ug(this.components,C),k&&k.unregisterApplication(T)}),this._loadComponent(C),C}tick(){if(this._runningTick)throw new Oe(101,"");try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const d=l;this._views.push(d),d.attachToAppRef(this)}detachView(l){const d=l;Ug(this._views,d),d.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l),this._injector.get(Sv,[]).concat(this._bootstrapListeners).forEach(f=>f(l))}ngOnDestroy(){this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return s.\u0275fac=function(l){return new(l||s)(zr(Fo),zr(la),zr(Bd),zr(nv),zr(Mg))},s.\u0275prov=Ze({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function Ug(s,o){const l=s.indexOf(o);l>-1&&s.splice(l,1)}let jg=!0,iC=!1;function sC(){return iC=!0,jg}function HA(){if(iC)throw new Error("Cannot enable prod mode after platform setup.");jg=!1}let aC=(()=>{class s{}return s.__NG_ELEMENT_ID__=$A,s})();function $A(s){return function lC(s,o,l){if(Cn(s)&&!l){const d=xi(s.index,o);return new ag(d,d)}return 47&s.type?new ag(o[16],o):null}(Un(),Ue(),16==(16&s))}class mC{constructor(){}supports(o){return Bm(o)}create(o){return new KA(o)}}const WA=(s,o)=>o;class KA{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||WA}forEachItem(o){let l;for(l=this._itHead;null!==l;l=l._next)o(l)}forEachOperation(o){let l=this._itHead,d=this._removalsHead,f=0,g=null;for(;l||d;){const v=!d||l&&l.currentIndex<yC(d,f,g)?l:d,C=yC(v,f,g),T=v.currentIndex;if(v===d)f--,d=d._nextRemoved;else if(l=l._next,null==v.previousIndex)f++;else{g||(g=[]);const R=C-f,k=T-f;if(R!=k){for(let J=0;J<R;J++){const he=J<g.length?g[J]:g[J]=0,ke=he+J;k<=ke&&ke<R&&(g[J]=he+1)}g[v.previousIndex]=k-R}}C!==T&&o(v,C,T)}}forEachPreviousItem(o){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachMovedItem(o){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}forEachIdentityChange(o){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)o(l)}diff(o){if(null==o&&(o=[]),!Bm(o))throw new Oe(900,"");return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let f,g,v,l=this._itHead,d=!1;if(Array.isArray(o)){this.length=o.length;for(let C=0;C<this.length;C++)g=o[C],v=this._trackByFn(C,g),null!==l&&Object.is(l.trackById,v)?(d&&(l=this._verifyReinsertion(l,g,v,C)),Object.is(l.item,g)||this._addIdentityChange(l,g)):(l=this._mismatch(l,g,v,C),d=!0),l=l._next}else f=0,function lP(s,o){if(Array.isArray(s))for(let l=0;l<s.length;l++)o(s[l]);else{const l=s[Zf()]();let d;for(;!(d=l.next()).done;)o(d.value)}}(o,C=>{v=this._trackByFn(f,C),null!==l&&Object.is(l.trackById,v)?(d&&(l=this._verifyReinsertion(l,C,v,f)),Object.is(l.item,C)||this._addIdentityChange(l,C)):(l=this._mismatch(l,C,v,f),d=!0),l=l._next,f++}),this.length=f;return this._truncate(l),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,l,d,f){let g;return null===o?g=this._itTail:(g=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._reinsertAfter(o,g,f)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(d,f))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._moveAfter(o,g,f)):o=this._addAfter(new zg(l,d),g,f),o}_verifyReinsertion(o,l,d,f){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==g?o=this._reinsertAfter(g,o._prev,f):o.currentIndex!=f&&(o.currentIndex=f,this._addToMoves(o,f)),o}_truncate(o){for(;null!==o;){const l=o._next;this._addToRemovals(this._unlink(o)),o=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,l,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const f=o._prevRemoved,g=o._nextRemoved;return null===f?this._removalsHead=g:f._nextRemoved=g,null===g?this._removalsTail=f:g._prevRemoved=f,this._insertAfter(o,l,d),this._addToMoves(o,d),o}_moveAfter(o,l,d){return this._unlink(o),this._insertAfter(o,l,d),this._addToMoves(o,d),o}_addAfter(o,l,d){return this._insertAfter(o,l,d),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,l,d){const f=null===l?this._itHead:l._next;return o._next=f,o._prev=l,null===f?this._itTail=o:f._prev=o,null===l?this._itHead=o:l._next=o,null===this._linkedRecords&&(this._linkedRecords=new _C),this._linkedRecords.put(o),o.currentIndex=d,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const l=o._prev,d=o._next;return null===l?this._itHead=d:l._next=d,null===d?this._itTail=l:d._prev=l,o}_addToMoves(o,l){return o.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new _C),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,l){return o.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class zg{constructor(o,l){this.item=o,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class gC{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,l){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===l||l<=d.currentIndex)&&Object.is(d.trackById,o))return d;return null}remove(o){const l=o._prevDup,d=o._nextDup;return null===l?this._head=d:l._nextDup=d,null===d?this._tail=l:d._prevDup=l,null===this._head}}class _C{constructor(){this.map=new Map}put(o){const l=o.trackById;let d=this.map.get(l);d||(d=new gC,this.map.set(l,d)),d.add(o)}get(o,l){const f=this.map.get(o);return f?f.get(o,l):null}remove(o){const l=o.trackById;return this.map.get(l).remove(o)&&this.map.delete(l),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function yC(s,o,l){const d=s.previousIndex;if(null===d)return d;let f=0;return l&&d<l.length&&(f=l[d]),d+o+f}class vC{constructor(){}supports(o){return o instanceof Map||Vm(o)}create(){return new EC}}class EC{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let l;for(l=this._mapHead;null!==l;l=l._next)o(l)}forEachPreviousItem(o){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)o(l)}forEachChangedItem(o){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}diff(o){if(o){if(!(o instanceof Map||Vm(o)))throw new Oe(900,"")}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(o,(d,f)=>{if(l&&l.key===f)this._maybeAddToChanges(l,d),this._appendAfter=l,l=l._next;else{const g=this._getOrCreateRecordForKey(f,d);l=this._insertBeforeOrAppend(l,g)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let d=l;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,l){if(o){const d=o._prev;return l._next=o,l._prev=d,o._prev=l,d&&(d._next=l),o===this._mapHead&&(this._mapHead=l),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(o,l){if(this._records.has(o)){const f=this._records.get(o);this._maybeAddToChanges(f,l);const g=f._prev,v=f._next;return g&&(g._next=v),v&&(v._prev=g),f._next=null,f._prev=null,f}const d=new Dp(o);return this._records.set(o,d),d.currentValue=l,this._addToAdditions(d),d}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,l){Object.is(l,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=l,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,l){o instanceof Map?o.forEach(l):Object.keys(o).forEach(d=>l(o[d],d))}}class Dp{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function bC(){return new $g([new mC])}let $g=(()=>{class s{constructor(l){this.factories=l}static create(l,d){if(null!=d){const f=d.factories.slice();l=l.concat(f)}return new s(l)}static extend(l){return{provide:s,useFactory:d=>s.create(l,d||bC()),deps:[[s,new eo,new Js]]}}find(l){const d=this.factories.find(f=>f.supports(l));if(null!=d)return d;throw new Oe(901,"")}}return s.\u0275prov=Ze({token:s,providedIn:"root",factory:bC}),s})();function wC(){return new CC([new vC])}let CC=(()=>{class s{constructor(l){this.factories=l}static create(l,d){if(d){const f=d.factories.slice();l=l.concat(f)}return new s(l)}static extend(l){return{provide:s,useFactory:d=>s.create(l,d||wC()),deps:[[s,new eo,new Js]]}}find(l){const d=this.factories.find(g=>g.supports(l));if(d)return d;throw new Oe(901,"")}}return s.\u0275prov=Ze({token:s,providedIn:"root",factory:wC}),s})();const pN=Nv(null,"core",[{provide:Tv,useValue:"unknown"},{provide:Fv,deps:[la]},{provide:Xw,deps:[]},{provide:Og,deps:[]}]);let QA=(()=>{class s{constructor(l){}}return s.\u0275fac=function(l){return new(l||s)(zr(Bv))},s.\u0275mod=oe({type:s}),s.\u0275inj=yn({}),s})()},3942:(re,H,M)=>{M.d(H,{Z:()=>Oe});var u=M(2090),q=M(4859),N=M(6881),ie=M(1877);class z{constructor(ye,be){this._delegate=ye,this.firebase=be,(0,N._addComponent)(ye,new q.wA("app-compat",()=>this,"PUBLIC")),this.container=ye.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ye){this._delegate.automaticDataCollectionEnabled=ye}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ye=>{this._delegate.checkDestroyed(),ye()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,N.deleteApp)(this._delegate)))}_getService(ye,be=N._DEFAULT_ENTRY_NAME){var Ke;this._delegate.checkDestroyed();const qe=this._delegate.container.getProvider(ye);return!qe.isInitialized()&&"EXPLICIT"===(null===(Ke=qe.getComponent())||void 0===Ke?void 0:Ke.instantiationMode)&&qe.initialize(),qe.getImmediate({identifier:be})}_removeServiceInstance(ye,be=N._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ye).clearInstance(be)}_addComponent(ye){(0,N._addComponent)(this._delegate,ye)}_addOrOverwriteComponent(ye){(0,N._addOrOverwriteComponent)(this._delegate,ye)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const W=new u.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),V=function K(){const je=function ne(je){const ye={},be={__esModule:!0,initializeApp:function Re(Qe,bt={}){const me=N.initializeApp(Qe,bt);if((0,u.r3)(ye,me.name))return ye[me.name];const At=new je(me,be);return ye[me.name]=At,At},app:qe,registerVersion:N.registerVersion,setLogLevel:N.setLogLevel,onLog:N.onLog,apps:null,SDK_VERSION:N.SDK_VERSION,INTERNAL:{registerComponent:function De(Qe){const bt=Qe.name,me=bt.replace("-compat","");if(N._registerComponent(Qe)&&"PUBLIC"===Qe.type){const At=(Bt=qe())=>{if("function"!=typeof Bt[me])throw W.create("invalid-app-argument",{appName:bt});return Bt[me]()};void 0!==Qe.serviceProps&&(0,u.ZB)(At,Qe.serviceProps),be[me]=At,je.prototype[me]=function(...Bt){return this._getService.bind(this,bt).apply(this,Qe.multipleInstances?Bt:[])}}return"PUBLIC"===Qe.type?be[me]:null},removeApp:function Ke(Qe){delete ye[Qe]},useAsService:function Xe(Qe,bt){return"serverAuth"===bt?null:bt},modularAPIs:N}};function qe(Qe){if(!(0,u.r3)(ye,Qe=Qe||N._DEFAULT_ENTRY_NAME))throw W.create("no-app",{appName:Qe});return ye[Qe]}return be.default=be,Object.defineProperty(be,"apps",{get:function Ee(){return Object.keys(ye).map(Qe=>ye[Qe])}}),qe.App=je,be}(z);return je.INTERNAL=Object.assign(Object.assign({},je.INTERNAL),{createFirebaseNamespace:K,extendNamespace:function ye(be){(0,u.ZB)(je,be)},createSubscribe:u.ne,ErrorFactory:u.LL,deepExtend:u.ZB}),je}(),U=new ie.Yd("@firebase/app-compat");if((0,u.jU)()&&void 0!==self.firebase){U.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const je=self.firebase.SDK_VERSION;je&&je.indexOf("LITE")>=0&&U.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Oe=V;!function ve(je){(0,N.registerVersion)("@firebase/app-compat","0.2.9",je)}()},6881:(re,H,M)=>{M.r(H),M.d(H,{FirebaseError:()=>ie.ZR,SDK_VERSION:()=>Pt,_DEFAULT_ENTRY_NAME:()=>qn,_addComponent:()=>Nt,_addOrOverwriteComponent:()=>wt,_apps:()=>_r,_clearComponents:()=>Zt,_components:()=>ri,_getProvider:()=>Li,_registerComponent:()=>kt,_removeServiceInstance:()=>es,deleteApp:()=>yr,getApp:()=>on,getApps:()=>pi,initializeApp:()=>ts,onLog:()=>ns,registerVersion:()=>Ln,setLogLevel:()=>ir});var u=M(5861),q=M(4859),N=M(1877),ie=M(2090);let se,W;const V=new WeakMap,U=new WeakMap,Q=new WeakMap,Se=new WeakMap,ve=new WeakMap;let ye={get(_e,fe,Be){if(_e instanceof IDBTransaction){if("done"===fe)return U.get(_e);if("objectStoreNames"===fe)return _e.objectStoreNames||Q.get(_e);if("store"===fe)return Be.objectStoreNames[1]?void 0:Be.objectStore(Be.objectStoreNames[0])}return Re(_e[fe])},set:(_e,fe,Be)=>(_e[fe]=Be,!0),has:(_e,fe)=>_e instanceof IDBTransaction&&("done"===fe||"store"===fe)||fe in _e};function qe(_e){return"function"==typeof _e?function Ke(_e){return _e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function K(){return W||(W=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(_e)?function(...fe){return _e.apply(Ee(this),fe),Re(V.get(this))}:function(...fe){return Re(_e.apply(Ee(this),fe))}:function(fe,...Be){const Me=_e.call(Ee(this),fe,...Be);return Q.set(Me,fe.sort?fe.sort():[fe]),Re(Me)}}(_e):(_e instanceof IDBTransaction&&function je(_e){if(U.has(_e))return;const fe=new Promise((Be,Me)=>{const et=()=>{_e.removeEventListener("complete",pt),_e.removeEventListener("error",Wt),_e.removeEventListener("abort",Wt)},pt=()=>{Be(),et()},Wt=()=>{Me(_e.error||new DOMException("AbortError","AbortError")),et()};_e.addEventListener("complete",pt),_e.addEventListener("error",Wt),_e.addEventListener("abort",Wt)});U.set(_e,fe)}(_e),((_e,fe)=>fe.some(Be=>_e instanceof Be))(_e,function ne(){return se||(se=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(_e,ye):_e)}function Re(_e){if(_e instanceof IDBRequest)return function Oe(_e){const fe=new Promise((Be,Me)=>{const et=()=>{_e.removeEventListener("success",pt),_e.removeEventListener("error",Wt)},pt=()=>{Be(Re(_e.result)),et()},Wt=()=>{Me(_e.error),et()};_e.addEventListener("success",pt),_e.addEventListener("error",Wt)});return fe.then(Be=>{Be instanceof IDBCursor&&V.set(Be,_e)}).catch(()=>{}),ve.set(fe,_e),fe}(_e);if(Se.has(_e))return Se.get(_e);const fe=qe(_e);return fe!==_e&&(Se.set(_e,fe),ve.set(fe,_e)),fe}const Ee=_e=>ve.get(_e),Qe=["get","getKey","getAll","getAllKeys","count"],bt=["put","add","delete","clear"],me=new Map;function At(_e,fe){if(!(_e instanceof IDBDatabase)||fe in _e||"string"!=typeof fe)return;if(me.get(fe))return me.get(fe);const Be=fe.replace(/FromIndex$/,""),Me=fe!==Be,et=bt.includes(Be);if(!(Be in(Me?IDBIndex:IDBObjectStore).prototype)||!et&&!Qe.includes(Be))return;const pt=function(){var Wt=(0,u.Z)(function*(Bn,...cn){const sr=this.transaction(Bn,et?"readwrite":"readonly");let wn=sr.store;return Me&&(wn=wn.index(cn.shift())),(yield Promise.all([wn[Be](...cn),et&&sr.done]))[0]});return function(cn){return Wt.apply(this,arguments)}}();return me.set(fe,pt),pt}!function be(_e){ye=_e(ye)}(_e=>OI(RI({},_e),{get:(fe,Be,Me)=>At(fe,Be)||_e.get(fe,Be,Me),has:(fe,Be)=>!!At(fe,Be)||_e.has(fe,Be)}));class Bt{constructor(fe){this.container=fe}getPlatformInfoString(){return this.container.getProviders().map(Be=>{if(function Dt(_e){const fe=_e.getComponent();return"VERSION"===(null==fe?void 0:fe.type)}(Be)){const Me=Be.getImmediate();return`${Me.library}/${Me.version}`}return null}).filter(Be=>Be).join(" ")}}const hn="@firebase/app",xe=new N.Yd("@firebase/app"),qn="[DEFAULT]",ur={[hn]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},_r=new Map,ri=new Map;function Nt(_e,fe){try{_e.container.addComponent(fe)}catch(Be){xe.debug(`Component ${fe.name} failed to register with FirebaseApp ${_e.name}`,Be)}}function wt(_e,fe){_e.container.addOrOverwriteComponent(fe)}function kt(_e){const fe=_e.name;if(ri.has(fe))return xe.debug(`There were multiple attempts to register component ${fe}.`),!1;ri.set(fe,_e);for(const Be of _r.values())Nt(Be,_e);return!0}function Li(_e,fe){const Be=_e.container.getProvider("heartbeat").getImmediate({optional:!0});return Be&&Be.triggerHeartbeat(),_e.container.getProvider(fe)}function es(_e,fe,Be=qn){Li(_e,fe).clearInstance(Be)}function Zt(){ri.clear()}const Wn=new ie.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class fi{constructor(fe,Be,Me){this._isDeleted=!1,this._options=Object.assign({},fe),this._config=Object.assign({},Be),this._name=Be.name,this._automaticDataCollectionEnabled=Be.automaticDataCollectionEnabled,this._container=Me,this.container.addComponent(new q.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(fe){this.checkDestroyed(),this._automaticDataCollectionEnabled=fe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(fe){this._isDeleted=fe}checkDestroyed(){if(this.isDeleted)throw Wn.create("app-deleted",{appName:this._name})}}const Pt="9.21.0";function ts(_e,fe={}){let Be=_e;"object"!=typeof fe&&(fe={name:fe});const Me=Object.assign({name:qn,automaticDataCollectionEnabled:!1},fe),et=Me.name;if("string"!=typeof et||!et)throw Wn.create("bad-app-name",{appName:String(et)});if(Be||(Be=(0,ie.aH)()),!Be)throw Wn.create("no-options");const pt=_r.get(et);if(pt){if((0,ie.vZ)(Be,pt.options)&&(0,ie.vZ)(Me,pt.config))return pt;throw Wn.create("duplicate-app",{appName:et})}const Wt=new q.H0(et);for(const cn of ri.values())Wt.addComponent(cn);const Bn=new fi(Be,Me,Wt);return _r.set(et,Bn),Bn}function on(_e=qn){const fe=_r.get(_e);if(!fe&&_e===qn)return ts();if(!fe)throw Wn.create("no-app",{appName:_e});return fe}function pi(){return Array.from(_r.values())}function yr(_e){return On.apply(this,arguments)}function On(){return(On=(0,u.Z)(function*(_e){const fe=_e.name;_r.has(fe)&&(_r.delete(fe),yield Promise.all(_e.container.getProviders().map(Be=>Be.delete())),_e.isDeleted=!0)})).apply(this,arguments)}function Ln(_e,fe,Be){var Me;let et=null!==(Me=ur[_e])&&void 0!==Me?Me:_e;Be&&(et+=`-${Be}`);const pt=et.match(/\s|\//),Wt=fe.match(/\s|\//);if(pt||Wt){const Bn=[`Unable to register library "${et}" with version "${fe}":`];return pt&&Bn.push(`library name "${et}" contains illegal characters (whitespace or "/")`),pt&&Wt&&Bn.push("and"),Wt&&Bn.push(`version name "${fe}" contains illegal characters (whitespace or "/")`),void xe.warn(Bn.join(" "))}kt(new q.wA(`${et}-version`,()=>({library:et,version:fe}),"VERSION"))}function ns(_e,fe){if(null!==_e&&"function"!=typeof _e)throw Wn.create("invalid-log-argument");(0,N.Am)(_e,fe)}function ir(_e){(0,N.Ub)(_e)}const Y="firebase-heartbeat-store";let G=null;function oe(){return G||(G=function De(_e,fe,{blocked:Be,upgrade:Me,blocking:et,terminated:pt}={}){const Wt=indexedDB.open(_e,fe),Bn=Re(Wt);return Me&&Wt.addEventListener("upgradeneeded",cn=>{Me(Re(Wt.result),cn.oldVersion,cn.newVersion,Re(Wt.transaction),cn)}),Be&&Wt.addEventListener("blocked",cn=>Be(cn.oldVersion,cn.newVersion,cn)),Bn.then(cn=>{pt&&cn.addEventListener("close",()=>pt()),et&&cn.addEventListener("versionchange",sr=>et(sr.oldVersion,sr.newVersion,sr))}).catch(()=>{}),Bn}("firebase-heartbeat-database",1,{upgrade:(_e,fe)=>{0===fe&&_e.createObjectStore(Y)}}).catch(_e=>{throw Wn.create("idb-open",{originalErrorMessage:_e.message})})),G}function pe(){return(pe=(0,u.Z)(function*(_e){try{return(yield oe()).transaction(Y).objectStore(Y).get(Ft(_e))}catch(fe){if(fe instanceof ie.ZR)xe.warn(fe.message);else{const Be=Wn.create("idb-get",{originalErrorMessage:null==fe?void 0:fe.message});xe.warn(Be.message)}}})).apply(this,arguments)}function ut(_e,fe){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,u.Z)(function*(_e,fe){try{const Me=(yield oe()).transaction(Y,"readwrite");return yield Me.objectStore(Y).put(fe,Ft(_e)),Me.done}catch(Be){if(Be instanceof ie.ZR)xe.warn(Be.message);else{const Me=Wn.create("idb-set",{originalErrorMessage:null==Be?void 0:Be.message});xe.warn(Me.message)}}})).apply(this,arguments)}function Ft(_e){return`${_e.name}!${_e.options.appId}`}class En{constructor(fe){this.container=fe,this._heartbeatsCache=null;const Be=this.container.getProvider("app").getImmediate();this._storage=new Wr(Be),this._heartbeatsCachePromise=this._storage.read().then(Me=>(this._heartbeatsCache=Me,Me))}triggerHeartbeat(){var fe=this;return(0,u.Z)(function*(){const Me=fe.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),et=qt();if(null===fe._heartbeatsCache&&(fe._heartbeatsCache=yield fe._heartbeatsCachePromise),fe._heartbeatsCache.lastSentHeartbeatDate!==et&&!fe._heartbeatsCache.heartbeats.some(pt=>pt.date===et))return fe._heartbeatsCache.heartbeats.push({date:et,agent:Me}),fe._heartbeatsCache.heartbeats=fe._heartbeatsCache.heartbeats.filter(pt=>{const Wt=new Date(pt.date).valueOf();return Date.now()-Wt<=2592e6}),fe._storage.overwrite(fe._heartbeatsCache)})()}getHeartbeatsHeader(){var fe=this;return(0,u.Z)(function*(){if(null===fe._heartbeatsCache&&(yield fe._heartbeatsCachePromise),null===fe._heartbeatsCache||0===fe._heartbeatsCache.heartbeats.length)return"";const Be=qt(),{heartbeatsToSend:Me,unsentEntries:et}=function vr(_e,fe=1024){const Be=[];let Me=_e.slice();for(const et of _e){const pt=Be.find(Wt=>Wt.agent===et.agent);if(pt){if(pt.dates.push(et.date),Lr(Be)>fe){pt.dates.pop();break}}else if(Be.push({agent:et.agent,dates:[et.date]}),Lr(Be)>fe){Be.pop();break}Me=Me.slice(1)}return{heartbeatsToSend:Be,unsentEntries:Me}}(fe._heartbeatsCache.heartbeats),pt=(0,ie.L)(JSON.stringify({version:2,heartbeats:Me}));return fe._heartbeatsCache.lastSentHeartbeatDate=Be,et.length>0?(fe._heartbeatsCache.heartbeats=et,yield fe._storage.overwrite(fe._heartbeatsCache)):(fe._heartbeatsCache.heartbeats=[],fe._storage.overwrite(fe._heartbeatsCache)),pt})()}}function qt(){return(new Date).toISOString().substring(0,10)}class Wr{constructor(fe){this.app=fe,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,u.Z)(function*(){return!!(0,ie.hl)()&&(0,ie.eu)().then(()=>!0).catch(()=>!1)})()}read(){var fe=this;return(0,u.Z)(function*(){return(yield fe._canUseIndexedDBPromise)&&(yield function Pe(_e){return pe.apply(this,arguments)}(fe.app))||{heartbeats:[]}})()}overwrite(fe){var Be=this;return(0,u.Z)(function*(){var Me;if(yield Be._canUseIndexedDBPromise){const pt=yield Be.read();return ut(Be.app,{lastSentHeartbeatDate:null!==(Me=fe.lastSentHeartbeatDate)&&void 0!==Me?Me:pt.lastSentHeartbeatDate,heartbeats:fe.heartbeats})}})()}add(fe){var Be=this;return(0,u.Z)(function*(){var Me;if(yield Be._canUseIndexedDBPromise){const pt=yield Be.read();return ut(Be.app,{lastSentHeartbeatDate:null!==(Me=fe.lastSentHeartbeatDate)&&void 0!==Me?Me:pt.lastSentHeartbeatDate,heartbeats:[...pt.heartbeats,...fe.heartbeats]})}})()}}function Lr(_e){return(0,ie.L)(JSON.stringify({version:2,heartbeats:_e})).length}!function mi(_e){kt(new q.wA("platform-logger",fe=>new Bt(fe),"PRIVATE")),kt(new q.wA("heartbeat",fe=>new En(fe),"PRIVATE")),Ln(hn,"0.9.9",_e),Ln(hn,"0.9.9","esm2017"),Ln("fire-js","")}("")},4859:(re,H,M)=>{M.d(H,{wA:()=>N,H0:()=>ne});var u=M(5861),q=M(2090);class N{constructor(V,U,Q){this.name=V,this.instanceFactory=U,this.type=Q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(V){return this.instantiationMode=V,this}setMultipleInstances(V){return this.multipleInstances=V,this}setServiceProps(V){return this.serviceProps=V,this}setInstanceCreatedCallback(V){return this.onInstanceCreated=V,this}}const ie="[DEFAULT]";class z{constructor(V,U){this.name=V,this.container=U,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(V){const U=this.normalizeInstanceIdentifier(V);if(!this.instancesDeferred.has(U)){const Q=new q.BH;if(this.instancesDeferred.set(U,Q),this.isInitialized(U)||this.shouldAutoInitialize())try{const Se=this.getOrInitializeService({instanceIdentifier:U});Se&&Q.resolve(Se)}catch(Se){}}return this.instancesDeferred.get(U).promise}getImmediate(V){var U;const Q=this.normalizeInstanceIdentifier(null==V?void 0:V.identifier),Se=null!==(U=null==V?void 0:V.optional)&&void 0!==U&&U;if(!this.isInitialized(Q)&&!this.shouldAutoInitialize()){if(Se)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Q})}catch(ve){if(Se)return null;throw ve}}getComponent(){return this.component}setComponent(V){if(V.name!==this.name)throw Error(`Mismatching Component ${V.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=V,this.shouldAutoInitialize()){if(function W(K){return"EAGER"===K.instantiationMode}(V))try{this.getOrInitializeService({instanceIdentifier:ie})}catch(U){}for(const[U,Q]of this.instancesDeferred.entries()){const Se=this.normalizeInstanceIdentifier(U);try{const ve=this.getOrInitializeService({instanceIdentifier:Se});Q.resolve(ve)}catch(ve){}}}}clearInstance(V=ie){this.instancesDeferred.delete(V),this.instancesOptions.delete(V),this.instances.delete(V)}delete(){var V=this;return(0,u.Z)(function*(){const U=Array.from(V.instances.values());yield Promise.all([...U.filter(Q=>"INTERNAL"in Q).map(Q=>Q.INTERNAL.delete()),...U.filter(Q=>"_delete"in Q).map(Q=>Q._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(V=ie){return this.instances.has(V)}getOptions(V=ie){return this.instancesOptions.get(V)||{}}initialize(V={}){const{options:U={}}=V,Q=this.normalizeInstanceIdentifier(V.instanceIdentifier);if(this.isInitialized(Q))throw Error(`${this.name}(${Q}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Se=this.getOrInitializeService({instanceIdentifier:Q,options:U});for(const[ve,Oe]of this.instancesDeferred.entries())Q===this.normalizeInstanceIdentifier(ve)&&Oe.resolve(Se);return Se}onInit(V,U){var Q;const Se=this.normalizeInstanceIdentifier(U),ve=null!==(Q=this.onInitCallbacks.get(Se))&&void 0!==Q?Q:new Set;ve.add(V),this.onInitCallbacks.set(Se,ve);const Oe=this.instances.get(Se);return Oe&&V(Oe,Se),()=>{ve.delete(V)}}invokeOnInitCallbacks(V,U){const Q=this.onInitCallbacks.get(U);if(Q)for(const Se of Q)try{Se(V,U)}catch(ve){}}getOrInitializeService({instanceIdentifier:V,options:U={}}){let Q=this.instances.get(V);if(!Q&&this.component&&(Q=this.component.instanceFactory(this.container,{instanceIdentifier:(K=V,K===ie?void 0:K),options:U}),this.instances.set(V,Q),this.instancesOptions.set(V,U),this.invokeOnInitCallbacks(Q,V),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,V,Q)}catch(Se){}var K;return Q||null}normalizeInstanceIdentifier(V=ie){return this.component?this.component.multipleInstances?V:ie:V}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ne{constructor(V){this.name=V,this.providers=new Map}addComponent(V){const U=this.getProvider(V.name);if(U.isComponentSet())throw new Error(`Component ${V.name} has already been registered with ${this.name}`);U.setComponent(V)}addOrOverwriteComponent(V){this.getProvider(V.name).isComponentSet()&&this.providers.delete(V.name),this.addComponent(V)}getProvider(V){if(this.providers.has(V))return this.providers.get(V);const U=new z(V,this);return this.providers.set(V,U),U}getProviders(){return Array.from(this.providers.values())}}},1877:(re,H,M)=>{M.d(H,{in:()=>q,Yd:()=>W,Ub:()=>ne,Am:()=>K});const u=[];var q=(()=>{return(V=q||(q={}))[V.DEBUG=0]="DEBUG",V[V.VERBOSE=1]="VERBOSE",V[V.INFO=2]="INFO",V[V.WARN=3]="WARN",V[V.ERROR=4]="ERROR",V[V.SILENT=5]="SILENT",q;var V})();const N={debug:q.DEBUG,verbose:q.VERBOSE,info:q.INFO,warn:q.WARN,error:q.ERROR,silent:q.SILENT},ie=q.INFO,z={[q.DEBUG]:"log",[q.VERBOSE]:"log",[q.INFO]:"info",[q.WARN]:"warn",[q.ERROR]:"error"},se=(V,U,...Q)=>{if(U<V.logLevel)return;const Se=(new Date).toISOString(),ve=z[U];if(!ve)throw new Error(`Attempted to log a message with an invalid logType (value: ${U})`);console[ve](`[${Se}]  ${V.name}:`,...Q)};class W{constructor(U){this.name=U,this._logLevel=ie,this._logHandler=se,this._userLogHandler=null,u.push(this)}get logLevel(){return this._logLevel}set logLevel(U){if(!(U in q))throw new TypeError(`Invalid value "${U}" assigned to \`logLevel\``);this._logLevel=U}setLogLevel(U){this._logLevel="string"==typeof U?N[U]:U}get logHandler(){return this._logHandler}set logHandler(U){if("function"!=typeof U)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=U}get userLogHandler(){return this._userLogHandler}set userLogHandler(U){this._userLogHandler=U}debug(...U){this._userLogHandler&&this._userLogHandler(this,q.DEBUG,...U),this._logHandler(this,q.DEBUG,...U)}log(...U){this._userLogHandler&&this._userLogHandler(this,q.VERBOSE,...U),this._logHandler(this,q.VERBOSE,...U)}info(...U){this._userLogHandler&&this._userLogHandler(this,q.INFO,...U),this._logHandler(this,q.INFO,...U)}warn(...U){this._userLogHandler&&this._userLogHandler(this,q.WARN,...U),this._logHandler(this,q.WARN,...U)}error(...U){this._userLogHandler&&this._userLogHandler(this,q.ERROR,...U),this._logHandler(this,q.ERROR,...U)}}function ne(V){u.forEach(U=>{U.setLogLevel(V)})}function K(V,U){for(const Q of u){let Se=null;U&&U.level&&(Se=N[U.level]),Q.userLogHandler=null===V?null:(ve,Oe,...je)=>{const ye=je.map(be=>{if(null==be)return null;if("string"==typeof be)return be;if("number"==typeof be||"boolean"==typeof be)return be.toString();if(be instanceof Error)return be.message;try{return JSON.stringify(be)}catch(Ke){return null}}).filter(be=>be).join(" ");Oe>=(null!=Se?Se:ve.logLevel)&&V({level:q[Oe].toLowerCase(),message:ye,args:je,type:ve.name})}}}},9565:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{FT:()=>StoreDevtoolsModule});var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5e3),_ngrx_store__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(5620),rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(515),rxjs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(8306),rxjs__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(9646),rxjs__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(6451),rxjs__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(233),rxjs__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(4707),rxjs_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3099),rxjs_operators__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(9300),rxjs_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(4004),rxjs_operators__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(4351),rxjs_operators__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(7414),rxjs_operators__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(8372),rxjs_operators__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(262),rxjs_operators__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(5698),rxjs_operators__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(2722),rxjs_operators__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(3900),rxjs_operators__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(5684),rxjs_operators__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(5363),rxjs_operators__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(1365),rxjs_operators__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(5026);class StoreDevtoolsConfig{constructor(){this.maxAge=!1}}const STORE_DEVTOOLS_CONFIG=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Options"),INITIAL_OPTIONS=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Initial Config");function noMonitor(){return null}const DEFAULT_NAME="NgRx Store DevTools";function createConfig(re){const H={maxAge:!1,monitor:noMonitor,actionSanitizer:void 0,stateSanitizer:void 0,name:DEFAULT_NAME,serialize:!1,logOnly:!1,autoPause:!1,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0}},M="function"==typeof re?re():re,N=Object.assign({},H,{features:M.features||!!M.logOnly&&{pause:!0,export:!0,test:!0}||H.features},M);if(N.maxAge&&N.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${N.maxAge}`);return N}const PERFORM_ACTION="PERFORM_ACTION",REFRESH="REFRESH",RESET="RESET",ROLLBACK="ROLLBACK",COMMIT="COMMIT",SWEEP="SWEEP",TOGGLE_ACTION="TOGGLE_ACTION",SET_ACTIONS_ACTIVE="SET_ACTIONS_ACTIVE",JUMP_TO_STATE="JUMP_TO_STATE",JUMP_TO_ACTION="JUMP_TO_ACTION",IMPORT_STATE="IMPORT_STATE",LOCK_CHANGES="LOCK_CHANGES",PAUSE_RECORDING="PAUSE_RECORDING";class PerformAction{constructor(H,M){if(this.action=H,this.timestamp=M,this.type=PERFORM_ACTION,void 0===H.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}}class Refresh{constructor(){this.type=REFRESH}}class Reset{constructor(H){this.timestamp=H,this.type=RESET}}class Rollback{constructor(H){this.timestamp=H,this.type=ROLLBACK}}class Commit{constructor(H){this.timestamp=H,this.type=COMMIT}}class Sweep{constructor(){this.type=SWEEP}}class ToggleAction{constructor(H){this.id=H,this.type=TOGGLE_ACTION}}class SetActionsActive{constructor(H,M,u=!0){this.start=H,this.end=M,this.active=u,this.type=SET_ACTIONS_ACTIVE}}class JumpToState{constructor(H){this.index=H,this.type=JUMP_TO_STATE}}class JumpToAction{constructor(H){this.actionId=H,this.type=JUMP_TO_ACTION}}class ImportState{constructor(H){this.nextLiftedState=H,this.type=IMPORT_STATE}}class LockChanges{constructor(H){this.status=H,this.type=LOCK_CHANGES}}class PauseRecording{constructor(H){this.status=H,this.type=PAUSE_RECORDING}}function difference(re,H){return re.filter(M=>H.indexOf(M)<0)}function unliftState(re){const{computedStates:H,currentStateIndex:M}=re;if(M>=H.length){const{state:q}=H[H.length-1];return q}const{state:u}=H[M];return u}function unliftAction(re){return re.actionsById[re.nextActionId-1]}function liftAction(re){return new PerformAction(re,+Date.now())}function sanitizeActions(re,H){return Object.keys(H).reduce((M,u)=>{const q=Number(u);return M[q]=sanitizeAction(re,H[q],q),M},{})}function sanitizeAction(re,H,M){return Object.assign(Object.assign({},H),{action:re(H.action,M)})}function sanitizeStates(re,H){return H.map((M,u)=>({state:sanitizeState(re,M.state,u),error:M.error}))}function sanitizeState(re,H,M){return re(H,M)}function shouldFilterActions(re){return re.predicate||re.actionsSafelist||re.actionsBlocklist}function filterLiftedState(re,H,M,u){const q=[],N={},ie=[];return re.stagedActionIds.forEach((z,se)=>{const W=re.actionsById[z];!W||se&&isActionFiltered(re.computedStates[se],W,H,M,u)||(N[z]=W,q.push(z),ie.push(re.computedStates[se]))}),Object.assign(Object.assign({},re),{stagedActionIds:q,actionsById:N,computedStates:ie})}function isActionFiltered(re,H,M,u,q){const N=M&&!M(re,H.action),ie=u&&!H.action.type.match(u.map(se=>escapeRegExp(se)).join("|")),z=q&&H.action.type.match(q.map(se=>escapeRegExp(se)).join("|"));return N||ie||z}function escapeRegExp(re){return re.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}const INIT_ACTION={type:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg},RECOMPUTE="@ngrx/store-devtools/recompute",RECOMPUTE_ACTION={type:RECOMPUTE};function computeNextEntry(re,H,M,u,q){if(u)return{state:M,error:"Interrupted by an error up the chain"};let ie,N=M;try{N=re(M,H)}catch(z){ie=z.toString(),q.handleError(z)}return{state:N,error:ie}}function recomputeStates(re,H,M,u,q,N,ie,z,se){if(H>=re.length&&re.length===N.length)return re;const W=re.slice(0,H),ne=N.length-(se?1:0);for(let K=H;K<ne;K++){const V=N[K],U=q[V].action,Q=W[K-1],Se=Q?Q.state:u,ve=Q?Q.error:void 0,je=ie.indexOf(V)>-1?Q:computeNextEntry(M,U,Se,ve,z);W.push(je)}return se&&W.push(re[re.length-1]),W}function liftInitialState(re,H){return{monitorState:H(void 0,{}),nextActionId:1,actionsById:{0:liftAction(INIT_ACTION)},stagedActionIds:[0],skippedActionIds:[],committedState:re,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function liftReducerWith(re,H,M,u,q={}){return N=>(ie,z)=>{let{monitorState:se,actionsById:W,nextActionId:ne,stagedActionIds:K,skippedActionIds:V,committedState:U,currentStateIndex:Q,computedStates:Se,isLocked:ve,isPaused:Oe}=ie||H;function je(Ke){let qe=Ke,Re=K.slice(1,qe+1);for(let Ee=0;Ee<Re.length;Ee++){if(Se[Ee+1].error){qe=Ee,Re=K.slice(1,qe+1);break}delete W[Re[Ee]]}V=V.filter(Ee=>-1===Re.indexOf(Ee)),K=[0,...K.slice(qe+1)],U=Se[qe].state,Se=Se.slice(qe),Q=Q>qe?Q-qe:0}function ye(){W={0:liftAction(INIT_ACTION)},ne=1,K=[0],V=[],U=Se[Q].state,Q=0,Se=[]}ie||(W=Object.create(W));let be=0;switch(z.type){case LOCK_CHANGES:ve=z.status,be=1/0;break;case PAUSE_RECORDING:Oe=z.status,Oe?(K=[...K,ne],W[ne]=new PerformAction({type:"@ngrx/devtools/pause"},+Date.now()),ne++,be=K.length-1,Se=Se.concat(Se[Se.length-1]),Q===K.length-2&&Q++,be=1/0):ye();break;case RESET:W={0:liftAction(INIT_ACTION)},ne=1,K=[0],V=[],U=re,Q=0,Se=[];break;case COMMIT:ye();break;case ROLLBACK:W={0:liftAction(INIT_ACTION)},ne=1,K=[0],V=[],Q=0,Se=[];break;case TOGGLE_ACTION:{const{id:Ke}=z;V=-1===V.indexOf(Ke)?[Ke,...V]:V.filter(Re=>Re!==Ke),be=K.indexOf(Ke);break}case SET_ACTIONS_ACTIVE:{const{start:Ke,end:qe,active:Re}=z,Ee=[];for(let De=Ke;De<qe;De++)Ee.push(De);V=Re?difference(V,Ee):[...V,...Ee],be=K.indexOf(Ke);break}case JUMP_TO_STATE:Q=z.index,be=1/0;break;case JUMP_TO_ACTION:{const Ke=K.indexOf(z.actionId);-1!==Ke&&(Q=Ke),be=1/0;break}case SWEEP:K=difference(K,V),V=[],Q=Math.min(Q,K.length-1);break;case PERFORM_ACTION:{if(ve)return ie||H;if(Oe||ie&&isActionFiltered(ie.computedStates[Q],z,q.predicate,q.actionsSafelist,q.actionsBlocklist)){const qe=Se[Se.length-1];Se=[...Se.slice(0,-1),computeNextEntry(N,z.action,qe.state,qe.error,M)],be=1/0;break}q.maxAge&&K.length===q.maxAge&&je(1),Q===K.length-1&&Q++;const Ke=ne++;W[Ke]=z,K=[...K,Ke],be=K.length-1;break}case IMPORT_STATE:({monitorState:se,actionsById:W,nextActionId:ne,stagedActionIds:K,skippedActionIds:V,committedState:U,currentStateIndex:Q,computedStates:Se,isLocked:ve,isPaused:Oe}=z.nextLiftedState);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg:be=0,q.maxAge&&K.length>q.maxAge&&(Se=recomputeStates(Se,be,N,U,W,K,V,M,Oe),je(K.length-q.maxAge),be=1/0);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb:if(Se.filter(qe=>qe.error).length>0)be=0,q.maxAge&&K.length>q.maxAge&&(Se=recomputeStates(Se,be,N,U,W,K,V,M,Oe),je(K.length-q.maxAge),be=1/0);else{if(!Oe&&!ve){Q===K.length-1&&Q++;const qe=ne++;W[qe]=new PerformAction(z,+Date.now()),K=[...K,qe],be=K.length-1,Se=recomputeStates(Se,be,N,U,W,K,V,M,Oe)}Se=Se.map(qe=>Object.assign(Object.assign({},qe),{state:N(qe.state,RECOMPUTE_ACTION)})),Q=K.length-1,q.maxAge&&K.length>q.maxAge&&je(K.length-q.maxAge),be=1/0}break;default:be=1/0}return Se=recomputeStates(Se,be,N,U,W,K,V,M,Oe),se=u(se,z),{monitorState:se,actionsById:W,nextActionId:ne,stagedActionIds:K,skippedActionIds:V,committedState:U,currentStateIndex:Q,computedStates:Se,isLocked:ve,isPaused:Oe}}}let DevtoolsDispatcher=(()=>{class re extends _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO{}return re.\u0275fac=function(){let H;return function(u){return(H||(H=_angular_core__WEBPACK_IMPORTED_MODULE_0__.n5z(re)))(u||re)}}(),re.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:re,factory:re.\u0275fac}),re})();const ExtensionActionTypes={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},REDUX_DEVTOOLS_EXTENSION=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Redux Devtools Extension");let DevtoolsExtension=(()=>{class DevtoolsExtension{constructor(re,H,M){this.config=H,this.dispatcher=M,this.devtoolsExtension=re,this.createActionStreams()}notify(re,H){if(this.devtoolsExtension)if(re.type===PERFORM_ACTION){if(H.isLocked||H.isPaused)return;const M=unliftState(H);if(shouldFilterActions(this.config)&&isActionFiltered(M,re,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;const u=this.config.stateSanitizer?sanitizeState(this.config.stateSanitizer,M,H.currentStateIndex):M,q=this.config.actionSanitizer?sanitizeAction(this.config.actionSanitizer,re,H.nextActionId):re;this.sendToReduxDevtools(()=>this.extensionConnection.send(q,u))}else{const M=Object.assign(Object.assign({},H),{stagedActionIds:H.stagedActionIds,actionsById:this.config.actionSanitizer?sanitizeActions(this.config.actionSanitizer,H.actionsById):H.actionsById,computedStates:this.config.stateSanitizer?sanitizeStates(this.config.stateSanitizer,H.computedStates):H.computedStates});this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,M,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new rxjs__WEBPACK_IMPORTED_MODULE_3__.y(re=>{const H=this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=H,H.init(),H.subscribe(M=>re.next(M)),H.unsubscribe}):rxjs__WEBPACK_IMPORTED_MODULE_2__.E}createActionStreams(){const re=this.createChangesObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.B)()),H=re.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(z=>z.type===ExtensionActionTypes.START)),M=re.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(z=>z.type===ExtensionActionTypes.STOP)),u=re.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(z=>z.type===ExtensionActionTypes.DISPATCH),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(z=>this.unwrapAction(z.payload)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.b)(z=>z.type===IMPORT_STATE?this.dispatcher.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(se=>se.type===_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.V)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.b)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(()=>z),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.K)(()=>(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(z)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.q)(1)):(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(z))),N=re.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(z=>z.type===ExtensionActionTypes.ACTION),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(z=>this.unwrapAction(z.payload))).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(M)),ie=u.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(M));this.start$=H.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(M)),this.actions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>N)),this.liftedActions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>ie))}unwrapAction(action){return"string"==typeof action?eval(`(${action})`):action}getExtensionConfig(re){var H;const M={name:re.name,features:re.features,serialize:re.serialize,autoPause:null!==(H=re.autoPause)&&void 0!==H&&H};return!1!==re.maxAge&&(M.maxAge=re.maxAge),M}sendToReduxDevtools(re){try{re()}catch(H){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",H)}}}return DevtoolsExtension.\u0275fac=function re(H){return new(H||DevtoolsExtension)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(REDUX_DEVTOOLS_EXTENSION),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher))},DevtoolsExtension.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:DevtoolsExtension,factory:DevtoolsExtension.\u0275fac}),DevtoolsExtension})(),StoreDevtools=(()=>{class re{constructor(M,u,q,N,ie,z,se,W){const ne=liftInitialState(se,W.monitor),K=liftReducerWith(se,ne,z,W.monitor,W),V=(0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)((0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)(u.asObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.T)(1)),N.actions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(liftAction)),M,N.liftedActions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.Q)(rxjs__WEBPACK_IMPORTED_MODULE_18__.N)),U=q.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(K)),Q=new rxjs__WEBPACK_IMPORTED_MODULE_19__.t(1),Se=V.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_20__.M)(U),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_21__.R)(({state:ye},[be,Ke])=>{let qe=Ke(ye,be);return be.type!==PERFORM_ACTION&&shouldFilterActions(W)&&(qe=filterLiftedState(qe,W.predicate,W.actionsSafelist,W.actionsBlocklist)),N.notify(be,qe),{state:qe,action:be}},{state:ne,action:null})).subscribe(({state:ye,action:be})=>{Q.next(ye),be.type===PERFORM_ACTION&&ie.next(be.action)}),ve=N.start$.subscribe(()=>{this.refresh()}),Oe=Q.asObservable(),je=Oe.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(unliftState));this.extensionStartSubscription=ve,this.stateSubscription=Se,this.dispatcher=M,this.liftedState=Oe,this.state=je}dispatch(M){this.dispatcher.next(M)}next(M){this.dispatcher.next(M)}error(M){}complete(){}performAction(M){this.dispatch(new PerformAction(M,+Date.now()))}refresh(){this.dispatch(new Refresh)}reset(){this.dispatch(new Reset(+Date.now()))}rollback(){this.dispatch(new Rollback(+Date.now()))}commit(){this.dispatch(new Commit(+Date.now()))}sweep(){this.dispatch(new Sweep)}toggleAction(M){this.dispatch(new ToggleAction(M))}jumpToAction(M){this.dispatch(new JumpToAction(M))}jumpToState(M){this.dispatch(new JumpToState(M))}importState(M){this.dispatch(new ImportState(M))}lockChanges(M){this.dispatch(new LockChanges(M))}pauseRecording(M){this.dispatch(new PauseRecording(M))}}return re.\u0275fac=function(M){return new(M||re)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.n$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsExtension),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_angular_core__WEBPACK_IMPORTED_MODULE_0__.qLn),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y6),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG))},re.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:re,factory:re.\u0275fac}),re})();const IS_EXTENSION_OR_MONITOR_PRESENT=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function createIsExtensionOrMonitorPresent(re,H){return Boolean(re)||H.monitor!==noMonitor}function createReduxDevtoolsExtension(){const re="__REDUX_DEVTOOLS_EXTENSION__";return"object"==typeof window&&void 0!==window[re]?window[re]:null}function createStateObservable(re){return re.state}let StoreDevtoolsModule=(()=>{class re{static instrument(M={}){return{ngModule:re,providers:[DevtoolsExtension,DevtoolsDispatcher,StoreDevtools,{provide:INITIAL_OPTIONS,useValue:M},{provide:IS_EXTENSION_OR_MONITOR_PRESENT,deps:[REDUX_DEVTOOLS_EXTENSION,STORE_DEVTOOLS_CONFIG],useFactory:createIsExtensionOrMonitorPresent},{provide:REDUX_DEVTOOLS_EXTENSION,useFactory:createReduxDevtoolsExtension},{provide:STORE_DEVTOOLS_CONFIG,deps:[INITIAL_OPTIONS],useFactory:createConfig},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.FR,deps:[StoreDevtools],useFactory:createStateObservable},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.mK,useExisting:DevtoolsDispatcher}]}}}return re.\u0275fac=function(M){return new(M||re)},re.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oAB({type:re}),re.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_0__.cJS({}),re})()},5620:(re,H,M)=>{M.d(H,{UO:()=>Xe,qg:()=>De,Y6:()=>At,mK:()=>It,n$:()=>qs,Y$:()=>Ws,FR:()=>qn,yh:()=>Nt,CK:()=>wn,Aw:()=>Cs,cr:()=>sr,wb:()=>mo,qC:()=>nr,PH:()=>ve,Lq:()=>An,P1:()=>Pe,on:()=>Br,Ky:()=>Oe,Ys:()=>kt});var u=M(5e3),q=M(1135),N=M(8306),ie=M(7579),z=M(233),se=M(4004),ne=M(5363),K=M(1365),V=M(5026),U=M(1884);const Q={};function ve($,we){if(Q[$]=(Q[$]||0)+1,"function"==typeof we)return ye($,(...Ce)=>Object.assign(Object.assign({},we(...Ce)),{type:$}));switch(we?we._as:"empty"){case"empty":return ye($,()=>({type:$}));case"props":return ye($,Ce=>Object.assign(Object.assign({},Ce),{type:$}));default:throw new Error("Unexpected config.")}}function Oe(){return{_as:"props",_p:void 0}}function ye($,we){return Object.defineProperty(we,"type",{value:$,writable:!1})}const De="@ngrx/store/init";let Xe=(()=>{class $ extends q.X{constructor(){super({type:De})}next(ae){if("function"==typeof ae)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(void 0===ae)throw new TypeError("Actions must be objects");if(void 0===ae.type)throw new TypeError("Actions must have a type property");super.next(ae)}complete(){}ngOnDestroy(){super.complete()}}return $.\u0275fac=function(ae){return new(ae||$)},$.\u0275prov=u.Yz7({token:$,factory:$.\u0275fac}),$})();const Qe=[Xe],bt=new u.OlP("@ngrx/store Internal Root Guard"),me=new u.OlP("@ngrx/store Internal Initial State"),At=new u.OlP("@ngrx/store Initial State"),Bt=new u.OlP("@ngrx/store Reducer Factory"),Dt=new u.OlP("@ngrx/store Internal Reducer Factory Provider"),hn=new u.OlP("@ngrx/store Initial Reducers"),le=new u.OlP("@ngrx/store Internal Initial Reducers"),xe=new u.OlP("@ngrx/store Store Features"),Le=new u.OlP("@ngrx/store Internal Store Reducers"),He=new u.OlP("@ngrx/store Internal Feature Reducers"),Ge=new u.OlP("@ngrx/store Internal Feature Configs"),Fe=new u.OlP("@ngrx/store Internal Store Features"),Rt=new u.OlP("@ngrx/store Internal Feature Reducers Token"),mn=new u.OlP("@ngrx/store Feature Reducers"),Gt=new u.OlP("@ngrx/store User Provided Meta Reducers"),Ze=new u.OlP("@ngrx/store Meta Reducers"),Qt=new u.OlP("@ngrx/store Internal Resolved Meta Reducers"),yn=new u.OlP("@ngrx/store User Runtime Checks Config"),zt=new u.OlP("@ngrx/store Internal User Runtime Checks Config"),vn=new u.OlP("@ngrx/store Internal Runtime Checks"),Gn=new u.OlP("@ngrx/store Check if Action types are unique");function gr($,we={}){const ae=Object.keys($),Ce={};for(let Ye=0;Ye<ae.length;Ye++){const jt=ae[Ye];"function"==typeof $[jt]&&(Ce[jt]=$[jt])}const Je=Object.keys(Ce);return function(jt,or){jt=void 0===jt?we:jt;let Cn=!1;const Er={};for(let Jt=0;Jt<Je.length;Jt++){const ii=Je[Jt],jl=jt[ii],Kr=(0,Ce[ii])(jl,or);Er[ii]=Kr,Cn=Cn||Kr!==jl}return Cn?Er:jt}}function nr(...$){return function(we){if(0===$.length)return we;const ae=$[$.length-1];return $.slice(0,-1).reduceRight((Je,Ye)=>Ye(Je),ae(we))}}function Ji($,we){return Array.isArray(we)&&we.length>0&&($=nr.apply(null,[...we,$])),(ae,Ce)=>{const Je=$(ae);return(Ye,jt)=>Je(Ye=void 0===Ye?Ce:Ye,jt)}}class qs extends N.y{}class It extends Xe{}const mo="@ngrx/store/update-reducers";let Pn=(()=>{class $ extends q.X{constructor(ae,Ce,Je,Ye){super(Ye(Je,Ce)),this.dispatcher=ae,this.initialState=Ce,this.reducers=Je,this.reducerFactory=Ye}get currentReducers(){return this.reducers}addFeature(ae){this.addFeatures([ae])}addFeatures(ae){const Ce=ae.reduce((Je,{reducers:Ye,reducerFactory:jt,metaReducers:or,initialState:Cn,key:Er})=>{const Jt="function"==typeof Ye?function Mi($){const we=Array.isArray($)&&$.length>0?nr(...$):ae=>ae;return(ae,Ce)=>(ae=we(ae),(Je,Ye)=>ae(Je=void 0===Je?Ce:Je,Ye))}(or)(Ye,Cn):Ji(jt,or)(Ye,Cn);return Je[Er]=Jt,Je},{});this.addReducers(Ce)}removeFeature(ae){this.removeFeatures([ae])}removeFeatures(ae){this.removeReducers(ae.map(Ce=>Ce.key))}addReducer(ae,Ce){this.addReducers({[ae]:Ce})}addReducers(ae){this.reducers=Object.assign(Object.assign({},this.reducers),ae),this.updateReducers(Object.keys(ae))}removeReducer(ae){this.removeReducers([ae])}removeReducers(ae){ae.forEach(Ce=>{this.reducers=function ni($,we){return Object.keys($).filter(ae=>ae!==we).reduce((ae,Ce)=>Object.assign(ae,{[Ce]:$[Ce]}),{})}(this.reducers,Ce)}),this.updateReducers(ae)}updateReducers(ae){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:mo,features:ae})}ngOnDestroy(){this.complete()}}return $.\u0275fac=function(ae){return new(ae||$)(u.LFG(It),u.LFG(At),u.LFG(hn),u.LFG(Bt))},$.\u0275prov=u.Yz7({token:$,factory:$.\u0275fac}),$})();const rr=[Pn,{provide:qs,useExisting:Pn},{provide:It,useExisting:Xe}];let Ws=(()=>{class $ extends ie.x{ngOnDestroy(){this.complete()}}return $.\u0275fac=function(){let we;return function(Ce){return(we||(we=u.n5z($)))(Ce||$)}}(),$.\u0275prov=u.Yz7({token:$,factory:$.\u0275fac}),$})();const _a=[Ws];class qn extends N.y{}let ur=(()=>{class $ extends q.X{constructor(ae,Ce,Je,Ye){super(Ye);const Er=ae.pipe((0,ne.Q)(z.N)).pipe((0,K.M)(Ce)).pipe((0,V.R)(_r,{state:Ye}));this.stateSubscription=Er.subscribe(({state:Jt,action:ii})=>{this.next(Jt),Je.next(ii)})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}}return $.INIT=De,$.\u0275fac=function(ae){return new(ae||$)(u.LFG(Xe),u.LFG(qs),u.LFG(Ws),u.LFG(At))},$.\u0275prov=u.Yz7({token:$,factory:$.\u0275fac}),$})();function _r($={state:void 0},[we,ae]){const{state:Ce}=$;return{state:ae(Ce,we),action:we}}const ri=[ur,{provide:qn,useExisting:ur}];let Nt=(()=>{class $ extends N.y{constructor(ae,Ce,Je){super(),this.actionsObserver=Ce,this.reducerManager=Je,this.source=ae}select(ae,...Ce){return kt.call(null,ae,...Ce)(this)}lift(ae){const Ce=new $(this,this.actionsObserver,this.reducerManager);return Ce.operator=ae,Ce}dispatch(ae){this.actionsObserver.next(ae)}next(ae){this.actionsObserver.next(ae)}error(ae){this.actionsObserver.error(ae)}complete(){this.actionsObserver.complete()}addReducer(ae,Ce){this.reducerManager.addReducer(ae,Ce)}removeReducer(ae){this.reducerManager.removeReducer(ae)}}return $.\u0275fac=function(ae){return new(ae||$)(u.LFG(qn),u.LFG(Xe),u.LFG(Pn))},$.\u0275prov=u.Yz7({token:$,factory:$.\u0275fac}),$})();const wt=[Nt];function kt($,we,...ae){return function(Je){let Ye;if("string"==typeof $){const jt=[we,...ae].filter(Boolean);Ye=Je.pipe(function W(...$){const we=$.length;if(0===we)throw new Error("list of properties cannot be empty.");return(0,se.U)(ae=>{let Ce=ae;for(let Je=0;Je<we;Je++){const Ye=null==Ce?void 0:Ce[$[Je]];if(void 0===Ye)return;Ce=Ye}return Ce})}($,...jt))}else{if("function"!=typeof $)throw new TypeError(`Unexpected type '${typeof $}' in select operator, expected 'string' or 'function'`);Ye=Je.pipe((0,se.U)(jt=>$(jt,we)))}return Ye.pipe((0,U.x)())}}const Li="https://ngrx.io/guide/store/configuration/runtime-checks";function es($){return void 0===$}function Zt($){return null===$}function Fr($){return Array.isArray($)}function ts($){return"object"==typeof $&&null!==$}function yr($){return"function"==typeof $}function dr($,we){return $===we}function Y($,we,ae){for(let Ce=0;Ce<$.length;Ce++)if(!ae($[Ce],we[Ce]))return!0;return!1}function oe($,we=dr,ae=dr){let Ye,Ce=null,Je=null;return{memoized:function Er(){if(void 0!==Ye)return Ye.result;if(!Ce)return Je=$.apply(null,arguments),Ce=arguments,Je;if(!Y(arguments,Ce,we))return Je;const Jt=$.apply(null,arguments);return Ce=arguments,ae(Je,Jt)?Je:(Je=Jt,Jt)},reset:function jt(){Ce=null,Je=null},setResult:function or(Jt){Ye={result:Jt}},clearResult:function Cn(){Ye=void 0}}}function Pe(...$){return function ut($,we={stateFn:pe}){return function(...ae){let Ce=ae;if(Array.isArray(Ce[0])){const[Jt,...ii]=Ce;Ce=[...Jt,...ii]}const Je=Ce.slice(0,Ce.length-1),Ye=Ce[Ce.length-1],jt=Je.filter(Jt=>Jt.release&&"function"==typeof Jt.release),or=$(function(...Jt){return Ye.apply(null,Jt)}),Cn=oe(function(Jt,ii){return we.stateFn.apply(null,[Jt,Je,ii,or])});return Object.assign(Cn.memoized,{release:function Er(){Cn.reset(),or.reset(),jt.forEach(Jt=>Jt.release())},projector:or.memoized,setResult:Cn.setResult,clearResult:Cn.clearResult})}}(oe)(...$)}function pe($,we,ae,Ce){if(void 0===ae){const Ye=we.map(jt=>jt($));return Ce.memoized.apply(null,Ye)}const Je=we.map(Ye=>Ye($,ae));return Ce.memoized.apply(null,[...Je,ae])}function qt($){Object.freeze($);const we=yr($);return Object.getOwnPropertyNames($).forEach(ae=>{if(!ae.startsWith("\u0275")&&function Ln($,we){return Object.prototype.hasOwnProperty.call($,we)}($,ae)&&(!we||"caller"!==ae&&"callee"!==ae&&"arguments"!==ae)){const Ce=$[ae];(ts(Ce)||yr(Ce))&&!Object.isFrozen(Ce)&&qt(Ce)}}),$}function Wr($,we=[]){return(es($)||Zt($))&&0===we.length?{path:["root"],value:$}:Object.keys($).reduce((Ce,Je)=>{if(Ce)return Ce;const Ye=$[Je];return function On($){return yr($)&&$.hasOwnProperty("\u0275cmp")}(Ye)?Ce:!(es(Ye)||Zt(Ye)||function Pt($){return"number"==typeof $}(Ye)||function fi($){return"boolean"==typeof $}(Ye)||function Wn($){return"string"==typeof $}(Ye)||Fr(Ye))&&(function pi($){if(!function on($){return ts($)&&!Fr($)}($))return!1;const we=Object.getPrototypeOf($);return we===Object.prototype||null===we}(Ye)?Wr(Ye,[...we,Je]):{path:[...we,Je],value:Ye})},!1)}function Lr($,we){if(!1===$)return;const ae=$.path.join("."),Ce=new Error(`Detected unserializable ${we} at "${ae}". ${Li}#strict${we}serializability`);throw Ce.value=$.value,Ce.unserializablePath=ae,Ce}function _e($){return(0,u.X6Q)()?Object.assign({strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1},$):{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function fe({strictActionSerializability:$,strictStateSerializability:we}){return ae=>$||we?function vr($,we){return function(ae,Ce){we.action(Ce)&&Lr(Wr(Ce),"action");const Je=$(ae,Ce);return we.state()&&Lr(Wr(Je),"state"),Je}}(ae,{action:Ce=>$&&!Me(Ce),state:()=>we}):ae}function Be({strictActionImmutability:$,strictStateImmutability:we}){return ae=>$||we?function En($,we){return function(ae,Ce){const Je=we.action(Ce)?qt(Ce):Ce,Ye=$(ae,Je);return we.state()?qt(Ye):Ye}}(ae,{action:Ce=>$&&!Me(Ce),state:()=>we}):ae}function Me($){return $.type.startsWith("@ngrx")}function et({strictActionWithinNgZone:$}){return we=>$?function mi($,we){return function(ae,Ce){if(we.action(Ce)&&!u.R0b.isInAngularZone())throw new Error(`Action '${Ce.type}' running outside NgZone. ${Li}#strictactionwithinngzone`);return $(ae,Ce)}}(we,{action:ae=>$&&!Me(ae)}):we}function pt($){return[{provide:zt,useValue:$},{provide:yn,useFactory:Bn,deps:[zt]},{provide:vn,deps:[yn],useFactory:_e},{provide:Ze,multi:!0,deps:[vn],useFactory:Be},{provide:Ze,multi:!0,deps:[vn],useFactory:fe},{provide:Ze,multi:!0,deps:[vn],useFactory:et}]}function Wt(){return[{provide:Gn,multi:!0,deps:[vn],useFactory:cn}]}function Bn($){return $}function cn($){if(!$.strictActionTypeUniqueness)return;const we=Object.entries(Q).filter(([,ae])=>ae>1).map(([ae])=>ae);if(we.length)throw new Error(`Action types are registered more than once, ${we.map(ae=>`"${ae}"`).join(", ")}. ${Li}#strictactiontypeuniqueness`)}let sr=(()=>{class ${constructor(ae,Ce,Je,Ye,jt,or){}}return $.\u0275fac=function(ae){return new(ae||$)(u.LFG(Xe),u.LFG(qs),u.LFG(Ws),u.LFG(Nt),u.LFG(bt,8),u.LFG(Gn,8))},$.\u0275mod=u.oAB({type:$}),$.\u0275inj=u.cJS({}),$})(),wn=(()=>{class ${constructor(ae,Ce,Je,Ye,jt){this.features=ae,this.featureReducers=Ce,this.reducerManager=Je;const or=ae.map((Cn,Er)=>{const ii=Ce.shift()[Er];return Object.assign(Object.assign({},Cn),{reducers:ii,initialState:Sr(Cn.initialState)})});Je.addFeatures(or)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}}return $.\u0275fac=function(ae){return new(ae||$)(u.LFG(Fe),u.LFG(mn),u.LFG(Pn),u.LFG(sr),u.LFG(Gn,8))},$.\u0275mod=u.oAB({type:$}),$.\u0275inj=u.cJS({}),$})(),Cs=(()=>{class ${static forRoot(ae,Ce={}){return{ngModule:sr,providers:[{provide:bt,useFactory:Ds,deps:[[Nt,new u.FiY,new u.tp0]]},{provide:me,useValue:Ce.initialState},{provide:At,useFactory:Sr,deps:[me]},{provide:le,useValue:ae},{provide:Le,useExisting:ae instanceof u.OlP?ae:le},{provide:hn,deps:[u.zs3,le,[new u.tBr(Le)]],useFactory:go},{provide:Gt,useValue:Ce.metaReducers?Ce.metaReducers:[]},{provide:Qt,deps:[Ze,Gt],useFactory:zo},{provide:Dt,useValue:Ce.reducerFactory?Ce.reducerFactory:gr},{provide:Bt,deps:[Dt,Qt],useFactory:Ji},Qe,rr,_a,ri,wt,pt(Ce.runtimeChecks),Wt()]}}static forFeature(ae,Ce,Je={}){return{ngModule:wn,providers:[{provide:Ge,multi:!0,useValue:ae instanceof Object?{}:Je},{provide:xe,multi:!0,useValue:{key:ae instanceof Object?ae.name:ae,reducerFactory:Je instanceof u.OlP||!Je.reducerFactory?gr:Je.reducerFactory,metaReducers:Je instanceof u.OlP||!Je.metaReducers?[]:Je.metaReducers,initialState:Je instanceof u.OlP||!Je.initialState?void 0:Je.initialState}},{provide:Fe,deps:[u.zs3,Ge,xe],useFactory:Kt},{provide:He,multi:!0,useValue:ae instanceof Object?ae.reducer:Ce},{provide:Rt,multi:!0,useExisting:Ce instanceof u.OlP?Ce:He},{provide:mn,multi:!0,deps:[u.zs3,He,[new u.tBr(Rt)]],useFactory:Ho},Wt()]}}}return $.\u0275fac=function(ae){return new(ae||$)},$.\u0275mod=u.oAB({type:$}),$.\u0275inj=u.cJS({}),$})();function go($,we){return we instanceof u.OlP?$.get(we):we}function Kt($,we,ae){return ae.map((Ce,Je)=>{if(we[Je]instanceof u.OlP){const Ye=$.get(we[Je]);return{key:Ce.key,reducerFactory:Ye.reducerFactory?Ye.reducerFactory:gr,metaReducers:Ye.metaReducers?Ye.metaReducers:[],initialState:Ye.initialState}}return Ce})}function Ho($,we){return we.map(Ce=>Ce instanceof u.OlP?$.get(Ce):Ce)}function Sr($){return"function"==typeof $?$():$}function zo($,we){return $.concat(we)}function Ds($){if($)throw new TypeError("StoreModule.forRoot() called twice. Feature modules should use StoreModule.forFeature() instead.");return"guarded"}function Br(...$){return{reducer:$.pop(),types:$.map(Ce=>Ce.type)}}function An($,...we){const ae=new Map;for(const Ce of we)for(const Je of Ce.types){const Ye=ae.get(Je);ae.set(Je,Ye?(or,Cn)=>Ce.reducer(Ye(or,Cn),Cn):Ce.reducer)}return function(Ce=$,Je){const Ye=ae.get(Je.type);return Ye?Ye(Ce,Je):Ce}}},259:(re,H,M)=>{M.d(H,{Mq:()=>u.getApp,C6:()=>u.getApps});var u=M(6881);(0,u.registerVersion)("firebase","9.21.0","app")},9260:(re,H,M)=>{M.d(H,{Z:()=>u.Z});var u=M(3942);u.Z.registerVersion("firebase","9.21.0","app-compat")},3042:(re,H,M)=>{M.r(H);var u=M(5861),q=M(3942),N=M(2090),ie=M(6881),z=M(655),se=M(1877),W=M(4859);const Oe=function Se(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},je=function ve(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ye=new N.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ke=new se.Yd("@firebase/auth");function Re(y,...p){Ke.logLevel<=se.in.ERROR&&Ke.error(`Auth (${ie.SDK_VERSION}): ${y}`,...p)}function Ee(y,...p){throw bt(y,...p)}function De(y,...p){return bt(y,...p)}function Xe(y,p,m){const E=Object.assign(Object.assign({},je()),{[p]:m});return new N.LL("auth","Firebase",E).create(p,{appName:y.name})}function Qe(y,p,m){if(!(p instanceof m))throw m.name!==p.constructor.name&&Ee(y,"argument-error"),Xe(y,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function bt(y,...p){if("string"!=typeof y){const m=p[0],E=[...p.slice(1)];return E[0]&&(E[0].appName=y.name),y._errorFactory.create(m,...E)}return ye.create(y,...p)}function me(y,p,...m){if(!y)throw bt(p,...m)}function At(y){const p="INTERNAL ASSERTION FAILED: "+y;throw Re(p),new Error(p)}function Bt(y,p){y||At(p)}function Dt(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function hn(){return"http:"===le()||"https:"===le()}function le(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class He{constructor(p,m){this.shortDelay=p,this.longDelay=m,Bt(m>p,"Short delay should be less than long delay!"),this.isMobile=(0,N.uI)()||(0,N.b$)()}get(){return function xe(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(hn()||(0,N.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ge(y,p){Bt(y.emulator,"Emulator should always be set here");const{url:m}=y.emulator;return p?`${m}${p.startsWith("/")?p.slice(1):p}`:m}class Fe{static initialize(p,m,E){this.fetchImpl=p,m&&(this.headersImpl=m),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void At("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void At("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void At("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Rt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},mn=new He(3e4,6e4);function Gt(y,p){return y.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:y.tenantId}):p}function Ze(y,p,m,E){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,u.Z)(function*(y,p,m,E,S={}){return yn(y,S,(0,u.Z)(function*(){let P={},X={};E&&("GET"===p?X=E:P={body:JSON.stringify(E)});const ue=(0,N.xO)(Object.assign({key:y.config.apiKey},X)).slice(1),Ve=yield y._getAdditionalHeaders();return Ve["Content-Type"]="application/json",y.languageCode&&(Ve["X-Firebase-Locale"]=y.languageCode),Fe.fetch()(gr(y,y.config.apiHost,m,ue),Object.assign({method:p,headers:Ve,referrerPolicy:"no-referrer"},P))}))})).apply(this,arguments)}function yn(y,p,m){return zt.apply(this,arguments)}function zt(){return(zt=(0,u.Z)(function*(y,p,m){y._canInitEmulator=!1;const E=Object.assign(Object.assign({},Rt),p);try{const S=new ni(y),P=yield Promise.race([m(),S.promise]);S.clearNetworkTimeout();const X=yield P.json();if("needConfirmation"in X)throw nr(y,"account-exists-with-different-credential",X);if(P.ok&&!("errorMessage"in X))return X;{const ue=P.ok?X.errorMessage:X.error.message,[Ve,tt]=ue.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ve)throw nr(y,"credential-already-in-use",X);if("EMAIL_EXISTS"===Ve)throw nr(y,"email-already-in-use",X);if("USER_DISABLED"===Ve)throw nr(y,"user-disabled",X);const dt=E[Ve]||Ve.toLowerCase().replace(/[_\s]+/g,"-");if(tt)throw Xe(y,dt,tt);Ee(y,dt)}}catch(S){if(S instanceof N.ZR)throw S;Ee(y,"network-request-failed",{message:String(S)})}})).apply(this,arguments)}function vn(y,p,m,E){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,u.Z)(function*(y,p,m,E,S={}){const P=yield Ze(y,p,m,E,S);return"mfaPendingCredential"in P&&Ee(y,"multi-factor-auth-required",{_serverResponse:P}),P})).apply(this,arguments)}function gr(y,p,m,E){const S=`${p}${m}?${E}`;return y.config.emulator?Ge(y.config,S):`${y.config.apiScheme}://${S}`}class ni{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((m,E)=>{this.timer=setTimeout(()=>E(De(this.auth,"network-request-failed")),mn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function nr(y,p,m){const E={appName:y.name};m.email&&(E.email=m.email),m.phoneNumber&&(E.phoneNumber=m.phoneNumber);const S=De(y,p,E);return S.customData._tokenResponse=m,S}function Mi(){return(Mi=(0,u.Z)(function*(y,p){return Ze(y,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function qs(y,p){return It.apply(this,arguments)}function It(){return(It=(0,u.Z)(function*(y,p){return Ze(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function mo(y,p){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,u.Z)(function*(y,p){return Ze(y,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function rr(y){if(y)try{const p=new Date(Number(y));if(!isNaN(p.getTime()))return p.toUTCString()}catch(p){}}function qn(){return(qn=(0,u.Z)(function*(y,p=!1){const m=(0,N.m9)(y),E=yield m.getIdToken(p),S=_r(E);me(S&&S.exp&&S.auth_time&&S.iat,m.auth,"internal-error");const P="object"==typeof S.firebase?S.firebase:void 0,X=null==P?void 0:P.sign_in_provider;return{claims:S,token:E,authTime:rr(ur(S.auth_time)),issuedAtTime:rr(ur(S.iat)),expirationTime:rr(ur(S.exp)),signInProvider:X||null,signInSecondFactor:(null==P?void 0:P.sign_in_second_factor)||null}})).apply(this,arguments)}function ur(y){return 1e3*Number(y)}function _r(y){const[p,m,E]=y.split(".");if(void 0===p||void 0===m||void 0===E)return Re("JWT malformed, contained fewer than 3 sections"),null;try{const S=(0,N.tV)(m);return S?JSON.parse(S):(Re("Failed to decode base64 JWT payload"),null)}catch(S){return Re("Caught error parsing JWT payload as JSON",null==S?void 0:S.toString()),null}}function Nt(y,p){return wt.apply(this,arguments)}function wt(){return(wt=(0,u.Z)(function*(y,p,m=!1){if(m)return p;try{return yield p}catch(E){throw E instanceof N.ZR&&kt(E)&&y.auth.currentUser===y&&(yield y.auth.signOut()),E}})).apply(this,arguments)}function kt({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class Li{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var m;if(p){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const S=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,S)}}schedule(p=!1){var m=this;if(!this.isRunning)return;const E=this.getInterval(p);this.timerId=setTimeout((0,u.Z)(function*(){yield m.iteration()}),E)}iteration(){var p=this;return(0,u.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===(null==m?void 0:m.code)&&p.schedule(!0))}p.schedule()})()}}class es{constructor(p,m){this.createdAt=p,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=rr(this.lastLoginAt),this.creationTime=rr(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Zt(y){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,u.Z)(function*(y){var p;const m=y.auth,E=yield y.getIdToken(),S=yield Nt(y,mo(m,{idToken:E}));me(null==S?void 0:S.users.length,m,"internal-error");const P=S.users[0];y._notifyReloadListener(P);const X=(null===(p=P.providerUserInfo)||void 0===p?void 0:p.length)?ts(P.providerUserInfo):[],ue=Pt(y.providerData,X),dt=!!y.isAnonymous&&!(y.email&&P.passwordHash||(null==ue?void 0:ue.length)),ht={uid:P.localId,displayName:P.displayName||null,photoURL:P.photoUrl||null,email:P.email||null,emailVerified:P.emailVerified||!1,phoneNumber:P.phoneNumber||null,tenantId:P.tenantId||null,providerData:ue,metadata:new es(P.createdAt,P.lastLoginAt),isAnonymous:dt};Object.assign(y,ht)})).apply(this,arguments)}function fi(){return(fi=(0,u.Z)(function*(y){const p=(0,N.m9)(y);yield Zt(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function Pt(y,p){return[...y.filter(E=>!p.some(S=>S.providerId===E.providerId)),...p]}function ts(y){return y.map(p=>{var{providerId:m}=p,E=(0,z._T)(p,["providerId"]);return{providerId:m,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}function pi(){return(pi=(0,u.Z)(function*(y,p){const m=yield yn(y,{},(0,u.Z)(function*(){const E=(0,N.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:S,apiKey:P}=y.config,X=gr(y,S,"/v1/token",`key=${P}`),ue=yield y._getAdditionalHeaders();return ue["Content-Type"]="application/x-www-form-urlencoded",Fe.fetch()(X,{method:"POST",headers:ue,body:E})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class yr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){me(p.idToken,"internal-error"),me(void 0!==p.idToken,"internal-error"),me(void 0!==p.refreshToken,"internal-error");const m="expiresIn"in p&&void 0!==p.expiresIn?Number(p.expiresIn):function ri(y){const p=_r(y);return me(p,"internal-error"),me(void 0!==p.exp,"internal-error"),me(void 0!==p.iat,"internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,m)}getToken(p,m=!1){var E=this;return(0,u.Z)(function*(){return me(!E.accessToken||E.refreshToken,p,"user-token-expired"),m||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(p,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,m){var E=this;return(0,u.Z)(function*(){const{accessToken:S,refreshToken:P,expiresIn:X}=yield function on(y,p){return pi.apply(this,arguments)}(p,m);E.updateTokensAndExpiration(S,P,Number(X))})()}updateTokensAndExpiration(p,m,E){this.refreshToken=m||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(p,m){const{refreshToken:E,accessToken:S,expirationTime:P}=m,X=new yr;return E&&(me("string"==typeof E,"internal-error",{appName:p}),X.refreshToken=E),S&&(me("string"==typeof S,"internal-error",{appName:p}),X.accessToken=S),P&&(me("number"==typeof P,"internal-error",{appName:p}),X.expirationTime=P),X}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new yr,this.toJSON())}_performRefresh(){return At("not implemented")}}function On(y,p){me("string"==typeof y||void 0===y,"internal-error",{appName:p})}class Ln{constructor(p){var{uid:m,auth:E,stsTokenManager:S}=p,P=(0,z._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Li(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=E,this.stsTokenManager=S,this.accessToken=S.accessToken,this.displayName=P.displayName||null,this.email=P.email||null,this.emailVerified=P.emailVerified||!1,this.phoneNumber=P.phoneNumber||null,this.photoURL=P.photoURL||null,this.isAnonymous=P.isAnonymous||!1,this.tenantId=P.tenantId||null,this.providerData=P.providerData?[...P.providerData]:[],this.metadata=new es(P.createdAt||void 0,P.lastLoginAt||void 0)}getIdToken(p){var m=this;return(0,u.Z)(function*(){const E=yield Nt(m,m.stsTokenManager.getToken(m.auth,p));return me(E,m.auth,"internal-error"),m.accessToken!==E&&(m.accessToken=E,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),E})()}getIdTokenResult(p){return function _a(y){return qn.apply(this,arguments)}(this,p)}reload(){return function Wn(y){return fi.apply(this,arguments)}(this)}_assign(p){this!==p&&(me(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(m=>Object.assign({},m)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){const m=new Ln(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}));return m.metadata._copy(this.metadata),m}_onReload(p){me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,m=!1){var E=this;return(0,u.Z)(function*(){let S=!1;p.idToken&&p.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(p),S=!0),m&&(yield Zt(E)),yield E.auth._persistUserIfCurrent(E),S&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var p=this;return(0,u.Z)(function*(){const m=yield p.getIdToken();return yield Nt(p,function Ji(y,p){return Mi.apply(this,arguments)}(p.auth,{idToken:m})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,m){var E,S,P,X,ue,Ve,tt,dt;const ht=null!==(E=m.displayName)&&void 0!==E?E:void 0,Yn=null!==(S=m.email)&&void 0!==S?S:void 0,ro=null!==(P=m.phoneNumber)&&void 0!==P?P:void 0,Mu=null!==(X=m.photoURL)&&void 0!==X?X:void 0,zd=null!==(ue=m.tenantId)&&void 0!==ue?ue:void 0,$d=null!==(Ve=m._redirectEventId)&&void 0!==Ve?Ve:void 0,Gd=null!==(tt=m.createdAt)&&void 0!==tt?tt:void 0,Vf=null!==(dt=m.lastLoginAt)&&void 0!==dt?dt:void 0,{uid:Wa,emailVerified:xu,isAnonymous:Uf,providerData:Nc,stsTokenManager:jf}=m;me(Wa&&jf,p,"internal-error");const xm=yr.fromJSON(this.name,jf);me("string"==typeof Wa,p,"internal-error"),On(ht,p.name),On(Yn,p.name),me("boolean"==typeof xu,p,"internal-error"),me("boolean"==typeof Uf,p,"internal-error"),On(ro,p.name),On(Mu,p.name),On(zd,p.name),On($d,p.name),On(Gd,p.name),On(Vf,p.name);const Al=new Ln({uid:Wa,auth:p,email:Yn,emailVerified:xu,displayName:ht,isAnonymous:Uf,photoURL:Mu,phoneNumber:ro,tenantId:zd,stsTokenManager:xm,createdAt:Gd,lastLoginAt:Vf});return Nc&&Array.isArray(Nc)&&(Al.providerData=Nc.map(K_=>Object.assign({},K_))),$d&&(Al._redirectEventId=$d),Al}static _fromIdTokenResponse(p,m,E=!1){return(0,u.Z)(function*(){const S=new yr;S.updateFromServerResponse(m);const P=new Ln({uid:m.localId,auth:p,stsTokenManager:S,isAnonymous:E});return yield Zt(P),P})()}}const ns=new Map;function ir(y){Bt(y instanceof Function,"Expected a class definition");let p=ns.get(y);return p?(Bt(p instanceof y,"Instance stored in cache mismatched with class"),p):(p=new y,ns.set(y,p),p)}const dr=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,u.Z)(function*(){return!0})()}_set(m,E){var S=this;return(0,u.Z)(function*(){S.storage[m]=E})()}_get(m){var E=this;return(0,u.Z)(function*(){const S=E.storage[m];return void 0===S?null:S})()}_remove(m){var E=this;return(0,u.Z)(function*(){delete E.storage[m]})()}_addListener(m,E){}_removeListener(m,E){}}return y.type="NONE",y})();function Y(y,p,m){return`firebase:${y}:${p}:${m}`}class G{constructor(p,m,E){this.persistence=p,this.auth=m,this.userKey=E;const{config:S,name:P}=this.auth;this.fullUserKey=Y(this.userKey,S.apiKey,P),this.fullPersistenceKey=Y("persistence",S.apiKey,P),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,u.Z)(function*(){const m=yield p.persistence._get(p.fullUserKey);return m?Ln._fromJSON(p.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var m=this;return(0,u.Z)(function*(){if(m.persistence===p)return;const E=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=p,E?m.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,m,E="authUser"){return(0,u.Z)(function*(){if(!m.length)return new G(ir(dr),p,E);const S=(yield Promise.all(m.map(function(){var tt=(0,u.Z)(function*(dt){if(yield dt._isAvailable())return dt});return function(dt){return tt.apply(this,arguments)}}()))).filter(tt=>tt);let P=S[0]||ir(dr);const X=Y(E,p.config.apiKey,p.name);let ue=null;for(const tt of m)try{const dt=yield tt._get(X);if(dt){const ht=Ln._fromJSON(p,dt);tt!==P&&(ue=ht),P=tt;break}}catch(dt){}const Ve=S.filter(tt=>tt._shouldAllowMigration);return P._shouldAllowMigration&&Ve.length?(P=Ve[0],ue&&(yield P._set(X,ue.toJSON())),yield Promise.all(m.map(function(){var tt=(0,u.Z)(function*(dt){if(dt!==P)try{yield dt._remove(X)}catch(ht){}});return function(dt){return tt.apply(this,arguments)}}())),new G(P,p,E)):new G(P,p,E)})()}}function oe(y){const p=y.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(Vt(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(Pe(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(Nn(p))return"Blackberry";if(Sn(p))return"Webos";if(pe(p))return"Safari";if((p.includes("chrome/")||ut(p))&&!p.includes("edge/"))return"Chrome";if(Ft(p))return"Android";{const E=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==E?void 0:E.length))return E[1]}return"Other"}function Pe(y=(0,N.z$)()){return/firefox\//i.test(y)}function pe(y=(0,N.z$)()){const p=y.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function ut(y=(0,N.z$)()){return/crios\//i.test(y)}function Vt(y=(0,N.z$)()){return/iemobile/i.test(y)}function Ft(y=(0,N.z$)()){return/android/i.test(y)}function Nn(y=(0,N.z$)()){return/blackberry/i.test(y)}function Sn(y=(0,N.z$)()){return/webos/i.test(y)}function En(y=(0,N.z$)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function Lr(y=(0,N.z$)()){return En(y)||Ft(y)||Sn(y)||Nn(y)||/windows phone/i.test(y)||Vt(y)}function _e(y,p=[]){let m;switch(y){case"Browser":m=oe((0,N.z$)());break;case"Worker":m=`${oe((0,N.z$)())}-${y}`;break;default:m=y}const E=p.length?p.join(","):"FirebaseCore-web";return`${m}/JsCore/${ie.SDK_VERSION}/${E}`}function Be(){return(Be=(0,u.Z)(function*(y){return(yield Ze(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Me(y,p){return et.apply(this,arguments)}function et(){return(et=(0,u.Z)(function*(y,p){return Ze(y,"GET","/v2/recaptchaConfig",Gt(y,p))})).apply(this,arguments)}function pt(y){return void 0!==y&&void 0!==y.getResponse}function Wt(y){return void 0!==y&&void 0!==y.enterprise}class Bn{constructor(p){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===p.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=p.recaptchaKey.split("/")[3],this.emailPasswordEnabled=p.recaptchaEnforcementState.some(m=>"EMAIL_PASSWORD_PROVIDER"===m.provider&&"OFF"!==m.enforcementState)}}function sr(y){return new Promise((p,m)=>{const E=document.createElement("script");E.setAttribute("src",y),E.onload=p,E.onerror=S=>{const P=De("internal-error");P.customData=S,m(P)},E.type="text/javascript",E.charset="UTF-8",function cn(){var y,p;return null!==(p=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==p?p:document}().appendChild(E)})}function wn(y){return`__${y}${Math.floor(1e6*Math.random())}`}class Ho{constructor(p){this.type="recaptcha-enterprise",this.auth=An(p)}verify(p="verify",m=!1){var E=this;return(0,u.Z)(function*(){function P(){return P=(0,u.Z)(function*(ue){if(!m){if(null==ue.tenantId&&null!=ue._agentRecaptchaConfig)return ue._agentRecaptchaConfig.siteKey;if(null!=ue.tenantId&&void 0!==ue._tenantRecaptchaConfigs[ue.tenantId])return ue._tenantRecaptchaConfigs[ue.tenantId].siteKey}return new Promise(function(){var Ve=(0,u.Z)(function*(tt,dt){Me(ue,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(ht=>{if(void 0!==ht.recaptchaKey){const Yn=new Bn(ht);return null==ue.tenantId?ue._agentRecaptchaConfig=Yn:ue._tenantRecaptchaConfigs[ue.tenantId]=Yn,tt(Yn.siteKey)}dt(new Error("recaptcha Enterprise site key undefined"))}).catch(ht=>{dt(ht)})});return function(tt,dt){return Ve.apply(this,arguments)}}())}),P.apply(this,arguments)}function X(ue,Ve,tt){const dt=window.grecaptcha;Wt(dt)?dt.enterprise.ready(()=>{dt.enterprise.execute(ue,{action:p}).then(ht=>{Ve(ht)}).catch(()=>{Ve("NO_RECAPTCHA")})}):tt(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((ue,Ve)=>{(function S(ue){return P.apply(this,arguments)})(E.auth).then(tt=>{if(!m&&Wt(window.grecaptcha))X(tt,ue,Ve);else{if("undefined"==typeof window)return void Ve(new Error("RecaptchaVerifier is only supported in browser"));sr("https://www.google.com/recaptcha/enterprise.js?render="+tt).then(()=>{X(tt,ue,Ve)}).catch(dt=>{Ve(dt)})}}).catch(tt=>{Ve(tt)})})})()}}function Sr(y,p,m){return zo.apply(this,arguments)}function zo(){return(zo=(0,u.Z)(function*(y,p,m,E=!1){const S=new Ho(y);let P;try{P=yield S.verify(m)}catch(ue){P=yield S.verify(m,!0)}const X=Object.assign({},p);return Object.assign(X,E?{captchaResp:P}:{captchaResponse:P}),Object.assign(X,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(X,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),X})).apply(this,arguments)}class Ds{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,m){const E=P=>new Promise((X,ue)=>{try{X(p(P))}catch(Ve){ue(Ve)}});E.onAbort=m,this.queue.push(E);const S=this.queue.length-1;return()=>{this.queue[S]=()=>Promise.resolve()}}runMiddleware(p){var m=this;return(0,u.Z)(function*(){if(m.auth.currentUser===p)return;const E=[];try{for(const S of m.queue)yield S(p),S.onAbort&&E.push(S.onAbort)}catch(S){E.reverse();for(const P of E)try{P()}catch(X){}throw m.auth._errorFactory.create("login-blocked",{originalMessage:null==S?void 0:S.message})}})()}}class Br{constructor(p,m,E,S){this.app=p,this.heartbeatServiceProvider=m,this.appCheckServiceProvider=E,this.config=S,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $(this),this.idTokenSubscription=new $(this),this.beforeStateQueue=new Ds(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ye,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=S.sdkClientVersion}_initializeWithPersistence(p,m){var E=this;return m&&(this._popupRedirectResolver=ir(m)),this._initializationPromise=this.queue((0,u.Z)(function*(){var S,P;if(!E._deleted&&(E.persistenceManager=yield G.create(E,p),!E._deleted)){if(null===(S=E._popupRedirectResolver)||void 0===S?void 0:S._shouldInitProactively)try{yield E._popupRedirectResolver._initialize(E)}catch(X){}yield E.initializeCurrentUser(m),E.lastNotifiedUid=(null===(P=E.currentUser)||void 0===P?void 0:P.uid)||null,!E._deleted&&(E._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,u.Z)(function*(){if(p._deleted)return;const m=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||m){if(p.currentUser&&m&&p.currentUser.uid===m.uid)return p._currentUser._assign(m),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(m,!0)}})()}initializeCurrentUser(p){var m=this;return(0,u.Z)(function*(){var E;const S=yield m.assertedPersistence.getCurrentUser();let P=S,X=!1;if(p&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const ue=null===(E=m.redirectUser)||void 0===E?void 0:E._redirectEventId,Ve=null==P?void 0:P._redirectEventId,tt=yield m.tryRedirectSignIn(p);(!ue||ue===Ve)&&(null==tt?void 0:tt.user)&&(P=tt.user,X=!0)}if(!P)return m.directlySetCurrentUser(null);if(!P._redirectEventId){if(X)try{yield m.beforeStateQueue.runMiddleware(P)}catch(ue){P=S,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(ue))}return P?m.reloadAndSetCurrentUserOrClear(P):m.directlySetCurrentUser(null)}return me(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===P._redirectEventId?m.directlySetCurrentUser(P):m.reloadAndSetCurrentUserOrClear(P)})()}tryRedirectSignIn(p){var m=this;return(0,u.Z)(function*(){let E=null;try{E=yield m._popupRedirectResolver._completeRedirectFn(m,p,!0)}catch(S){yield m._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(p){var m=this;return(0,u.Z)(function*(){try{yield Zt(p)}catch(E){if("auth/network-request-failed"!==(null==E?void 0:E.code))return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function Le(){if("undefined"==typeof navigator)return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var p=this;return(0,u.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var m=this;return(0,u.Z)(function*(){const E=p?(0,N.m9)(p):null;return E&&me(E.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(E&&E._clone(m))})()}_updateCurrentUser(p,m=!1){var E=this;return(0,u.Z)(function*(){if(!E._deleted)return p&&me(E.tenantId===p.tenantId,E,"tenant-id-mismatch"),m||(yield E.beforeStateQueue.runMiddleware(p)),E.queue((0,u.Z)(function*(){yield E.directlySetCurrentUser(p),E.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,u.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var m=this;return this.queue((0,u.Z)(function*(){yield m.assertedPersistence.setPersistence(ir(p))}))}initializeRecaptchaConfig(){var p=this;return(0,u.Z)(function*(){const m=yield Me(p,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),E=new Bn(m);null==p.tenantId?p._agentRecaptchaConfig=E:p._tenantRecaptchaConfigs[p.tenantId]=E,E.emailPasswordEnabled&&new Ho(p).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new N.LL("auth","Firebase",p())}onAuthStateChanged(p,m,E){return this.registerStateListener(this.authStateSubscription,p,m,E)}beforeAuthStateChanged(p,m){return this.beforeStateQueue.pushCallback(p,m)}onIdTokenChanged(p,m,E){return this.registerStateListener(this.idTokenSubscription,p,m,E)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,m){var E=this;return(0,u.Z)(function*(){const S=yield E.getOrInitRedirectPersistenceManager(m);return null===p?S.removeCurrentUser():S.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var m=this;return(0,u.Z)(function*(){if(!m.redirectPersistenceManager){const E=p&&ir(p)||m._popupRedirectResolver;me(E,m,"argument-error"),m.redirectPersistenceManager=yield G.create(m,[ir(E._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(p){var m=this;return(0,u.Z)(function*(){var E,S;return m._isInitialized&&(yield m.queue((0,u.Z)(function*(){}))),(null===(E=m._currentUser)||void 0===E?void 0:E._redirectEventId)===p?m._currentUser:(null===(S=m.redirectUser)||void 0===S?void 0:S._redirectEventId)===p?m.redirectUser:null})()}_persistUserIfCurrent(p){var m=this;return(0,u.Z)(function*(){if(p===m.currentUser)return m.queue((0,u.Z)(function*(){return m.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(m=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,m,E,S){if(this._deleted)return()=>{};const P="function"==typeof m?m:m.next.bind(m),X=this._isInitialized?Promise.resolve():this._initializationPromise;return me(X,this,"internal-error"),X.then(()=>P(this.currentUser)),"function"==typeof m?p.addObserver(m,E,S):p.addObserver(m)}directlySetCurrentUser(p){var m=this;return(0,u.Z)(function*(){m.currentUser&&m.currentUser!==p&&m._currentUser._stopProactiveRefresh(),p&&m.isProactiveRefreshEnabled&&p._startProactiveRefresh(),m.currentUser=p,p?yield m.assertedPersistence.setCurrentUser(p):yield m.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=_e(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,u.Z)(function*(){var m;const E={"X-Client-Version":p.clientVersion};p.app.options.appId&&(E["X-Firebase-gmpid"]=p.app.options.appId);const S=yield null===(m=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();S&&(E["X-Firebase-Client"]=S);const P=yield p._getAppCheckToken();return P&&(E["X-Firebase-AppCheck"]=P),E})()}_getAppCheckToken(){var p=this;return(0,u.Z)(function*(){var m;const E=yield null===(m=p.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getToken();return(null==E?void 0:E.error)&&function qe(y,...p){Ke.logLevel<=se.in.WARN&&Ke.warn(`Auth (${ie.SDK_VERSION}): ${y}`,...p)}(`Error while retrieving App Check token: ${E.error}`),null==E?void 0:E.token})()}}function An(y){return(0,N.m9)(y)}class ${constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,N.ne)(m=>this.observer=m)}get next(){return me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Je(y){const p=y.indexOf(":");return p<0?"":y.substr(0,p+1)}function jt(y){if(!y)return null;const p=Number(y);return isNaN(p)?null:p}class Cn{constructor(p,m){this.providerId=p,this.signInMethod=m}toJSON(){return At("not implemented")}_getIdTokenResponse(p){return At("not implemented")}_linkToIdToken(p,m){return At("not implemented")}_getReauthenticationResolver(p){return At("not implemented")}}function Er(y,p){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,u.Z)(function*(y,p){return Ze(y,"POST","/v1/accounts:resetPassword",Gt(y,p))})).apply(this,arguments)}function ii(y,p){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,u.Z)(function*(y,p){return Ze(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function jl(y,p){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,u.Z)(function*(y,p){return Ze(y,"POST","/v1/accounts:update",Gt(y,p))})).apply(this,arguments)}function si(y,p){return ud.apply(this,arguments)}function ud(){return(ud=(0,u.Z)(function*(y,p){return vn(y,"POST","/v1/accounts:signInWithPassword",Gt(y,p))})).apply(this,arguments)}function tu(y,p){return dd.apply(this,arguments)}function dd(){return(dd=(0,u.Z)(function*(y,p){return Ze(y,"POST","/v1/accounts:sendOobCode",Gt(y,p))})).apply(this,arguments)}function Zh(y,p){return hd.apply(this,arguments)}function hd(){return(hd=(0,u.Z)(function*(y,p){return tu(y,p)})).apply(this,arguments)}function Hl(y,p){return Yh.apply(this,arguments)}function Yh(){return(Yh=(0,u.Z)(function*(y,p){return tu(y,p)})).apply(this,arguments)}function fd(y,p){return zl.apply(this,arguments)}function zl(){return(zl=(0,u.Z)(function*(y,p){return tu(y,p)})).apply(this,arguments)}function rm(y,p){return pd.apply(this,arguments)}function pd(){return(pd=(0,u.Z)(function*(y,p){return tu(y,p)})).apply(this,arguments)}function Qh(){return(Qh=(0,u.Z)(function*(y,p){return vn(y,"POST","/v1/accounts:signInWithEmailLink",Gt(y,p))})).apply(this,arguments)}function $l(){return($l=(0,u.Z)(function*(y,p){return vn(y,"POST","/v1/accounts:signInWithEmailLink",Gt(y,p))})).apply(this,arguments)}class nu extends Cn{constructor(p,m,E,S=null){super("password",E),this._email=p,this._password=m,this._tenantId=S}static _fromEmailAndPassword(p,m){return new nu(p,m,"password")}static _fromEmailAndCode(p,m,E=null){return new nu(p,m,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p;if((null==m?void 0:m.email)&&(null==m?void 0:m.password)){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(p){var m=this;return(0,u.Z)(function*(){var E;switch(m.signInMethod){case"password":const S={returnSecureToken:!0,email:m._email,password:m._password,clientType:"CLIENT_TYPE_WEB"};if(null===(E=p._getRecaptchaConfig())||void 0===E?void 0:E.emailPasswordEnabled){const P=yield Sr(p,S,"signInWithPassword");return si(p,P)}return si(p,S).catch(function(){var P=(0,u.Z)(function*(X){if("auth/missing-recaptcha-token"===X.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const ue=yield Sr(p,S,"signInWithPassword");return si(p,ue)}return Promise.reject(X)});return function(X){return P.apply(this,arguments)}}());case"emailLink":return function md(y,p){return Qh.apply(this,arguments)}(p,{email:m._email,oobCode:m._password});default:Ee(p,"internal-error")}})()}_linkToIdToken(p,m){var E=this;return(0,u.Z)(function*(){switch(E.signInMethod){case"password":return ii(p,{idToken:m,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function Xh(y,p){return $l.apply(this,arguments)}(p,{idToken:m,email:E._email,oobCode:E._password});default:Ee(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function Vi(y,p){return Jh.apply(this,arguments)}function Jh(){return(Jh=(0,u.Z)(function*(y,p){return vn(y,"POST","/v1/accounts:signInWithIdp",Gt(y,p))})).apply(this,arguments)}class Is extends Cn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const m=new Is(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(m.idToken=p.idToken),p.accessToken&&(m.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(m.nonce=p.nonce),p.pendingToken&&(m.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(m.accessToken=p.oauthToken,m.secret=p.oauthTokenSecret):Ee("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:E,signInMethod:S}=m,P=(0,z._T)(m,["providerId","signInMethod"]);if(!E||!S)return null;const X=new Is(E,S);return X.idToken=P.idToken||void 0,X.accessToken=P.accessToken||void 0,X.secret=P.secret,X.nonce=P.nonce,X.pendingToken=P.pendingToken||null,X}_getIdTokenResponse(p){return Vi(p,this.buildRequest())}_linkToIdToken(p,m){const E=this.buildRequest();return E.idToken=m,Vi(p,E)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,Vi(p,m)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),p.postBody=(0,N.xO)(m)}return p}}function il(y,p){return ya.apply(this,arguments)}function ya(){return(ya=(0,u.Z)(function*(y,p){return Ze(y,"POST","/v1/accounts:sendVerificationCode",Gt(y,p))})).apply(this,arguments)}function gd(){return(gd=(0,u.Z)(function*(y,p){return vn(y,"POST","/v1/accounts:signInWithPhoneNumber",Gt(y,p))})).apply(this,arguments)}function sl(){return(sl=(0,u.Z)(function*(y,p){const m=yield vn(y,"POST","/v1/accounts:signInWithPhoneNumber",Gt(y,p));if(m.temporaryProof)throw nr(y,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const tf={USER_NOT_FOUND:"user-not-found"};function va(){return(va=(0,u.Z)(function*(y,p){return vn(y,"POST","/v1/accounts:signInWithPhoneNumber",Gt(y,Object.assign(Object.assign({},p),{operation:"REAUTH"})),tf)})).apply(this,arguments)}class Kn extends Cn{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,m){return new Kn({verificationId:p,verificationCode:m})}static _fromTokenResponse(p,m){return new Kn({phoneNumber:p,temporaryProof:m})}_getIdTokenResponse(p){return function ef(y,p){return gd.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,m){return function Gl(y,p){return sl.apply(this,arguments)}(p,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function ru(y,p){return va.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:m,verificationId:E,verificationCode:S}=this.params;return p&&m?{temporaryProof:p,phoneNumber:m}:{sessionInfo:E,code:S}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:m,verificationCode:E,phoneNumber:S,temporaryProof:P}=p;return E||m||S||P?new Kn({verificationId:m,verificationCode:E,phoneNumber:S,temporaryProof:P}):null}}class Ea{constructor(p){var m,E,S,P,X,ue;const Ve=(0,N.zd)((0,N.pd)(p)),tt=null!==(m=Ve.apiKey)&&void 0!==m?m:null,dt=null!==(E=Ve.oobCode)&&void 0!==E?E:null,ht=function ql(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(S=Ve.mode)&&void 0!==S?S:null);me(tt&&dt&&ht,"argument-error"),this.apiKey=tt,this.operation=ht,this.code=dt,this.continueUrl=null!==(P=Ve.continueUrl)&&void 0!==P?P:null,this.languageCode=null!==(X=Ve.languageCode)&&void 0!==X?X:null,this.tenantId=null!==(ue=Ve.tenantId)&&void 0!==ue?ue:null}static parseLink(p){const m=function im(y){const p=(0,N.zd)((0,N.pd)(y)).link,m=p?(0,N.zd)((0,N.pd)(p)).deep_link_id:null,E=(0,N.zd)((0,N.pd)(y)).deep_link_id;return(E?(0,N.zd)((0,N.pd)(E)).link:null)||E||m||p||y}(p);try{return new Ea(m)}catch(E){return null}}}let iu=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(m,E){return nu._fromEmailAndPassword(m,E)}static credentialWithLink(m,E){const S=Ea.parseLink(E);return me(S,"argument-error"),nu._fromEmailAndCode(m,S.code,S.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class rs{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class ba extends rs{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class Ts extends ba{static credentialFromJSON(p){const m="string"==typeof p?JSON.parse(p):p;return me("providerId"in m&&"signInMethod"in m,"argument-error"),Is._fromParams(m)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return me(p.idToken||p.accessToken,"argument-error"),Is._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return Ts.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return Ts.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:m,oauthAccessToken:E,oauthTokenSecret:S,pendingToken:P,nonce:X,providerId:ue}=p;if(!E&&!S&&!m&&!P||!ue)return null;try{return new Ts(ue)._credential({idToken:m,accessToken:E,nonce:X,pendingToken:P})}catch(Ve){return null}}}let sm=(()=>{class y extends ba{constructor(){super("facebook.com")}static credential(m){return Is._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch(E){return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),Vn=(()=>{class y extends ba{constructor(){super("google.com"),this.addScope("profile")}static credential(m,E){return Is._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:E})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:E,oauthAccessToken:S}=m;if(!E&&!S)return null;try{return y.credential(E,S)}catch(P){return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),su=(()=>{class y extends ba{constructor(){super("github.com")}static credential(m){return Is._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch(E){return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class Dn extends Cn{constructor(p,m){super(p,p),this.pendingToken=m}_getIdTokenResponse(p){return Vi(p,this.buildRequest())}_linkToIdToken(p,m){const E=this.buildRequest();return E.idToken=m,Vi(p,E)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,Vi(p,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:E,signInMethod:S,pendingToken:P}=m;return E&&S&&P&&E===S?new Dn(E,P):null}static _create(p,m){return new Dn(p,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class wa extends rs{constructor(p){me(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return wa.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return wa.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const m=Dn.fromJSON(p);return me(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:m,providerId:E}=p;if(!m||!E)return null;try{return Dn._create(E,m)}catch(S){return null}}}let Ca=(()=>{class y extends ba{constructor(){super("twitter.com")}static credential(m,E){return Is._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:E})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:E,oauthTokenSecret:S}=m;if(!E||!S)return null;try{return y.credential(E,S)}catch(P){return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function Ar(y,p){return Kl.apply(this,arguments)}function Kl(){return(Kl=(0,u.Z)(function*(y,p){return vn(y,"POST","/v1/accounts:signUp",Gt(y,p))})).apply(this,arguments)}class Zr{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,m,E,S=!1){return(0,u.Z)(function*(){const P=yield Ln._fromIdTokenResponse(p,E,S),X=is(E);return new Zr({user:P,providerId:X,_tokenResponse:E,operationType:m})})()}static _forOperation(p,m,E){return(0,u.Z)(function*(){yield p._updateTokensIfNecessary(E,!0);const S=is(E);return new Zr({user:p,providerId:S,_tokenResponse:E,operationType:m})})()}}function is(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function Go(){return(Go=(0,u.Z)(function*(y){var p;const m=An(y);if(yield m._initializationPromise,null===(p=m.currentUser)||void 0===p?void 0:p.isAnonymous)return new Zr({user:m.currentUser,providerId:null,operationType:"signIn"});const E=yield Ar(m,{returnSecureToken:!0}),S=yield Zr._fromIdTokenResponse(m,"signIn",E,!0);return yield m._updateCurrentUser(S.user),S})).apply(this,arguments)}class ss extends N.ZR{constructor(p,m,E,S){var P;super(m.code,m.message),this.operationType=E,this.user=S,Object.setPrototypeOf(this,ss.prototype),this.customData={appName:p.name,tenantId:null!==(P=p.tenantId)&&void 0!==P?P:void 0,_serverResponse:m.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(p,m,E,S){return new ss(p,m,E,S)}}function ou(y,p,m,E){return("reauthenticate"===p?m._getReauthenticationResolver(y):m._getIdTokenResponse(y)).catch(P=>{throw"auth/multi-factor-auth-required"===P.code?ss._fromErrorAndOperation(y,P,p,E):P})}function Ss(y){return new Set(y.map(({providerId:p})=>p).filter(p=>!!p))}function gi(){return(gi=(0,u.Z)(function*(y,p){const m=(0,N.m9)(y);yield qo(!0,m,p);const{providerUserInfo:E}=yield qs(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[p]}),S=Ss(E||[]);return m.providerData=m.providerData.filter(P=>S.has(P.providerId)),S.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function Ot(y,p){return ol.apply(this,arguments)}function ol(){return(ol=(0,u.Z)(function*(y,p,m=!1){const E=yield Nt(y,p._linkToIdToken(y.auth,yield y.getIdToken()),m);return Zr._forOperation(y,"link",E)})).apply(this,arguments)}function qo(y,p,m){return Zl.apply(this,arguments)}function Zl(){return(Zl=(0,u.Z)(function*(y,p,m){yield Zt(p);const S=!1===y?"provider-already-linked":"no-such-provider";me(Ss(p.providerData).has(m)===y,p.auth,S)})).apply(this,arguments)}function _d(y,p){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,u.Z)(function*(y,p,m=!1){const{auth:E}=y,S="reauthenticate";try{const P=yield Nt(y,ou(E,S,p,y),m);me(P.idToken,E,"internal-error");const X=_r(P.idToken);me(X,E,"internal-error");const{sub:ue}=X;return me(y.uid===ue,E,"user-mismatch"),Zr._forOperation(y,S,P)}catch(P){throw"auth/user-not-found"===(null==P?void 0:P.code)&&Ee(E,"user-mismatch"),P}})).apply(this,arguments)}function au(y,p){return lu.apply(this,arguments)}function lu(){return(lu=(0,u.Z)(function*(y,p,m=!1){const E="signIn",S=yield ou(y,E,p),P=yield Zr._fromIdTokenResponse(y,E,S);return m||(yield y._updateCurrentUser(P.user)),P})).apply(this,arguments)}function Ue(y,p){return un.apply(this,arguments)}function un(){return(un=(0,u.Z)(function*(y,p){return au(An(y),p)})).apply(this,arguments)}function yd(y,p){return Un.apply(this,arguments)}function Un(){return(Un=(0,u.Z)(function*(y,p){const m=(0,N.m9)(y);return yield qo(!1,m,p.providerId),Ot(m,p)})).apply(this,arguments)}function al(y,p){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,u.Z)(function*(y,p){return _d((0,N.m9)(y),p)})).apply(this,arguments)}function os(y,p){return Yl.apply(this,arguments)}function Yl(){return(Yl=(0,u.Z)(function*(y,p){return vn(y,"POST","/v1/accounts:signInWithCustomToken",Gt(y,p))})).apply(this,arguments)}function As(){return(As=(0,u.Z)(function*(y,p){const m=An(y),E=yield os(m,{token:p,returnSecureToken:!0}),S=yield Zr._fromIdTokenResponse(m,"signIn",E);return yield m._updateCurrentUser(S.user),S})).apply(this,arguments)}class Ta{constructor(p,m){this.factorId=p,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(p,m){return"phoneInfo"in m?yo._fromServerResponse(p,m):"totpInfo"in m?Sa._fromServerResponse(p,m):Ee(p,"internal-error")}}class yo extends Ta{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,m){return new yo(m)}}class Sa extends Ta{constructor(p){super("totp",p)}static _fromServerResponse(p,m){return new Sa(m)}}function ar(y,p,m){var E;me((null===(E=m.url)||void 0===E?void 0:E.length)>0,y,"invalid-continue-uri"),me(void 0===m.dynamicLinkDomain||m.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),p.continueUrl=m.url,p.dynamicLinkDomain=m.dynamicLinkDomain,p.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(me(m.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),p.iOSBundleId=m.iOS.bundleId),m.android&&(me(m.android.packageName.length>0,y,"missing-android-pkg-name"),p.androidInstallApp=m.android.installApp,p.androidMinimumVersionCode=m.android.minimumVersion,p.androidPackageName=m.android.packageName)}function Aa(){return Aa=(0,u.Z)(function*(y,p,m){var E;const S=An(y),P={requestType:"PASSWORD_RESET",email:p,clientType:"CLIENT_TYPE_WEB"};if(null===(E=S._getRecaptchaConfig())||void 0===E?void 0:E.emailPasswordEnabled){const X=yield Sr(S,P,"getOobCode",!0);m&&ar(S,X,m),yield Hl(S,X)}else m&&ar(S,P,m),yield Hl(S,P).catch(function(){var X=(0,u.Z)(function*(ue){if("auth/missing-recaptcha-token"!==ue.code)return Promise.reject(ue);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Ve=yield Sr(S,P,"getOobCode",!0);m&&ar(S,Ve,m),yield Hl(S,Ve)}});return function(ue){return X.apply(this,arguments)}}())}),Aa.apply(this,arguments)}function as(){return(as=(0,u.Z)(function*(y,p,m){yield Er((0,N.m9)(y),{oobCode:p,newPassword:m})})).apply(this,arguments)}function Ms(){return(Ms=(0,u.Z)(function*(y,p){yield jl((0,N.m9)(y),{oobCode:p})})).apply(this,arguments)}function Ql(y,p){return ll.apply(this,arguments)}function ll(){return(ll=(0,u.Z)(function*(y,p){const m=(0,N.m9)(y),E=yield Er(m,{oobCode:p}),S=E.requestType;switch(me(S,m,"internal-error"),S){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":me(E.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":me(E.mfaInfo,m,"internal-error");default:me(E.email,m,"internal-error")}let P=null;return E.mfaInfo&&(P=Ta._fromServerResponse(An(m),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:P},operation:S}})).apply(this,arguments)}function vo(){return(vo=(0,u.Z)(function*(y,p){const{data:m}=yield Ql((0,N.m9)(y),p);return m.email})).apply(this,arguments)}function Ko(){return Ko=(0,u.Z)(function*(y,p,m){var E;const S=An(y),P={returnSecureToken:!0,email:p,password:m,clientType:"CLIENT_TYPE_WEB"};let X;if(null===(E=S._getRecaptchaConfig())||void 0===E?void 0:E.emailPasswordEnabled){const tt=yield Sr(S,P,"signUpPassword");X=Ar(S,tt)}else X=Ar(S,P).catch(function(){var tt=(0,u.Z)(function*(dt){if("auth/missing-recaptcha-token"===dt.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const ht=yield Sr(S,P,"signUpPassword");return Ar(S,ht)}return Promise.reject(dt)});return function(dt){return tt.apply(this,arguments)}}());const ue=yield X.catch(tt=>Promise.reject(tt)),Ve=yield Zr._fromIdTokenResponse(S,"signIn",ue);return yield S._updateCurrentUser(Ve.user),Ve}),Ko.apply(this,arguments)}function Eo(){return Eo=(0,u.Z)(function*(y,p,m){var E;const S=An(y),P={requestType:"EMAIL_SIGNIN",email:p,clientType:"CLIENT_TYPE_WEB"};function X(ue,Ve){me(Ve.handleCodeInApp,S,"argument-error"),Ve&&ar(S,ue,Ve)}if(null===(E=S._getRecaptchaConfig())||void 0===E?void 0:E.emailPasswordEnabled){const ue=yield Sr(S,P,"getOobCode",!0);X(ue,m),yield fd(S,ue)}else X(P,m),yield fd(S,P).catch(function(){var ue=(0,u.Z)(function*(Ve){if("auth/missing-recaptcha-token"!==Ve.code)return Promise.reject(Ve);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const tt=yield Sr(S,P,"getOobCode",!0);X(tt,m),yield fd(S,tt)}});return function(Ve){return ue.apply(this,arguments)}}())}),Eo.apply(this,arguments)}function du(){return(du=(0,u.Z)(function*(y,p,m){const E=(0,N.m9)(y),S=iu.credentialWithLink(p,m||Dt());return me(S._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),Ue(E,S)})).apply(this,arguments)}function hu(y,p){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,u.Z)(function*(y,p){return Ze(y,"POST","/v1/accounts:createAuthUri",Gt(y,p))})).apply(this,arguments)}function Jl(){return(Jl=(0,u.Z)(function*(y,p){const E={identifier:p,continueUri:hn()?Dt():"http://localhost"},{signinMethods:S}=yield hu((0,N.m9)(y),E);return S||[]})).apply(this,arguments)}function _i(){return(_i=(0,u.Z)(function*(y,p){const m=(0,N.m9)(y),S={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};p&&ar(m.auth,S,p);const{email:P}=yield Zh(m.auth,S);P!==y.email&&(yield y.reload())})).apply(this,arguments)}function ec(){return(ec=(0,u.Z)(function*(y,p,m){const E=(0,N.m9)(y),P={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:p};m&&ar(E.auth,P,m);const{email:X}=yield rm(E.auth,P);X!==y.email&&(yield y.reload())})).apply(this,arguments)}function sf(y,p){return Ed.apply(this,arguments)}function Ed(){return(Ed=(0,u.Z)(function*(y,p){return Ze(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function tc(){return(tc=(0,u.Z)(function*(y,{displayName:p,photoURL:m}){if(void 0===p&&void 0===m)return;const E=(0,N.m9)(y),P={idToken:yield E.getIdToken(),displayName:p,photoUrl:m,returnSecureToken:!0},X=yield Nt(E,sf(E.auth,P));E.displayName=X.displayName||null,E.photoURL=X.photoUrl||null;const ue=E.providerData.find(({providerId:Ve})=>"password"===Ve);ue&&(ue.displayName=E.displayName,ue.photoURL=E.photoURL),yield E._updateTokensIfNecessary(X)})).apply(this,arguments)}function nc(y,p,m){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,u.Z)(function*(y,p,m){const{auth:E}=y,P={idToken:yield y.getIdToken(),returnSecureToken:!0};p&&(P.email=p),m&&(P.password=m);const X=yield Nt(y,ii(E,P));yield y._updateTokensIfNecessary(X,!0)})).apply(this,arguments)}class bo{constructor(p,m,E={}){this.isNewUser=p,this.providerId=m,this.profile=E}}class lf extends bo{constructor(p,m,E,S){super(p,m,E),this.username=S}}class Zs extends bo{constructor(p,m){super(p,"facebook.com",m)}}class ic extends lf{constructor(p,m){super(p,"github.com",m,"string"==typeof(null==m?void 0:m.login)?null==m?void 0:m.login:null)}}class cf extends bo{constructor(p,m){super(p,"google.com",m)}}class am extends lf{constructor(p,m,E){super(p,"twitter.com",m,E)}}function Qo(y){const{user:p,_tokenResponse:m}=y;return p.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function rc(y){var p,m;if(!y)return null;const{providerId:E}=y,S=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},P=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!E&&(null==y?void 0:y.idToken)){const X=null===(m=null===(p=_r(y.idToken))||void 0===p?void 0:p.firebase)||void 0===m?void 0:m.sign_in_provider;if(X)return new bo(P,"anonymous"!==X&&"custom"!==X?X:null)}if(!E)return null;switch(E){case"facebook.com":return new Zs(P,S);case"github.com":return new ic(P,S);case"google.com":return new cf(P,S);case"twitter.com":return new am(P,S,y.screenName||null);case"custom":case"anonymous":return new bo(P,null);default:return new bo(P,E,S)}}(m)}class wo{constructor(p,m,E){this.type=p,this.credential=m,this.auth=E}static _fromIdtoken(p,m){return new wo("enroll",p,m)}static _fromMfaPendingCredential(p){return new wo("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var m,E;if(null==p?void 0:p.multiFactorSession){if(null===(m=p.multiFactorSession)||void 0===m?void 0:m.pendingCredential)return wo._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null===(E=p.multiFactorSession)||void 0===E?void 0:E.idToken)return wo._fromIdtoken(p.multiFactorSession.idToken)}return null}}class ls{constructor(p,m,E){this.session=p,this.hints=m,this.signInResolver=E}static _fromError(p,m){const E=An(p),S=m.customData._serverResponse,P=(S.mfaInfo||[]).map(ue=>Ta._fromServerResponse(E,ue));me(S.mfaPendingCredential,E,"internal-error");const X=wo._fromMfaPendingCredential(S.mfaPendingCredential);return new ls(X,P,function(){var ue=(0,u.Z)(function*(Ve){const tt=yield Ve._process(E,X);delete S.mfaInfo,delete S.mfaPendingCredential;const dt=Object.assign(Object.assign({},S),{idToken:tt.idToken,refreshToken:tt.refreshToken});switch(m.operationType){case"signIn":const ht=yield Zr._fromIdTokenResponse(E,m.operationType,dt);return yield E._updateCurrentUser(ht.user),ht;case"reauthenticate":return me(m.user,E,"internal-error"),Zr._forOperation(m.user,m.operationType,dt);default:Ee(E,"internal-error")}});return function(Ve){return ue.apply(this,arguments)}}())}resolveSignIn(p){var m=this;return(0,u.Z)(function*(){return m.signInResolver(p)})()}}function cs(y,p){return Ze(y,"POST","/v2/accounts/mfaEnrollment:start",Gt(y,p))}class Rs{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(E=>Ta._fromServerResponse(p.auth,E)))})}static _fromUser(p){return new Rs(p)}getSession(){var p=this;return(0,u.Z)(function*(){return wo._fromIdtoken(yield p.user.getIdToken(),p.user.auth)})()}enroll(p,m){var E=this;return(0,u.Z)(function*(){const S=p,P=yield E.getSession(),X=yield Nt(E.user,S._process(E.user.auth,P,m));return yield E.user._updateTokensIfNecessary(X),E.user.reload()})()}unenroll(p){var m=this;return(0,u.Z)(function*(){const E="string"==typeof p?p:p.uid,S=yield m.user.getIdToken();try{const P=yield Nt(m.user,function oc(y,p){return Ze(y,"POST","/v2/accounts/mfaEnrollment:withdraw",Gt(y,p))}(m.user.auth,{idToken:S,mfaEnrollmentId:E}));m.enrolledFactors=m.enrolledFactors.filter(({uid:X})=>X!==E),yield m.user._updateTokensIfNecessary(P),yield m.user.reload()}catch(P){throw P}})()}}const dl=new WeakMap,Co="__sak";class hl{constructor(p,m){this.storageRetriever=p,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(Co,"1"),this.storage.removeItem(Co),Promise.resolve(!0)):Promise.resolve(!1)}catch(p){return Promise.resolve(!1)}}_set(p,m){return this.storage.setItem(p,JSON.stringify(m)),Promise.resolve()}_get(p){const m=this.storage.getItem(p);return Promise.resolve(m?JSON.parse(m):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const Xo=(()=>{class y extends hl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,E)=>this.onStorageEvent(m,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function pu(){const y=(0,N.z$)();return pe(y)||En(y)}()&&function mi(){try{return!(!window||window===window.top)}catch(y){return!1}}(),this.fallbackToPolling=Lr(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const E of Object.keys(this.listeners)){const S=this.storage.getItem(E),P=this.localCache[E];S!==P&&m(E,P,S)}}onStorageEvent(m,E=!1){if(!m.key)return void this.forAllChangedKeys((ue,Ve,tt)=>{this.notifyListeners(ue,tt)});const S=m.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ue=this.storage.getItem(S);if(m.newValue!==ue)null!==m.newValue?this.storage.setItem(S,m.newValue):this.storage.removeItem(S);else if(this.localCache[S]===m.newValue&&!E)return}const P=()=>{const ue=this.storage.getItem(S);!E&&this.localCache[S]===ue||this.notifyListeners(S,ue)},X=this.storage.getItem(S);!function Wr(){return(0,N.w1)()&&10===document.documentMode}()||X===m.newValue||m.newValue===m.oldValue?P():setTimeout(P,10)}notifyListeners(m,E){this.localCache[m]=E;const S=this.listeners[m];if(S)for(const P of Array.from(S))P(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,E,S)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:E,newValue:S}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(E)}_removeListener(m,E){this.listeners[m]&&(this.listeners[m].delete(E),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,E){var S=()=>super._set,P=this;return(0,u.Z)(function*(){yield S().call(P,m,E),P.localCache[m]=JSON.stringify(E)})()}_get(m){var E=()=>super._get,S=this;return(0,u.Z)(function*(){const P=yield E().call(S,m);return S.localCache[m]=JSON.stringify(P),P})()}_remove(m){var E=()=>super._remove,S=this;return(0,u.Z)(function*(){yield E().call(S,m),delete S.localCache[m]})()}}return y.type="LOCAL",y})(),us=(()=>{class y extends hl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,E){}_removeListener(m,E){}}return y.type="SESSION",y})();let Oa=(()=>{class y{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const E=this.receivers.find(P=>P.isListeningto(m));if(E)return E;const S=new y(m);return this.receivers.push(S),S}isListeningto(m){return this.eventTarget===m}handleEvent(m){var E=this;return(0,u.Z)(function*(){const S=m,{eventId:P,eventType:X,data:ue}=S.data,Ve=E.handlersMap[X];if(!(null==Ve?void 0:Ve.size))return;S.ports[0].postMessage({status:"ack",eventId:P,eventType:X});const tt=Array.from(Ve).map(function(){var ht=(0,u.Z)(function*(Yn){return Yn(S.origin,ue)});return function(Yn){return ht.apply(this,arguments)}}()),dt=yield function hf(y){return Promise.all(y.map(function(){var p=(0,u.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(E){return{fulfilled:!1,reason:E}}});return function(m){return p.apply(this,arguments)}}()))}(tt);S.ports[0].postMessage({status:"done",eventId:P,eventType:X,response:dt})})()}_subscribe(m,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(E)}_unsubscribe(m,E){this.handlersMap[m]&&E&&this.handlersMap[m].delete(E),(!E||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function Os(y="",p=10){let m="";for(let E=0;E<p;E++)m+=Math.floor(10*Math.random());return y+m}class pl{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,m,E=50){var S=this;return(0,u.Z)(function*(){const P="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!P)throw new Error("connection_unavailable");let X,ue;return new Promise((Ve,tt)=>{const dt=Os("",20);P.port1.start();const ht=setTimeout(()=>{tt(new Error("unsupported_event"))},E);ue={messageChannel:P,onMessage(Yn){const ro=Yn;if(ro.data.eventId===dt)switch(ro.data.status){case"ack":clearTimeout(ht),X=setTimeout(()=>{tt(new Error("timeout"))},3e3);break;case"done":clearTimeout(X),Ve(ro.data.response);break;default:clearTimeout(ht),clearTimeout(X),tt(new Error("invalid_response"))}}},S.handlers.add(ue),P.port1.addEventListener("message",ue.onMessage),S.target.postMessage({eventType:p,eventId:dt,data:m},[P.port2])}).finally(()=>{ue&&S.removeMessageHandler(ue)})})()}}function gn(){return window}function jr(){return void 0!==gn().WorkerGlobalScope&&"function"==typeof gn().importScripts}function Do(){return(Do=(0,u.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(y){return null}})).apply(this,arguments)}const hr="firebaseLocalStorageDb",Ri="firebaseLocalStorage",Hn="fbase_key";class Or{constructor(p){this.request=p}toPromise(){return new Promise((p,m)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function ds(y,p){return y.transaction([Ri],p?"readwrite":"readonly").objectStore(Ri)}function gu(){const y=indexedDB.open(hr,1);return new Promise((p,m)=>{y.addEventListener("error",()=>{m(y.error)}),y.addEventListener("upgradeneeded",()=>{const E=y.result;try{E.createObjectStore(Ri,{keyPath:Hn})}catch(S){m(S)}}),y.addEventListener("success",(0,u.Z)(function*(){const E=y.result;E.objectStoreNames.contains(Ri)?p(E):(E.close(),yield function Io(){const y=indexedDB.deleteDatabase(hr);return new Or(y).toPromise()}(),p(yield gu()))}))})}function lc(y,p,m){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,u.Z)(function*(y,p,m){const E=ds(y,!0).put({[Hn]:p,value:m});return new Or(E).toPromise()})).apply(this,arguments)}function To(){return(To=(0,u.Z)(function*(y,p){const m=ds(y,!1).get(p),E=yield new Or(m).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function cr(y,p){const m=ds(y,!0).delete(p);return new Or(m).toPromise()}const ea=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,u.Z)(function*(){return m.db||(m.db=yield gu()),m.db})()}_withRetries(m){var E=this;return(0,u.Z)(function*(){let S=0;for(;;)try{const P=yield E._openDb();return yield m(P)}catch(P){if(S++>3)throw P;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,u.Z)(function*(){return jr()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,u.Z)(function*(){m.receiver=Oa._getInstance(function _n(){return jr()?self:null}()),m.receiver._subscribe("keyChanged",function(){var E=(0,u.Z)(function*(S,P){return{keyProcessed:(yield m._poll()).includes(P.key)}});return function(S,P){return E.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var E=(0,u.Z)(function*(S,P){return["keyChanged"]});return function(S,P){return E.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,u.Z)(function*(){var E,S;if(m.activeServiceWorker=yield function mu(){return Do.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new pl(m.activeServiceWorker);const P=yield m.sender._send("ping",{},800);!P||(null===(E=P[0])||void 0===E?void 0:E.fulfilled)&&(null===(S=P[0])||void 0===S?void 0:S.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var E=this;return(0,u.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function tn(){var y;return(null===(y=null==navigator?void 0:navigator.serviceWorker)||void 0===y?void 0:y.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:m},E.serviceWorkerReceiverAvailable?800:50)}catch(S){}})()}_isAvailable(){return(0,u.Z)(function*(){try{if(!indexedDB)return!1;const m=yield gu();return yield lc(m,Co,"1"),yield cr(m,Co),!0}catch(m){}return!1})()}_withPendingWrite(m){var E=this;return(0,u.Z)(function*(){E.pendingWrites++;try{yield m()}finally{E.pendingWrites--}})()}_set(m,E){var S=this;return(0,u.Z)(function*(){return S._withPendingWrite((0,u.Z)(function*(){return yield S._withRetries(P=>lc(P,m,E)),S.localCache[m]=E,S.notifyServiceWorker(m)}))})()}_get(m){var E=this;return(0,u.Z)(function*(){const S=yield E._withRetries(P=>function _u(y,p){return To.apply(this,arguments)}(P,m));return E.localCache[m]=S,S})()}_remove(m){var E=this;return(0,u.Z)(function*(){return E._withPendingWrite((0,u.Z)(function*(){return yield E._withRetries(S=>cr(S,m)),delete E.localCache[m],E.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,u.Z)(function*(){const E=yield m._withRetries(X=>{const ue=ds(X,!1).getAll();return new Or(ue).toPromise()});if(!E)return[];if(0!==m.pendingWrites)return[];const S=[],P=new Set;for(const{fbase_key:X,value:ue}of E)P.add(X),JSON.stringify(m.localCache[X])!==JSON.stringify(ue)&&(m.notifyListeners(X,ue),S.push(X));for(const X of Object.keys(m.localCache))m.localCache[X]&&!P.has(X)&&(m.notifyListeners(X,null),S.push(X));return S})()}notifyListeners(m,E){this.localCache[m]=E;const S=this.listeners[m];if(S)for(const P of Array.from(S))P(E)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,u.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(E)}_removeListener(m,E){this.listeners[m]&&(this.listeners[m].delete(E),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function ks(y,p){return Ze(y,"POST","/v2/accounts/mfaSignIn:start",Gt(y,p))}const _l=1e12;class Dd{constructor(p){this.auth=p,this.counter=_l,this._widgets=new Map}render(p,m){const E=this.counter;return this._widgets.set(E,new yi(p,this.auth.name,m||{})),this.counter++,E}reset(p){var m;const E=p||_l;null===(m=this._widgets.get(E))||void 0===m||m.delete(),this._widgets.delete(E)}getResponse(p){var m;return(null===(m=this._widgets.get(p||_l))||void 0===m?void 0:m.getResponse())||""}execute(p){var m=this;return(0,u.Z)(function*(){var E;return null===(E=m._widgets.get(p||_l))||void 0===E||E.execute(),""})()}}class yi{constructor(p,m,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const S="string"==typeof p?document.getElementById(p):p;me(S,"argument-error",{appName:m}),this.container=S,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function hs(y){const p=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<y;E++)p.push(m.charAt(Math.floor(Math.random()*m.length)));return p.join("")}(50);const{callback:p,"expired-callback":m}=this.params;if(p)try{p(this.responseToken)}catch(E){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch(E){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const yl=wn("rcb"),cc=new He(3e4,6e4);class Id{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(p=gn().grecaptcha)||void 0===p?void 0:p.render)}load(p,m=""){return me(function yu(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(m),p,"argument-error"),this.shouldResolveImmediately(m)&&pt(gn().grecaptcha)?Promise.resolve(gn().grecaptcha):new Promise((E,S)=>{const P=gn().setTimeout(()=>{S(De(p,"network-request-failed"))},cc.get());gn()[yl]=()=>{gn().clearTimeout(P),delete gn()[yl];const ue=gn().grecaptcha;if(!ue||!pt(ue))return void S(De(p,"internal-error"));const Ve=ue.render;ue.render=(tt,dt)=>{const ht=Ve(tt,dt);return this.counter++,ht},this.hostLanguage=m,E(ue)},sr(`https://www.google.com/recaptcha/api.js??${(0,N.xO)({onload:yl,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(P),S(De(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var m;return!!(null===(m=gn().grecaptcha)||void 0===m?void 0:m.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Td{load(p){return(0,u.Z)(function*(){return new Dd(p)})()}clearedOneInstance(){}}const nn="recaptcha",cm={theme:"light",type:"image"};class Ys{constructor(p,m=Object.assign({},cm),E){this.parameters=m,this.type=nn,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=An(E),this.isInvisible="invisible"===this.parameters.size,me("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const S="string"==typeof p?document.getElementById(p):p;me(S,this.auth,"argument-error"),this.container=S,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Td:new Id,this.validateStartingState()}verify(){var p=this;return(0,u.Z)(function*(){p.assertNotDestroyed();const m=yield p.render(),E=p.getAssertedRecaptcha();return E.getResponse(m)||new Promise(P=>{const X=ue=>{!ue||(p.tokenChangeListeners.delete(X),P(ue))};p.tokenChangeListeners.add(X),p.isInvisible&&E.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){me(!this.parameters.sitekey,this.auth,"argument-error"),me(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),me("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return m=>{if(this.tokenChangeListeners.forEach(E=>E(m)),"function"==typeof p)p(m);else if("string"==typeof p){const E=gn()[p];"function"==typeof E&&E(m)}}}assertNotDestroyed(){me(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,u.Z)(function*(){if(yield p.init(),!p.widgetId){let m=p.container;if(!p.isInvisible){const E=document.createElement("div");m.appendChild(E),m=E}p.widgetId=p.getAssertedRecaptcha().render(m,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,u.Z)(function*(){me(hn()&&!jr(),p.auth,"internal-error"),yield function vi(){let y=null;return new Promise(p=>{"complete"!==document.readyState?(y=()=>p(),window.addEventListener("load",y)):p()}).catch(p=>{throw y&&window.removeEventListener("load",y),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const m=yield function fe(y){return Be.apply(this,arguments)}(p.auth);me(m,p.auth,"internal-error"),p.parameters.sitekey=m})()}getAssertedRecaptcha(){return me(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Qs{constructor(p,m){this.verificationId=p,this.onConfirmation=m}confirm(p){const m=Kn._fromVerification(this.verificationId,p);return this.onConfirmation(m)}}function uc(){return(uc=(0,u.Z)(function*(y,p,m){const E=An(y),S=yield Na(E,p,(0,N.m9)(m));return new Qs(S,P=>Ue(E,P))})).apply(this,arguments)}function Ei(){return(Ei=(0,u.Z)(function*(y,p,m){const E=(0,N.m9)(y);yield qo(!1,E,"phone");const S=yield Na(E.auth,p,(0,N.m9)(m));return new Qs(S,P=>yd(E,P))})).apply(this,arguments)}function vl(){return(vl=(0,u.Z)(function*(y,p,m){const E=(0,N.m9)(y),S=yield Na(E.auth,p,(0,N.m9)(m));return new Qs(S,P=>al(E,P))})).apply(this,arguments)}function Na(y,p,m){return Ad.apply(this,arguments)}function Ad(){return(Ad=(0,u.Z)(function*(y,p,m){var E;const S=yield m.verify();try{let P;if(me("string"==typeof S,y,"argument-error"),me(m.type===nn,y,"argument-error"),P="string"==typeof p?{phoneNumber:p}:p,"session"in P){const X=P.session;if("phoneNumber"in P)return me("enroll"===X.type,y,"internal-error"),(yield cs(y,{idToken:X.credential,phoneEnrollmentInfo:{phoneNumber:P.phoneNumber,recaptchaToken:S}})).phoneSessionInfo.sessionInfo;{me("signin"===X.type,y,"internal-error");const ue=(null===(E=P.multiFactorHint)||void 0===E?void 0:E.uid)||P.multiFactorUid;return me(ue,y,"missing-multi-factor-info"),(yield ks(y,{mfaPendingCredential:X.credential,mfaEnrollmentId:ue,phoneSignInInfo:{recaptchaToken:S}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:X}=yield il(y,{phoneNumber:P.phoneNumber,recaptchaToken:S});return X}}finally{m._reset()}})).apply(this,arguments)}function bi(){return(bi=(0,u.Z)(function*(y,p){yield Ot((0,N.m9)(y),p)})).apply(this,arguments)}let Ps=(()=>{class y{constructor(m){this.providerId=y.PROVIDER_ID,this.auth=An(m)}verifyPhoneNumber(m,E){return Na(this.auth,m,(0,N.m9)(E))}static credential(m,E){return Kn._fromVerification(m,E)}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:E,temporaryProof:S}=m;return E&&S?Kn._fromTokenResponse(E,S):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function Fa(y,p){return p?ir(p):(me(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class Hr extends Cn{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return Vi(p,this._buildIdpRequest())}_linkToIdToken(p,m){return Vi(p,this._buildIdpRequest(m))}_getReauthenticationResolver(p){return Vi(p,this._buildIdpRequest())}_buildIdpRequest(p){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(m.idToken=p),m}}function El(y){return au(y.auth,new Hr(y),y.bypassAuthState)}function bl(y){const{auth:p,user:m}=y;return me(m,p,"internal-error"),_d(m,new Hr(y),y.bypassAuthState)}function wl(y){return hc.apply(this,arguments)}function hc(){return(hc=(0,u.Z)(function*(y){const{auth:p,user:m}=y;return me(m,p,"internal-error"),Ot(m,new Hr(y),y.bypassAuthState)})).apply(this,arguments)}class fc{constructor(p,m,E,S,P=!1){this.auth=p,this.resolver=E,this.user=S,this.bypassAuthState=P,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var p=this;return new Promise(function(){var m=(0,u.Z)(function*(E,S){p.pendingPromise={resolve:E,reject:S};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(P){p.reject(P)}});return function(E,S){return m.apply(this,arguments)}}())}onAuthEvent(p){var m=this;return(0,u.Z)(function*(){const{urlResponse:E,sessionId:S,postBody:P,tenantId:X,error:ue,type:Ve}=p;if(ue)return void m.reject(ue);const tt={auth:m.auth,requestUri:E,sessionId:S,tenantId:X||void 0,postBody:P||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Ve)(tt))}catch(dt){m.reject(dt)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return El;case"linkViaPopup":case"linkViaRedirect":return wl;case"reauthViaPopup":case"reauthViaRedirect":return bl;default:Ee(this.auth,"internal-error")}}resolve(p){Bt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){Bt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ui=new He(2e3,1e4);function ji(){return(ji=(0,u.Z)(function*(y,p,m){const E=An(y);Qe(y,p,rs);const S=Fa(E,m);return new pc(E,"signInViaPopup",p,S).executeNotNull()})).apply(this,arguments)}function na(){return(na=(0,u.Z)(function*(y,p,m){const E=(0,N.m9)(y);Qe(E.auth,p,rs);const S=Fa(E.auth,m);return new pc(E.auth,"reauthViaPopup",p,S,E).executeNotNull()})).apply(this,arguments)}function Ns(){return(Ns=(0,u.Z)(function*(y,p,m){const E=(0,N.m9)(y);Qe(E.auth,p,rs);const S=Fa(E.auth,m);return new pc(E.auth,"linkViaPopup",p,S,E).executeNotNull()})).apply(this,arguments)}let pc=(()=>{class y extends fc{constructor(m,E,S,P,X){super(m,E,P,X),this.provider=S,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var m=this;return(0,u.Z)(function*(){const E=yield m.execute();return me(E,m.auth,"internal-error"),E})()}onExecution(){var m=this;return(0,u.Z)(function*(){Bt(1===m.filter.length,"Popup operations only handle one event");const E=Os();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],E),m.authWindow.associatedEvent=E,m.resolver._originValidation(m.auth).catch(S=>{m.reject(S)}),m.resolver._isIframeWebStorageSupported(m.auth,S=>{S||m.reject(De(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(De(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const m=()=>{var E,S;this.pollId=(null===(S=null===(E=this.authWindow)||void 0===E?void 0:E.window)||void 0===S?void 0:S.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(De(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(m,Ui.get())};m()}}return y.currentPopupAction=null,y})();const Xs=new Map;class um extends fc{constructor(p,m,E=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,E),this.eventId=null}execute(){var p=()=>super.execute,m=this;return(0,u.Z)(function*(){let E=Xs.get(m.auth._key());if(!E){try{const P=(yield function Va(y,p){return Ua.apply(this,arguments)}(m.resolver,m.auth))?yield p().call(m):null;E=()=>Promise.resolve(P)}catch(S){E=()=>Promise.reject(S)}Xs.set(m.auth._key(),E)}return m.bypassAuthState||Xs.set(m.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(p){var m=()=>super.onAuthEvent,E=this;return(0,u.Z)(function*(){if("signInViaRedirect"===p.type)return m().call(E,p);if("unknown"!==p.type){if(p.eventId){const S=yield E.auth._redirectUserForId(p.eventId);if(S)return E.user=S,m().call(E,p);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,u.Z)(function*(){})()}cleanUp(){}}function Ua(){return(Ua=(0,u.Z)(function*(y,p){const m=Cl(p),E=mc(y);if(!(yield E._isAvailable()))return!1;const S="true"===(yield E._get(m));return yield E._remove(m),S})).apply(this,arguments)}function ja(y,p){return Js.apply(this,arguments)}function Js(){return(Js=(0,u.Z)(function*(y,p){return mc(y)._set(Cl(p),"true")})).apply(this,arguments)}function eo(y,p){Xs.set(y._key(),p)}function mc(y){return ir(y._redirectPersistence)}function Cl(y){return Y("pendingRedirect",y.config.apiKey,y.name)}function _c(){return(_c=(0,u.Z)(function*(y,p,m){const E=An(y);Qe(y,p,rs),yield E._initializationPromise;const S=Fa(E,m);return yield ja(S,E),S._openRedirect(E,p,"signInViaRedirect")})).apply(this,arguments)}function So(){return(So=(0,u.Z)(function*(y,p,m){const E=(0,N.m9)(y);Qe(E.auth,p,rs),yield E.auth._initializationPromise;const S=Fa(E.auth,m);yield ja(S,E.auth);const P=yield Hi(E);return S._openRedirect(E.auth,p,"reauthViaRedirect",P)})).apply(this,arguments)}function vc(){return(vc=(0,u.Z)(function*(y,p,m){const E=(0,N.m9)(y);Qe(E.auth,p,rs),yield E.auth._initializationPromise;const S=Fa(E.auth,m);yield qo(!1,E,p.providerId),yield ja(S,E.auth);const P=yield Hi(E);return S._openRedirect(E.auth,p,"linkViaRedirect",P)})).apply(this,arguments)}function Ha(){return(Ha=(0,u.Z)(function*(y,p){return yield An(y)._initializationPromise,ra(y,p,!1)})).apply(this,arguments)}function ra(y,p){return ia.apply(this,arguments)}function ia(){return(ia=(0,u.Z)(function*(y,p,m=!1){const E=An(y),S=Fa(E,p),X=yield new um(E,S,m).execute();return X&&!m&&(delete X.user._redirectEventId,yield E._persistUserIfCurrent(X.user),yield E._setRedirectUser(null,p)),X})).apply(this,arguments)}function Hi(y){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,u.Z)(function*(y){const p=Os(`${y.uid}:::`);return y._redirectEventId=p,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),p})).apply(this,arguments)}class wc{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let m=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(p,E)&&(m=!0,this.sendToConsumer(p,E),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function xd(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sa(y);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=p,m=!0)),m}sendToConsumer(p,m){var E;if(p.error&&!sa(p)){const S=(null===(E=p.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";m.onError(De(this.auth,S))}else m.onAuthEvent(p)}isEventForConsumer(p,m){const E=null===m.eventId||!!p.eventId&&p.eventId===m.eventId;return m.filter.includes(p.type)&&E}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(za(p))}saveEventToCache(p){this.cachedEventUids.add(za(p)),this.lastProcessedEventTime=Date.now()}}function za(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(p=>p).join("-")}function sa({type:y,error:p}){return"unknown"===y&&"auth/no-auth-event"===(null==p?void 0:p.code)}function $a(y){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,u.Z)(function*(y,p={}){return Ze(y,"GET","/v1/projects",p)})).apply(this,arguments)}const Cc=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Dc=/^https?/;function Ga(){return(Ga=(0,u.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:p}=yield $a(y);for(const m of p)try{if(li(m))return}catch(E){}Ee(y,"unauthorized-domain")})).apply(this,arguments)}function li(y){const p=Dt(),{protocol:m,hostname:E}=new URL(p);if(y.startsWith("chrome-extension://")){const X=new URL(y);return""===X.hostname&&""===E?"chrome-extension:"===m&&y.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===m&&X.hostname===E}if(!Dc.test(m))return!1;if(Cc.test(y))return E===y;const S=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+S+"|"+S+")$","i").test(E)}const dm=new He(3e4,6e4);function Tl(){const y=gn().___jsl;if(null==y?void 0:y.H)for(const p of Object.keys(y.H))if(y.H[p].r=y.H[p].r||[],y.H[p].L=y.H[p].L||[],y.H[p].r=[...y.H[p].L],y.CP)for(let m=0;m<y.CP.length;m++)y.CP[m]=null}let Ic=null;function _f(y){return Ic=Ic||function Rd(y){return new Promise((p,m)=>{var E,S,P;function X(){Tl(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{Tl(),m(De(y,"network-request-failed"))},timeout:dm.get()})}if(null===(S=null===(E=gn().gapi)||void 0===E?void 0:E.iframes)||void 0===S?void 0:S.Iframe)p(gapi.iframes.getContext());else{if(!(null===(P=gn().gapi)||void 0===P?void 0:P.load)){const ue=wn("iframefcb");return gn()[ue]=()=>{gapi.load?X():m(De(y,"network-request-failed"))},sr(`https://apis.google.com/js/api.js?onload=${ue}`).catch(Ve=>m(Ve))}X()}}).catch(p=>{throw Ic=null,p})}(y),Ic}const fs=new He(5e3,15e3),O={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},L=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function te(y){const p=y.config;me(p.authDomain,y,"auth-domain-config-required");const m=p.emulator?Ge(p,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,E={apiKey:p.apiKey,appName:y.name,v:ie.SDK_VERSION},S=L.get(y.config.apiHost);S&&(E.eid=S);const P=y._getFrameworks();return P.length&&(E.fw=P.join(",")),`${m}?${(0,N.xO)(E).slice(1)}`}function Ie(){return Ie=(0,u.Z)(function*(y){const p=yield _f(y),m=gn().gapi;return me(m,y,"internal-error"),p.open({where:document.body,url:te(y),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:O,dontclear:!0},E=>new Promise(function(){var S=(0,u.Z)(function*(P,X){yield E.restyle({setHideOnLeave:!1});const ue=De(y,"network-request-failed"),Ve=gn().setTimeout(()=>{X(ue)},fs.get());function tt(){gn().clearTimeout(Ve),P(E)}E.ping(tt).then(tt,()=>{X(ue)})});return function(P,X){return S.apply(this,arguments)}}()))}),Ie.apply(this,arguments)}const st={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class wi{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(p){}}}const ci=encodeURIComponent("fac");function ps(y,p,m,E,S,P){return oa.apply(this,arguments)}function oa(){return(oa=(0,u.Z)(function*(y,p,m,E,S,P){me(y.config.authDomain,y,"auth-domain-config-required"),me(y.config.apiKey,y,"invalid-api-key");const X={apiKey:y.config.apiKey,appName:y.name,authType:m,redirectUrl:E,v:ie.SDK_VERSION,eventId:S};if(p instanceof rs){p.setDefaultLanguage(y.languageCode),X.providerId=p.providerId||"",(0,N.xb)(p.getCustomParameters())||(X.customParameters=JSON.stringify(p.getCustomParameters()));for(const[dt,ht]of Object.entries(P||{}))X[dt]=ht}if(p instanceof ba){const dt=p.getScopes().filter(ht=>""!==ht);dt.length>0&&(X.scopes=dt.join(","))}y.tenantId&&(X.tid=y.tenantId);const ue=X;for(const dt of Object.keys(ue))void 0===ue[dt]&&delete ue[dt];const Ve=yield y._getAppCheckToken(),tt=Ve?`#${ci}=${encodeURIComponent(Ve)}`:"";return`${aa(y)}?${(0,N.xO)(ue).slice(1)}${tt}`})).apply(this,arguments)}function aa({config:y}){return y.emulator?Ge(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}const hm="webStorageSupport";class vu extends class yf{constructor(p){this.factorId=p}_process(p,m,E){switch(m.type){case"enroll":return this._finalizeEnroll(p,m.credential,E);case"signin":return this._finalizeSignIn(p,m.credential);default:return At("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new vu(p)}_finalizeEnroll(p,m,E){return function vt(y,p){return Ze(y,"POST","/v2/accounts/mfaEnrollment:finalize",Gt(y,p))}(p,{idToken:m,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,m){return function pf(y,p){return Ze(y,"POST","/v2/accounts/mfaSignIn:finalize",Gt(y,p))}(p,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let vf=(()=>{class y{constructor(){}static assertion(m){return vu._fromCredential(m)}}return y.FACTOR_ID="phone",y})();var wf="@firebase/auth";class Cf{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var m=this;return(0,u.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const m=this.auth.onIdTokenChanged(E=>{p((null==E?void 0:E.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,m),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const m=this.internalListeners.get(p);!m||(this.internalListeners.delete(p),m(),this.updateProactiveRefresh())}assertAuthConfigured(){me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Ao(){return window}function If(){return(If=(0,u.Z)(function*(y,p,m){var E;const{BuildInfo:S}=Ao();Bt(p.sessionId,"AuthEvent did not contain a session ID");const P=yield Mc(p.sessionId),X={};return En()?X.ibi=S.packageName:Ft()?X.apn=S.packageName:Ee(y,"operation-not-supported-in-this-environment"),S.displayName&&(X.appDisplayName=S.displayName),X.sessionId=P,ps(y,m,p.type,void 0,null!==(E=p.eventId)&&void 0!==E?E:void 0,X)})).apply(this,arguments)}function Tf(){return(Tf=(0,u.Z)(function*(y){const{BuildInfo:p}=Ao(),m={};En()?m.iosBundleId=p.packageName:Ft()?m.androidPackageName=p.packageName:Ee(y,"operation-not-supported-in-this-environment"),yield $a(y,m)})).apply(this,arguments)}function Sf(){return(Sf=(0,u.Z)(function*(y,p,m){const{cordova:E}=Ao();let S=()=>{};try{yield new Promise((P,X)=>{let ue=null;function Ve(){var ht;P();const Yn=null===(ht=E.plugins.browsertab)||void 0===ht?void 0:ht.close;"function"==typeof Yn&&Yn(),"function"==typeof(null==m?void 0:m.close)&&m.close()}function tt(){ue||(ue=window.setTimeout(()=>{X(De(y,"redirect-cancelled-by-user"))},2e3))}function dt(){"visible"===(null==document?void 0:document.visibilityState)&&tt()}p.addPassiveListener(Ve),document.addEventListener("resume",tt,!1),Ft()&&document.addEventListener("visibilitychange",dt,!1),S=()=>{p.removePassiveListener(Ve),document.removeEventListener("resume",tt,!1),document.removeEventListener("visibilitychange",dt,!1),ue&&window.clearTimeout(ue)}})}finally{S()}})).apply(this,arguments)}function Mc(y){return wr.apply(this,arguments)}function wr(){return(wr=(0,u.Z)(function*(y){const p=Pd(y),m=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(m)).map(S=>S.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Pd(y){if(Bt(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(y);const p=new ArrayBuffer(y.length),m=new Uint8Array(p);for(let E=0;E<y.length;E++)m[E]=y.charCodeAt(E);return m}(0,N.Pz)("authIdTokenMaxAge"),function Od(y){(0,ie._registerComponent)(new W.wA("auth",(p,{options:m})=>{const E=p.getProvider("app").getImmediate(),S=p.getProvider("heartbeat"),P=p.getProvider("app-check-internal"),{apiKey:X,authDomain:ue}=E.options;me(X&&!X.includes(":"),"invalid-api-key",{appName:E.name}),me(!(null==ue?void 0:ue.includes(":")),"argument-error",{appName:E.name});const Ve={apiKey:X,authDomain:ue,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_e(y)},tt=new Br(E,S,P,Ve);return function ae(y,p){const m=(null==p?void 0:p.persistence)||[],E=(Array.isArray(m)?m:[m]).map(ir);(null==p?void 0:p.errorMap)&&y._updateErrorMap(p.errorMap),y._initializeWithPersistence(E,null==p?void 0:p.popupRedirectResolver)}(tt,m),tt},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,m,E)=>{p.getProvider("auth-internal").initialize()})),(0,ie._registerComponent)(new W.wA("auth-internal",p=>{const m=An(p.getProvider("auth").getImmediate());return new Cf(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ie.registerVersion)(wf,"0.23.1",function Df(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,ie.registerVersion)(wf,"0.23.1","esm2017")}("Browser");class ym extends wc{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(p)),super.onEvent(p)}initialized(){var p=this;return(0,u.Z)(function*(){yield p.initPromise})()}}function Nd(y){return wu.apply(this,arguments)}function wu(){return(wu=(0,u.Z)(function*(y){const p=yield xc()._get(Fd(y));return p&&(yield xc()._remove(Fd(y))),p})).apply(this,arguments)}function Mf(){const y=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<20;m++){const E=Math.floor(Math.random()*p.length);y.push(p.charAt(E))}return y.join("")}function xc(){return ir(Xo)}function Fd(y){return Y("authEvent",y.config.apiKey,y.name)}function Ld(y){if(!(null==y?void 0:y.includes("?")))return{};const[p,...m]=y.split("?");return(0,N.zd)(m.join("?"))}function Rc(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:De("no-auth-event")}}function Iu(){var y;return(null===(y=null==self?void 0:self.location)||void 0===y?void 0:y.protocol)||null}function vm(y=(0,N.z$)()){return!("file:"!==Iu()&&"ionic:"!==Iu()&&"capacitor:"!==Iu()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function Em(){try{const y=self.localStorage,p=Os();if(y)return y.setItem(p,"1"),y.removeItem(p),!function G_(y=(0,N.z$)()){return function $_(){return(0,N.w1)()&&11===(null==document?void 0:document.documentMode)}()||function Of(y=(0,N.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,N.hl)()}catch(y){return kf()&&(0,N.hl)()}return!1}function kf(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Pf(){return(function H_(){return"http:"===Iu()||"https:"===Iu()}()||(0,N.ru)()||vm())&&!function z_(){return(0,N.b$)()||(0,N.UG)()}()&&Em()&&!kf()}function bm(){return vm()&&"undefined"!=typeof document}function Cm(){return(Cm=(0,u.Z)(function*(){return!!bm()&&new Promise(y=>{const p=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(p),y(!0)})})})).apply(this,arguments)}const Gr={LOCAL:"local",NONE:"none",SESSION:"session"},Oi=me,Im="persistence";function Vd(y){return Tm.apply(this,arguments)}function Tm(){return(Tm=(0,u.Z)(function*(y){yield y._initializationPromise;const p=Tu(),m=Y(Im,y.config.apiKey,y.name);p&&p.setItem(m,y._getPersistence())})).apply(this,arguments)}function Tu(){var y;try{return(null===(y=function Dm(){return"undefined"!=typeof window?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch(p){return null}}const Nf=me;class xo{constructor(){this.browserResolver=ir(class Tc{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=us,this._completeRedirectFn=ra,this._overrideRedirectResult=eo}_openPopup(p,m,E,S){var P=this;return(0,u.Z)(function*(){var X;Bt(null===(X=P.eventManagers[p._key()])||void 0===X?void 0:X.manager,"_initialize() not called before _openPopup()");const ue=yield ps(p,m,E,Dt(),S);return function $r(y,p,m,E=500,S=600){const P=Math.max((window.screen.availHeight-S)/2,0).toString(),X=Math.max((window.screen.availWidth-E)/2,0).toString();let ue="";const Ve=Object.assign(Object.assign({},st),{width:E.toString(),height:S.toString(),top:P,left:X}),tt=(0,N.z$)().toLowerCase();m&&(ue=ut(tt)?"_blank":m),Pe(tt)&&(p=p||"http://localhost",Ve.scrollbars="yes");const dt=Object.entries(Ve).reduce((Yn,[ro,Mu])=>`${Yn}${ro}=${Mu},`,"");if(function vr(y=(0,N.z$)()){var p;return En(y)&&!!(null===(p=window.navigator)||void 0===p?void 0:p.standalone)}(tt)&&"_self"!==ue)return function no(y,p){const m=document.createElement("a");m.href=y,m.target=p;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(E)}(p||"",ue),new wi(null);const ht=window.open(p||"",ue,dt);me(ht,y,"popup-blocked");try{ht.focus()}catch(Yn){}return new wi(ht)}(p,ue,Os())})()}_openRedirect(p,m,E,S){var P=this;return(0,u.Z)(function*(){return yield P._originValidation(p),function ka(y){gn().location.href=y}(yield ps(p,m,E,Dt(),S)),new Promise(()=>{})})()}_initialize(p){const m=p._key();if(this.eventManagers[m]){const{manager:S,promise:P}=this.eventManagers[m];return S?Promise.resolve(S):(Bt(P,"If manager is not set, promise should be"),P)}const E=this.initAndGetManager(p);return this.eventManagers[m]={promise:E},E.catch(()=>{delete this.eventManagers[m]}),E}initAndGetManager(p){var m=this;return(0,u.Z)(function*(){const E=yield function ce(y){return Ie.apply(this,arguments)}(p),S=new wc(p);return E.register("authEvent",P=>(me(null==P?void 0:P.authEvent,p,"invalid-auth-event"),{status:S.onEvent(P.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[p._key()]={manager:S},m.iframes[p._key()]=E,S})()}_isIframeWebStorageSupported(p,m){this.iframes[p._key()].send(hm,{type:hm},S=>{var P;const X=null===(P=null==S?void 0:S[0])||void 0===P?void 0:P[hm];void 0!==X&&m(!!X),Ee(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function to(y){return Ga.apply(this,arguments)}(p)),this.originValidationPromises[m]}get _shouldInitProactively(){return Lr()||pe()||En()}}),this.cordovaResolver=ir(class xf{constructor(){this._redirectPersistence=us,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ra,this._overrideRedirectResult=eo}_initialize(p){var m=this;return(0,u.Z)(function*(){const E=p._key();let S=m.eventManagers.get(E);return S||(S=new ym(p),m.eventManagers.set(E,S),m.attachCallbackListeners(p,S)),S})()}_openPopup(p){Ee(p,"operation-not-supported-in-this-environment")}_openRedirect(p,m,E,S){var P=this;return(0,u.Z)(function*(){!function Af(y){var p,m,E,S,P,X,ue,Ve,tt,dt;const ht=Ao();me("function"==typeof(null===(p=null==ht?void 0:ht.universalLinks)||void 0===p?void 0:p.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),me(void 0!==(null===(m=null==ht?void 0:ht.BuildInfo)||void 0===m?void 0:m.packageName),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),me("function"==typeof(null===(P=null===(S=null===(E=null==ht?void 0:ht.cordova)||void 0===E?void 0:E.plugins)||void 0===S?void 0:S.browsertab)||void 0===P?void 0:P.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),me("function"==typeof(null===(Ve=null===(ue=null===(X=null==ht?void 0:ht.cordova)||void 0===X?void 0:X.plugins)||void 0===ue?void 0:ue.browsertab)||void 0===Ve?void 0:Ve.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),me("function"==typeof(null===(dt=null===(tt=null==ht?void 0:ht.cordova)||void 0===tt?void 0:tt.InAppBrowser)||void 0===dt?void 0:dt.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const X=yield P._initialize(p);yield X.initialized(),X.resetRedirect(),function Md(){Xs.clear()}(),yield P._originValidation(p);const ue=function Di(y,p,m=null){return{type:p,eventId:m,urlResponse:null,sessionId:Mf(),postBody:null,tenantId:y.tenantId,error:De(y,"no-auth-event")}}(p,E,S);yield function bu(y,p){return xc()._set(Fd(y),p)}(p,ue);const Ve=yield function mm(y,p,m){return If.apply(this,arguments)}(p,ue,m),tt=yield function kd(y){const{cordova:p}=Ao();return new Promise(m=>{p.plugins.browsertab.isAvailable(E=>{let S=null;E?p.plugins.browsertab.openUrl(y):S=p.InAppBrowser.open(y,function qt(y=(0,N.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),m(S)})})}(Ve);return function gm(y,p,m){return Sf.apply(this,arguments)}(p,X,tt)})()}_isIframeWebStorageSupported(p,m){throw new Error("Method not implemented.")}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function F_(y){return Tf.apply(this,arguments)}(p)),this.originValidationPromises[m]}attachCallbackListeners(p,m){const{universalLinks:E,handleOpenURL:S,BuildInfo:P}=Ao(),X=setTimeout((0,u.Z)(function*(){yield Nd(p),m.onEvent(Rc())}),500),ue=function(){var dt=(0,u.Z)(function*(ht){clearTimeout(X);const Yn=yield Nd(p);let ro=null;Yn&&(null==ht?void 0:ht.url)&&(ro=function L_(y,p){var m,E;const S=function Cu(y){const p=Ld(y),m=p.link?decodeURIComponent(p.link):void 0,E=Ld(m).link,S=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return Ld(S).link||S||E||m||y}(p);if(S.includes("/__/auth/callback")){const P=Ld(S),X=P.firebaseError?function B_(y){try{return JSON.parse(y)}catch(p){return null}}(decodeURIComponent(P.firebaseError)):null,ue=null===(E=null===(m=null==X?void 0:X.code)||void 0===m?void 0:m.split("auth/"))||void 0===E?void 0:E[1],Ve=ue?De(ue):null;return Ve?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Ve,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:S,postBody:null}}return null}(Yn,ht.url)),m.onEvent(ro||Rc())});return function(Yn){return dt.apply(this,arguments)}}();void 0!==E&&"function"==typeof E.subscribe&&E.subscribe(null,ue);const Ve=S,tt=`${P.packageName.toLowerCase()}://`;Ao().handleOpenURL=function(){var dt=(0,u.Z)(function*(ht){if(ht.toLowerCase().startsWith(tt)&&ue({url:ht}),"function"==typeof Ve)try{Ve(ht)}catch(Yn){console.error(Yn)}});return function(ht){return dt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=us,this._completeRedirectFn=ra,this._overrideRedirectResult=eo}_initialize(p){var m=this;return(0,u.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,m,E,S){var P=this;return(0,u.Z)(function*(){return yield P.selectUnderlyingResolver(),P.assertedUnderlyingResolver._openPopup(p,m,E,S)})()}_openRedirect(p,m,E,S){var P=this;return(0,u.Z)(function*(){return yield P.selectUnderlyingResolver(),P.assertedUnderlyingResolver._openRedirect(p,m,E,S)})()}_isIframeWebStorageSupported(p,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,m)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return bm()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Nf(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,u.Z)(function*(){if(p.underlyingResolver)return;const m=yield function wm(){return Cm.apply(this,arguments)}();p.underlyingResolver=m?p.cordovaResolver:p.browserResolver})()}}function Ff(y){return y.unwrap()}function Sm(y){return Au(y)}function Au(y){const{_tokenResponse:p}=y instanceof N.ZR?y.customData:y;if(!p)return null;if(!(y instanceof N.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return Ps.credentialFromResult(y);const m=p.providerId;if(!m||"password"===m)return null;let E;switch(m){case"google.com":E=Vn;break;case"facebook.com":E=sm;break;case"github.com":E=su;break;case"twitter.com":E=Ca;break;default:const{oauthIdToken:S,oauthAccessToken:P,oauthTokenSecret:X,pendingToken:ue,nonce:Ve}=p;return P||X||S||ue?ue?m.startsWith("saml.")?Dn._create(m,ue):Is._fromParams({providerId:m,signInMethod:m,pendingToken:ue,idToken:S,accessToken:P}):new Ts(m).credential({idToken:S,accessToken:P,rawNonce:Ve}):null}return y instanceof N.ZR?E.credentialFromError(y):E.credentialFromResult(y)}function Ii(y,p){return p.catch(m=>{throw m instanceof N.ZR&&function Ud(y,p){var m;const E=null===(m=p.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===(null==p?void 0:p.code))p.resolver=new Oc(y,function Cd(y,p){var m;const E=(0,N.m9)(y),S=p;return me(p.customData.operationType,E,"argument-error"),me(null===(m=S.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,E,"argument-error"),ls._fromError(E,S)}(y,p));else if(E){const S=Au(p),P=p;S&&(P.credential=S,P.tenantId=E.tenantId||void 0,P.email=E.email||void 0,P.phoneNumber=E.phoneNumber||void 0)}}(y,m),m}).then(m=>{const S=m.user;return{operationType:m.operationType,credential:Sm(m),additionalUserInfo:Qo(m),user:Bs.getOrCreate(S)}})}function jd(y,p){return Am.apply(this,arguments)}function Am(){return(Am=(0,u.Z)(function*(y,p){const m=yield p;return{verificationId:m.verificationId,confirm:E=>Ii(y,m.confirm(E))}})).apply(this,arguments)}class Oc{constructor(p,m){this.resolver=m,this.auth=function Su(y){return y.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return Ii(Ff(this.auth),this.resolver.resolveSignIn(p))}}class Bs{constructor(p){this._delegate=p,this.multiFactor=function Rr(y){const p=(0,N.m9)(y);return dl.has(p)||dl.set(p,Rs._fromUser(p)),dl.get(p)}(p)}static getOrCreate(p){return Bs.USER_MAP.has(p)||Bs.USER_MAP.set(p,new Bs(p)),Bs.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var m=this;return(0,u.Z)(function*(){return Ii(m.auth,yd(m._delegate,p))})()}linkWithPhoneNumber(p,m){var E=this;return(0,u.Z)(function*(){return jd(E.auth,function Sd(y,p,m){return Ei.apply(this,arguments)}(E._delegate,p,m))})()}linkWithPopup(p){var m=this;return(0,u.Z)(function*(){return Ii(m.auth,function zr(y,p,m){return Ns.apply(this,arguments)}(m._delegate,p,xo))})()}linkWithRedirect(p){var m=this;return(0,u.Z)(function*(){return yield Vd(An(m.auth)),function Il(y,p,m){return function gf(y,p,m){return vc.apply(this,arguments)}(y,p,m)}(m._delegate,p,xo)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var m=this;return(0,u.Z)(function*(){return Ii(m.auth,al(m._delegate,p))})()}reauthenticateWithPhoneNumber(p,m){return jd(this.auth,function dc(y,p,m){return vl.apply(this,arguments)}(this._delegate,p,m))}reauthenticateWithPopup(p){return Ii(this.auth,function fn(y,p,m){return na.apply(this,arguments)}(this._delegate,p,xo))}reauthenticateWithRedirect(p){var m=this;return(0,u.Z)(function*(){return yield Vd(An(m.auth)),function mf(y,p,m){return function yc(y,p,m){return So.apply(this,arguments)}(y,p,m)}(m._delegate,p,xo)})()}sendEmailVerification(p){return function Vr(y,p){return _i.apply(this,arguments)}(this._delegate,p)}unlink(p){var m=this;return(0,u.Z)(function*(){return yield function Da(y,p){return gi.apply(this,arguments)}(m._delegate,p),m})()}updateEmail(p){return function bd(y,p){return nc((0,N.m9)(y),p,null)}(this._delegate,p)}updatePassword(p){return function cl(y,p){return nc((0,N.m9)(y),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function fr(y,p){return bi.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function af(y,p){return tc.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,m){return function jn(y,p,m){return ec.apply(this,arguments)}(this._delegate,p,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Bs.USER_MAP=new WeakMap;const kc=me;let Mm=(()=>{class y{constructor(m,E){if(this.app=m,E.isInitialized())return this._delegate=E.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:S}=m.options;kc(S,"invalid-api-key",{appName:m.name}),kc(S,"invalid-api-key",{appName:m.name});const P="undefined"!=typeof window?xo:void 0;this._delegate=E.initialize({options:{persistence:q_(S,m.name),popupRedirectResolver:P}}),this._delegate._updateErrorMap(Oe),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Bs.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,E){!function Ce(y,p,m){const E=An(y);me(E._canInitEmulator,E,"emulator-config-failed"),me(/^https?:\/\//.test(p),E,"invalid-emulator-scheme");const S=!!(null==m?void 0:m.disableWarnings),P=Je(p),{host:X,port:ue}=function Ye(y){const p=Je(y),m=/(\/\/)?([^?#/]+)/.exec(y.substr(p.length));if(!m)return{host:"",port:null};const E=m[2].split("@").pop()||"",S=/^(\[[^\]]+\])(:|$)/.exec(E);if(S){const P=S[1];return{host:P,port:jt(E.substr(P.length+1))}}{const[P,X]=E.split(":");return{host:P,port:jt(X)}}}(p);E.config.emulator={url:`${P}//${X}${null===ue?"":`:${ue}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:X,port:ue,protocol:P.replace(":",""),options:Object.freeze({disableWarnings:S})}),S||function or(){function y(){const p=document.createElement("p"),m=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,m,E)}applyActionCode(m){return function rf(y,p){return Ms.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return Ql(this._delegate,m)}confirmPasswordReset(m,E){return function Ma(y,p,m){return as.apply(this,arguments)}(this._delegate,m,E)}createUserWithEmailAndPassword(m,E){var S=this;return(0,u.Z)(function*(){return Ii(S._delegate,function cu(y,p,m){return Ko.apply(this,arguments)}(S._delegate,m,E))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function xs(y,p){return Jl.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function vd(y,p){const m=Ea.parseLink(p);return"EMAIL_SIGNIN"===(null==m?void 0:m.operation)}(0,m)}getRedirectResult(){var m=this;return(0,u.Z)(function*(){kc(Pf(),m._delegate,"operation-not-supported-in-this-environment");const E=yield function Ec(y,p){return Ha.apply(this,arguments)}(m._delegate,xo);return E?Ii(m._delegate,Promise.resolve(E)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function Rf(y,p){An(y)._logFramework(p)}(this._delegate,m)}onAuthStateChanged(m,E,S){const{next:P,error:X,complete:ue}=Ti(m,E,S);return this._delegate.onAuthStateChanged(P,X,ue)}onIdTokenChanged(m,E,S){const{next:P,error:X,complete:ue}=Ti(m,E,S);return this._delegate.onIdTokenChanged(P,X,ue)}sendSignInLinkToEmail(m,E){return function uu(y,p,m){return Eo.apply(this,arguments)}(this._delegate,m,E)}sendPasswordResetEmail(m,E){return function Ks(y,p,m){return Aa.apply(this,arguments)}(this._delegate,m,E||void 0)}setPersistence(m){var E=this;return(0,u.Z)(function*(){let S;switch(function ub(y,p){Oi(Object.values(Gr).includes(p),y,"invalid-persistence-type"),(0,N.b$)()?Oi(p!==Gr.SESSION,y,"unsupported-persistence-type"):(0,N.UG)()?Oi(p===Gr.NONE,y,"unsupported-persistence-type"):kf()?Oi(p===Gr.NONE||p===Gr.LOCAL&&(0,N.hl)(),y,"unsupported-persistence-type"):Oi(p===Gr.NONE||Em(),y,"unsupported-persistence-type")}(E._delegate,m),m){case Gr.SESSION:S=us;break;case Gr.LOCAL:S=(yield ir(ea)._isAvailable())?ea:Xo;break;case Gr.NONE:S=dr;break;default:return Ee("argument-error",{appName:E._delegate.name})}return E._delegate.setPersistence(S)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return Ii(this._delegate,function xi(y){return Go.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return Ii(this._delegate,Ue(this._delegate,m))}signInWithCustomToken(m){return Ii(this._delegate,function _o(y,p){return As.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,E){return Ii(this._delegate,function om(y,p,m){return Ue((0,N.m9)(y),iu.credential(p,m))}(this._delegate,m,E))}signInWithEmailLink(m,E){return Ii(this._delegate,function Mr(y,p,m){return du.apply(this,arguments)}(this._delegate,m,E))}signInWithPhoneNumber(m,E){return jd(this._delegate,function Pa(y,p,m){return uc.apply(this,arguments)}(this._delegate,m,E))}signInWithPopup(m){var E=this;return(0,u.Z)(function*(){return kc(Pf(),E._delegate,"operation-not-supported-in-this-environment"),Ii(E._delegate,function La(y,p,m){return ji.apply(this,arguments)}(E._delegate,m,xo))})()}signInWithRedirect(m){var E=this;return(0,u.Z)(function*(){return kc(Pf(),E._delegate,"operation-not-supported-in-this-environment"),yield Vd(E._delegate),function Dl(y,p,m){return function gc(y,p,m){return _c.apply(this,arguments)}(y,p,m)}(E._delegate,m,xo)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function Xl(y,p){return vo.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=Gr,y})();function Ti(y,p,m){let E=y;"function"!=typeof y&&({next:E,error:p,complete:m}=y);const S=E;return{next:X=>S(X&&Bs.getOrCreate(X)),error:p,complete:m}}function q_(y,p){const m=function Mo(y,p){const m=Tu();if(!m)return[];const E=Y(Im,y,p);switch(m.getItem(E)){case Gr.NONE:return[dr];case Gr.LOCAL:return[ea,us];case Gr.SESSION:return[us];default:return[]}}(y,p);if("undefined"!=typeof self&&!m.includes(ea)&&m.push(ea),"undefined"!=typeof window)for(const E of[Xo,us])m.includes(E)||m.push(E);return m.includes(dr)||m.push(dr),m}class Hd{constructor(){this.providerId="phone",this._delegate=new Ps(Ff(q.Z.auth()))}static credential(p,m){return Ps.credential(p,m)}verifyPhoneNumber(p,m){return this._delegate.verifyPhoneNumber(p,m)}unwrap(){return this._delegate}}Hd.PHONE_SIGN_IN_METHOD=Ps.PHONE_SIGN_IN_METHOD,Hd.PROVIDER_ID=Ps.PROVIDER_ID;const Lf=me;class Bf{constructor(p,m,E=q.Z.app()){var S;Lf(null===(S=E.options)||void 0===S?void 0:S.apiKey,"invalid-api-key",{appName:E.name}),this._delegate=new Ys(p,m,E.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function W_(y){y.INTERNAL.registerComponent(new W.wA("auth-compat",p=>{const m=p.getProvider("app-compat").getImmediate(),E=p.getProvider("auth");return new Mm(m,E)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:iu,FacebookAuthProvider:sm,GithubAuthProvider:su,GoogleAuthProvider:Vn,OAuthProvider:Ts,SAMLAuthProvider:wa,PhoneAuthProvider:Hd,PhoneMultiFactorGenerator:vf,RecaptchaVerifier:Bf,TwitterAuthProvider:Ca,Auth:Mm,AuthCredential:Cn,Error:N.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.4.1")}(q.Z)},5861:(re,H,M)=>{function u(N,ie,z,se,W,ne,K){try{var V=N[ne](K),U=V.value}catch(Q){return void z(Q)}V.done?ie(U):Promise.resolve(U).then(se,W)}function q(N){return function(){var ie=this,z=arguments;return new Promise(function(se,W){var ne=N.apply(ie,z);function K(U){u(ne,se,W,K,V,"next",U)}function V(U){u(ne,se,W,K,V,"throw",U)}K(void 0)})}}M.d(H,{Z:()=>q})}},re=>{re(re.s=9108)}]);